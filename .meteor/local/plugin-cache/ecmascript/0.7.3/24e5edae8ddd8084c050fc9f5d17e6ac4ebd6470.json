{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"lodash/includes","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"_includes"}]},{"source":"/server/api","imported":["Hooks","Logger"],"specifiers":[{"kind":"named","imported":"Hooks","local":"Hooks"},{"kind":"named","imported":"Logger","local":"Logger"}]},{"source":"/imports/plugins/core/versions","imported":["Migrations"],"specifiers":[{"kind":"named","imported":"Migrations","local":"Migrations"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/core/versions/server/startup.js","filenameRelative":"/imports/plugins/core/versions/server/startup.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/core/versions/server/startup.js"],"names":["Hooks","Logger","Migrations","reactionLogger","opts","level","message","config","logger","log","logIfLatest","collectionName","Events","add","migrateTo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAO,AAAc,AAC9B,AAAS,AAAkB;;AAE3B,SAAA,AAAS,eAAT,AAAwB,MAAM,AAC5B;MAAI,AAAW,UAAC,CAAD,AAAS,QAAT,AAAiB,QAA5B,AAAW,AAA2B,UAAK,KAA/C,AAAI,AAAmD,QACrD;WAAO,KAAP,AAAY,OAAO,KAAnB,AAAwB,AACzB;AACF;;;AAED,WAAA,AAAW;UAAO,AACR,AACR;OAFgB,AAEX,AACL;eAHgB,AAGH,AACb;kBAJF,AAAkB,AAIA,AAGlB,AAAM,AAAO,AAAI,AAAiB,AAAM;AAPtB,AAChB;AAOA,aAAW,IAAX,AAAqB,6BADvB,AAEC","file":"/imports/plugins/core/versions/server/startup.js.map","sourcesContent":["import _ from \"lodash\";\nimport { Hooks, Logger } from \"/server/api\";\nimport { Migrations } from \"/imports/plugins/core/versions\";\n\nfunction reactionLogger(opts) {\n  if (_.includes([\"warn\", \"info\", \"error\"], opts.level)) {\n    Logger[opts.level](opts.message);\n  }\n}\n\nMigrations.config({\n  logger: reactionLogger,\n  log: true,\n  logIfLatest: false,\n  collectionName: \"Migrations\"\n});\n\nHooks.Events.add(\"afterCoreInit\", () => {\n  Migrations.migrateTo(\"latest\");\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/core/versions/server/startup.js.map","sourceFileName":"/imports/plugins/core/versions/server/startup.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"startup"},"ignored":false,"code":"var _includes = void 0;\n\nmodule.importSync(\"lodash/includes\", {\n  \"default\": function (v) {\n    _includes = v;\n  }\n}, 0);\nvar Hooks = void 0,\n    Logger = void 0;\nmodule.importSync(\"/server/api\", {\n  Hooks: function (v) {\n    Hooks = v;\n  },\n  Logger: function (v) {\n    Logger = v;\n  }\n}, 1);\nvar Migrations = void 0;\nmodule.importSync(\"/imports/plugins/core/versions\", {\n  Migrations: function (v) {\n    Migrations = v;\n  }\n}, 2);\n\nfunction reactionLogger(opts) {\n  if (_includes([\"warn\", \"info\", \"error\"], opts.level)) {\n    Logger[opts.level](opts.message);\n  }\n}\n\nMigrations.config({\n  logger: reactionLogger,\n  log: true,\n  logIfLatest: false,\n  collectionName: \"Migrations\"\n});\nHooks.Events.add(\"afterCoreInit\", function () {\n  Migrations.migrateTo(\"latest\");\n});","map":{"version":3,"sources":["/imports/plugins/core/versions/server/startup.js"],"names":["Hooks","Logger","Migrations","reactionLogger","opts","level","message","config","logger","log","logIfLatest","collectionName","Events","add","migrateTo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAO,AAAc,AAC9B,AAAS,AAAkB;;AAE3B,SAAA,AAAS,eAAT,AAAwB,MAAM,AAC5B;MAAI,AAAW,UAAC,CAAD,AAAS,QAAT,AAAiB,QAA5B,AAAW,AAA2B,UAAK,KAA/C,AAAI,AAAmD,QACrD;WAAO,KAAP,AAAY,OAAO,KAAnB,AAAwB,AACzB;AACF;;;AAED,WAAA,AAAW;UAAO,AACR,AACR;OAFgB,AAEX,AACL;eAHgB,AAGH,AACb;kBAJF,AAAkB,AAIA,AAGlB,AAAM,AAAO,AAAI,AAAiB,AAAM;AAPtB,AAChB;AAOA,aAAW,IAAX,AAAqB,6BADvB,AAEC","file":"/imports/plugins/core/versions/server/startup.js.map","sourcesContent":["import _ from \"lodash\";\nimport { Hooks, Logger } from \"/server/api\";\nimport { Migrations } from \"/imports/plugins/core/versions\";\n\nfunction reactionLogger(opts) {\n  if (_.includes([\"warn\", \"info\", \"error\"], opts.level)) {\n    Logger[opts.level](opts.message);\n  }\n}\n\nMigrations.config({\n  logger: reactionLogger,\n  log: true,\n  logIfLatest: false,\n  collectionName: \"Migrations\"\n});\n\nHooks.Events.add(\"afterCoreInit\", () => {\n  Migrations.migrateTo(\"latest\");\n});\n"]},"hash":"24e5edae8ddd8084c050fc9f5d17e6ac4ebd6470"}
