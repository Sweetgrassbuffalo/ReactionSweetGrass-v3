{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["CardGroup","CardToolbar","FlatButton","Form","List","ListItem","SettingsCard"],"specifiers":[{"kind":"named","imported":"CardGroup","local":"CardGroup"},{"kind":"named","imported":"CardToolbar","local":"CardToolbar"},{"kind":"named","imported":"FlatButton","local":"FlatButton"},{"kind":"named","imported":"Form","local":"Form"},{"kind":"named","imported":"List","local":"List"},{"kind":"named","imported":"ListItem","local":"ListItem"},{"kind":"named","imported":"SettingsCard","local":"SettingsCard"}]},{"source":"/lib/collections/schemas/shops","imported":["Shop"],"specifiers":[{"kind":"named","imported":"Shop","local":"ShopSchema"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/core/i18n/client/components/localizationSettings.js","filenameRelative":"/imports/plugins/core/i18n/client/components/localizationSettings.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/core/i18n/client/components/localizationSettings.js"],"names":["React","Component","PropTypes","CardGroup","CardToolbar","FlatButton","Form","List","ListItem","SettingsCard","Shop","ShopSchema","PACKAGE_NAME","LocalizationSettings","propTypes","currencies","array","currencyOptions","enabledLanguages","languages","onEnableAllCurrencies","func","onEnableAllLanguages","onUpdateCurrencyConfiguration","onUpdateLanguageConfiguration","onUpdateLocalization","shop","object","timezoneOptions","uomOptions","renderCurrencies","props","map","currency","key","label","enabled","name","renderLanguages","language","value","handleSubmit","event","formData","doc","handleAllOn","handleAllOff","renderListControls","render","timezone","type","options","baseUOM"],"mappings":"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","file":"/imports/plugins/core/i18n/client/components/localizationSettings.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport {\n  CardGroup,\n  CardToolbar,\n  FlatButton,\n  Form,\n  List,\n  ListItem,\n  SettingsCard\n} from \"/imports/plugins/core/ui/client/components\";\n\nimport { Shop as ShopSchema } from \"/lib/collections/schemas/shops\";\n\nconst PACKAGE_NAME = \"reaction-i18n\";\n\nclass LocalizationSettings extends Component {\n  static propTypes = {\n    currencies: PropTypes.array,\n    currencyOptions: PropTypes.array,\n    enabledLanguages: PropTypes.array,\n    languages: PropTypes.array,\n    onEnableAllCurrencies: PropTypes.func,\n    onEnableAllLanguages: PropTypes.func,\n    onUpdateCurrencyConfiguration: PropTypes.func,\n    onUpdateLanguageConfiguration: PropTypes.func,\n    onUpdateLocalization: PropTypes.func,\n    shop: PropTypes.object, // Shop data\n    timezoneOptions: PropTypes.array,\n    uomOptions: PropTypes.array\n  }\n\n  renderCurrencies() {\n    return this.props.currencies.map((currency, key) => {\n      return (\n        <ListItem\n          actionType={\"switch\"}\n          key={key}\n          label={currency.label}\n          switchOn={currency.enabled}\n          switchName={currency.name}\n          onSwitchChange={this.props.onUpdateCurrencyConfiguration}\n        />\n      );\n    });\n  }\n\n  renderLanguages() {\n    return this.props.languages.map((language, key) => {\n      return (\n        <ListItem\n          actionType={\"switch\"}\n          key={key}\n          label={language.label}\n          switchOn={language.enabled}\n          switchName={language.value}\n          onSwitchChange={this.props.onUpdateLanguageConfiguration}\n        />\n      );\n    });\n  }\n\n  handleSubmit = (event, formData) => {\n    if (typeof this.props.onUpdateLocalization === \"function\") {\n      this.props.onUpdateLocalization(formData.doc);\n    }\n  }\n\n  handleAllOn = (event, name) => {\n    if (name === \"language\") {\n      if (typeof this.props.onEnableAllLanguages === \"function\") {\n        this.props.onEnableAllLanguages(true);\n      }\n    } else if (name === \"currency\") {\n      if (typeof this.props.onEnableAllCurrencies === \"function\") {\n        this.props.onEnableAllCurrencies(true);\n      }\n    }\n  }\n\n  handleAllOff = (event, name) => {\n    if (name === \"language\") {\n      if (typeof this.props.onEnableAllLanguages === \"function\") {\n        this.props.onEnableAllLanguages(false);\n      }\n    } else if (name === \"currency\") {\n      if (typeof this.props.onEnableAllCurrencies === \"function\") {\n        this.props.onEnableAllCurrencies(false);\n      }\n    }\n  }\n\n  renderListControls(name) {\n    return (\n      <CardToolbar>\n        <FlatButton\n          i18nKeyLabel={\"all.allOn\"}\n          label=\"All On\"\n          value={name}\n          onClick={this.handleAllOn}\n        />\n        { \"|\" }\n        <FlatButton\n          i18nKeyLabel={\"all.allOff\"}\n          label=\"All Off\"\n          value={name}\n          onClick={this.handleAllOff}\n        />\n      </CardToolbar>\n    );\n  }\n\n  render() {\n    return (\n      <CardGroup>\n        <SettingsCard\n          i18nKeyTitle=\"i18nSettings.localization\"\n          name=\"localization\"\n          packageName={PACKAGE_NAME}\n          saveOpenStateToPreferences={true}\n          showSwitch={false}\n          title=\"Shop Localization\"\n        >\n          <Form\n            autoSave={true}\n            schema={ShopSchema}\n            doc={this.props.shop}\n            fields={{\n              timezone: {\n                type: \"select\",\n                options: this.props.timezoneOptions\n              },\n              currency: {\n                type: \"select\",\n                options: this.props.currencyOptions\n              },\n              baseUOM: {\n                type: \"select\",\n                options: this.props.uomOptions\n              },\n              language: {\n                type: \"select\",\n                options: this.props.enabledLanguages\n              }\n            }}\n            name=\"localization\"\n            onSubmit={this.handleSubmit}\n          />\n        </SettingsCard>\n        <SettingsCard\n          i18nKeyTitle=\"admin.i18nSettings.enabledLanguages\"\n          name=\"languages\"\n          padded={false}\n          packageName={PACKAGE_NAME}\n          saveOpenStateToPreferences={true}\n          showSwitch={false}\n          title=\"Languages\"\n        >\n          {this.renderListControls(\"language\")}\n          <List>\n            {this.renderLanguages()}\n          </List>\n        </SettingsCard>\n        <SettingsCard\n          i18nKeyTitle=\"i18nSettings.enabledCurrencies\"\n          padded={false}\n          packageName={PACKAGE_NAME}\n          name=\"currencies\"\n          saveOpenStateToPreferences={true}\n          showSwitch={false}\n          title=\"Currencies\"\n        >\n          {this.renderListControls(\"currency\")}\n          <List>\n            {this.renderCurrencies()}\n          </List>\n        </SettingsCard>\n      </CardGroup>\n    );\n  }\n}\n\nexport default LocalizationSettings;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/core/i18n/client/components/localizationSettings.js.map","sourceFileName":"/imports/plugins/core/i18n/client/components/localizationSettings.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"localizationSettings"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar CardGroup = void 0,\n    CardToolbar = void 0,\n    FlatButton = void 0,\n    Form = void 0,\n    List = void 0,\n    ListItem = void 0,\n    SettingsCard = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  CardGroup: function (v) {\n    CardGroup = v;\n  },\n  CardToolbar: function (v) {\n    CardToolbar = v;\n  },\n  FlatButton: function (v) {\n    FlatButton = v;\n  },\n  Form: function (v) {\n    Form = v;\n  },\n  List: function (v) {\n    List = v;\n  },\n  ListItem: function (v) {\n    ListItem = v;\n  },\n  SettingsCard: function (v) {\n    SettingsCard = v;\n  }\n}, 1);\nvar ShopSchema = void 0;\nmodule.importSync(\"/lib/collections/schemas/shops\", {\n  Shop: function (v) {\n    ShopSchema = v;\n  }\n}, 2);\nvar PACKAGE_NAME = \"reaction-i18n\";\n\nvar LocalizationSettings = function (_Component) {\n  (0, _inherits3.default)(LocalizationSettings, _Component);\n\n  function LocalizationSettings() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, LocalizationSettings);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleSubmit = function (event, formData) {\n      if (typeof _this.props.onUpdateLocalization === \"function\") {\n        _this.props.onUpdateLocalization(formData.doc);\n      }\n    }, _this.handleAllOn = function (event, name) {\n      if (name === \"language\") {\n        if (typeof _this.props.onEnableAllLanguages === \"function\") {\n          _this.props.onEnableAllLanguages(true);\n        }\n      } else if (name === \"currency\") {\n        if (typeof _this.props.onEnableAllCurrencies === \"function\") {\n          _this.props.onEnableAllCurrencies(true);\n        }\n      }\n    }, _this.handleAllOff = function (event, name) {\n      if (name === \"language\") {\n        if (typeof _this.props.onEnableAllLanguages === \"function\") {\n          _this.props.onEnableAllLanguages(false);\n        }\n      } else if (name === \"currency\") {\n        if (typeof _this.props.onEnableAllCurrencies === \"function\") {\n          _this.props.onEnableAllCurrencies(false);\n        }\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  LocalizationSettings.prototype.renderCurrencies = function () {\n    function renderCurrencies() {\n      var _this2 = this;\n\n      return this.props.currencies.map(function (currency, key) {\n        return React.createElement(ListItem, {\n          actionType: \"switch\",\n          key: key,\n          label: currency.label,\n          switchOn: currency.enabled,\n          switchName: currency.name,\n          onSwitchChange: _this2.props.onUpdateCurrencyConfiguration\n        });\n      });\n    }\n\n    return renderCurrencies;\n  }();\n\n  LocalizationSettings.prototype.renderLanguages = function () {\n    function renderLanguages() {\n      var _this3 = this;\n\n      return this.props.languages.map(function (language, key) {\n        return React.createElement(ListItem, {\n          actionType: \"switch\",\n          key: key,\n          label: language.label,\n          switchOn: language.enabled,\n          switchName: language.value,\n          onSwitchChange: _this3.props.onUpdateLanguageConfiguration\n        });\n      });\n    }\n\n    return renderLanguages;\n  }();\n\n  LocalizationSettings.prototype.renderListControls = function () {\n    function renderListControls(name) {\n      return React.createElement(\n        CardToolbar,\n        null,\n        React.createElement(FlatButton, {\n          i18nKeyLabel: \"all.allOn\",\n          label: \"All On\",\n          value: name,\n          onClick: this.handleAllOn\n        }),\n        \"|\",\n        React.createElement(FlatButton, {\n          i18nKeyLabel: \"all.allOff\",\n          label: \"All Off\",\n          value: name,\n          onClick: this.handleAllOff\n        })\n      );\n    }\n\n    return renderListControls;\n  }();\n\n  LocalizationSettings.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        CardGroup,\n        null,\n        React.createElement(\n          SettingsCard,\n          {\n            i18nKeyTitle: \"i18nSettings.localization\",\n            name: \"localization\",\n            packageName: PACKAGE_NAME,\n            saveOpenStateToPreferences: true,\n            showSwitch: false,\n            title: \"Shop Localization\"\n          },\n          React.createElement(Form, {\n            autoSave: true,\n            schema: ShopSchema,\n            doc: this.props.shop,\n            fields: {\n              timezone: {\n                type: \"select\",\n                options: this.props.timezoneOptions\n              },\n              currency: {\n                type: \"select\",\n                options: this.props.currencyOptions\n              },\n              baseUOM: {\n                type: \"select\",\n                options: this.props.uomOptions\n              },\n              language: {\n                type: \"select\",\n                options: this.props.enabledLanguages\n              }\n            },\n            name: \"localization\",\n            onSubmit: this.handleSubmit\n          })\n        ),\n        React.createElement(\n          SettingsCard,\n          {\n            i18nKeyTitle: \"admin.i18nSettings.enabledLanguages\",\n            name: \"languages\",\n            padded: false,\n            packageName: PACKAGE_NAME,\n            saveOpenStateToPreferences: true,\n            showSwitch: false,\n            title: \"Languages\"\n          },\n          this.renderListControls(\"language\"),\n          React.createElement(\n            List,\n            null,\n            this.renderLanguages()\n          )\n        ),\n        React.createElement(\n          SettingsCard,\n          {\n            i18nKeyTitle: \"i18nSettings.enabledCurrencies\",\n            padded: false,\n            packageName: PACKAGE_NAME,\n            name: \"currencies\",\n            saveOpenStateToPreferences: true,\n            showSwitch: false,\n            title: \"Currencies\"\n          },\n          this.renderListControls(\"currency\"),\n          React.createElement(\n            List,\n            null,\n            this.renderCurrencies()\n          )\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  return LocalizationSettings;\n}(Component);\n\nLocalizationSettings.propTypes = {\n  currencies: PropTypes.array,\n  currencyOptions: PropTypes.array,\n  enabledLanguages: PropTypes.array,\n  languages: PropTypes.array,\n  onEnableAllCurrencies: PropTypes.func,\n  onEnableAllLanguages: PropTypes.func,\n  onUpdateCurrencyConfiguration: PropTypes.func,\n  onUpdateLanguageConfiguration: PropTypes.func,\n  onUpdateLocalization: PropTypes.func,\n  shop: PropTypes.object,\n  // Shop data\n  timezoneOptions: PropTypes.array,\n  uomOptions: PropTypes.array\n};\nmodule.export(\"default\", exports.default = LocalizationSettings);","map":{"version":3,"sources":["/imports/plugins/core/i18n/client/components/localizationSettings.js"],"names":["React","Component","PropTypes","CardGroup","CardToolbar","FlatButton","Form","List","ListItem","SettingsCard","Shop","ShopSchema","PACKAGE_NAME","LocalizationSettings","propTypes","currencies","array","currencyOptions","enabledLanguages","languages","onEnableAllCurrencies","func","onEnableAllLanguages","onUpdateCurrencyConfiguration","onUpdateLanguageConfiguration","onUpdateLocalization","shop","object","timezoneOptions","uomOptions","renderCurrencies","props","map","currency","key","label","enabled","name","renderLanguages","language","value","handleSubmit","event","formData","doc","handleAllOn","handleAllOff","renderListControls","render","timezone","type","options","baseUOM"],"mappings":"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","file":"/imports/plugins/core/i18n/client/components/localizationSettings.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport {\n  CardGroup,\n  CardToolbar,\n  FlatButton,\n  Form,\n  List,\n  ListItem,\n  SettingsCard\n} from \"/imports/plugins/core/ui/client/components\";\n\nimport { Shop as ShopSchema } from \"/lib/collections/schemas/shops\";\n\nconst PACKAGE_NAME = \"reaction-i18n\";\n\nclass LocalizationSettings extends Component {\n  static propTypes = {\n    currencies: PropTypes.array,\n    currencyOptions: PropTypes.array,\n    enabledLanguages: PropTypes.array,\n    languages: PropTypes.array,\n    onEnableAllCurrencies: PropTypes.func,\n    onEnableAllLanguages: PropTypes.func,\n    onUpdateCurrencyConfiguration: PropTypes.func,\n    onUpdateLanguageConfiguration: PropTypes.func,\n    onUpdateLocalization: PropTypes.func,\n    shop: PropTypes.object, // Shop data\n    timezoneOptions: PropTypes.array,\n    uomOptions: PropTypes.array\n  }\n\n  renderCurrencies() {\n    return this.props.currencies.map((currency, key) => {\n      return (\n        <ListItem\n          actionType={\"switch\"}\n          key={key}\n          label={currency.label}\n          switchOn={currency.enabled}\n          switchName={currency.name}\n          onSwitchChange={this.props.onUpdateCurrencyConfiguration}\n        />\n      );\n    });\n  }\n\n  renderLanguages() {\n    return this.props.languages.map((language, key) => {\n      return (\n        <ListItem\n          actionType={\"switch\"}\n          key={key}\n          label={language.label}\n          switchOn={language.enabled}\n          switchName={language.value}\n          onSwitchChange={this.props.onUpdateLanguageConfiguration}\n        />\n      );\n    });\n  }\n\n  handleSubmit = (event, formData) => {\n    if (typeof this.props.onUpdateLocalization === \"function\") {\n      this.props.onUpdateLocalization(formData.doc);\n    }\n  }\n\n  handleAllOn = (event, name) => {\n    if (name === \"language\") {\n      if (typeof this.props.onEnableAllLanguages === \"function\") {\n        this.props.onEnableAllLanguages(true);\n      }\n    } else if (name === \"currency\") {\n      if (typeof this.props.onEnableAllCurrencies === \"function\") {\n        this.props.onEnableAllCurrencies(true);\n      }\n    }\n  }\n\n  handleAllOff = (event, name) => {\n    if (name === \"language\") {\n      if (typeof this.props.onEnableAllLanguages === \"function\") {\n        this.props.onEnableAllLanguages(false);\n      }\n    } else if (name === \"currency\") {\n      if (typeof this.props.onEnableAllCurrencies === \"function\") {\n        this.props.onEnableAllCurrencies(false);\n      }\n    }\n  }\n\n  renderListControls(name) {\n    return (\n      <CardToolbar>\n        <FlatButton\n          i18nKeyLabel={\"all.allOn\"}\n          label=\"All On\"\n          value={name}\n          onClick={this.handleAllOn}\n        />\n        { \"|\" }\n        <FlatButton\n          i18nKeyLabel={\"all.allOff\"}\n          label=\"All Off\"\n          value={name}\n          onClick={this.handleAllOff}\n        />\n      </CardToolbar>\n    );\n  }\n\n  render() {\n    return (\n      <CardGroup>\n        <SettingsCard\n          i18nKeyTitle=\"i18nSettings.localization\"\n          name=\"localization\"\n          packageName={PACKAGE_NAME}\n          saveOpenStateToPreferences={true}\n          showSwitch={false}\n          title=\"Shop Localization\"\n        >\n          <Form\n            autoSave={true}\n            schema={ShopSchema}\n            doc={this.props.shop}\n            fields={{\n              timezone: {\n                type: \"select\",\n                options: this.props.timezoneOptions\n              },\n              currency: {\n                type: \"select\",\n                options: this.props.currencyOptions\n              },\n              baseUOM: {\n                type: \"select\",\n                options: this.props.uomOptions\n              },\n              language: {\n                type: \"select\",\n                options: this.props.enabledLanguages\n              }\n            }}\n            name=\"localization\"\n            onSubmit={this.handleSubmit}\n          />\n        </SettingsCard>\n        <SettingsCard\n          i18nKeyTitle=\"admin.i18nSettings.enabledLanguages\"\n          name=\"languages\"\n          padded={false}\n          packageName={PACKAGE_NAME}\n          saveOpenStateToPreferences={true}\n          showSwitch={false}\n          title=\"Languages\"\n        >\n          {this.renderListControls(\"language\")}\n          <List>\n            {this.renderLanguages()}\n          </List>\n        </SettingsCard>\n        <SettingsCard\n          i18nKeyTitle=\"i18nSettings.enabledCurrencies\"\n          padded={false}\n          packageName={PACKAGE_NAME}\n          name=\"currencies\"\n          saveOpenStateToPreferences={true}\n          showSwitch={false}\n          title=\"Currencies\"\n        >\n          {this.renderListControls(\"currency\")}\n          <List>\n            {this.renderCurrencies()}\n          </List>\n        </SettingsCard>\n      </CardGroup>\n    );\n  }\n}\n\nexport default LocalizationSettings;\n"]},"hash":"29426cfb022fb62c6f657e7431524de5ad5657db"}
