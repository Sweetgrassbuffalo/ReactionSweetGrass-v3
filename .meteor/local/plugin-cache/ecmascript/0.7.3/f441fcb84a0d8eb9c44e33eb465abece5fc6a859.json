{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"moment","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"moment"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["Icon"],"specifiers":[{"kind":"named","imported":"Icon","local":"Icon"}]},{"source":"/client/api","imported":["i18next"],"specifiers":[{"kind":"named","imported":"i18next","local":"i18next"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/core/email/client/components/emailTableColumn.js","filenameRelative":"/imports/plugins/core/email/client/components/emailTableColumn.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/core/email/client/components/emailTableColumn.js"],"names":["React","Component","PropTypes","moment","Icon","i18next","EmailTableColumn","propTypes","data","oneOfType","string","instanceOf","Date","metadata","object","rowData","handleAction","emailId","props","_id","emailAddress","to","Meteor","call","err","Alerts","toast","t","error","reason","email","render","renderColumn","columnName","createdDate","format"],"mappings":";;;;;;;;;;;;;;AAAA;IAAA;;OAA4C,WAA5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAO,AAAY,AACnB,AAAS,AAAY,AACrB,AAAS,AAAe,AAExB;;;;;;;;;;;;;;0JAeM,AAAI,AAAK,2BACP;UAAO,UAAO,MAAP,AAAa,MAAA,AAAQ,AAAE,QAAV,AAAuB,AAAE;UAAO,AAAI,wCAAxD,AAAO,AAAa,AAAuB,AAAwB,AACpE;;iBACD;AAAO,wBAAA,AAAa,cAAU;mBAAV,IAAuC;WAAvC,AAAQ,CAAd,EAA+C;AAAF,AAAS;;AAA7D,AAAa,AAAiE,sBAArF;;UAAO,EACR;AALD,AAMD;AAVD,AAYA;;;;sBAAS,AACP;UAAM,eAAe,KAAA,AAAK,MAAL,AAAW,SAAhC,AAAyC,AAEzC;;UAAI,iBAAJ,AAAqB,UAAU,AAC7B;YAAI,KAAA,AAAK,MAAL,AAAW,SAAf,AAAwB,aAAa,AACnC;AACE,AAAC;AACC,AAAC,AAAK,AAAK,AAAe,AAAU,AACtC;;AAAE,gCAHJ,AAGE;;yBAEH,AACD;;;AACE,AAAC;;AACC,AAAC,AAAK,AAAK,AAAe,AAAU;AACpC,AAAC,AAAK,AAAQ,AAAC,AAAK,AAAc,AAAM,AAAC,AAAK,AAAM;;8BAClD,AAAC;AAAD,AAAM,kBAAK;AAAX,AAAyB,uBAAzB,AAAmC;;AACrC,AAAE;;;AAAF;gCACF,AAAE;;gCANJ,AAME;;yBAEH,AACD,AAAI,AAAiB,AAAW,AAC9B;;;;AAAA,AAAM,AAAc,AAAO,AAAK,AAAM,AAAM,AAAO,AACnD;;UACE,AAAC,AAAK,AAAC,iBAAD,AAAa,AAAE,WADvB,AACqB,AAEtB;;AACD;AACE,AAAC;;AADH,AACE,AAAM,AAAC,AAAK,AAAM,AAAK,AAAE,AAE5B;;AAnDsC;;;;;mBAsDzC,AAAe;;;;;;;;EAtDf,AAA+B,AAAU,AACvC;;AADF,AAAM,iBACJ,AAAO;QACC,UAAA,AAAU,UADC,AACX,AAAoB,AACxB,AAAU,AACV,AAAU,AAAW,AAEvB,CAAU,UALO,AAKG,AACpB,QAAS,UAAU,WANrB,AAAmB,AASnB;YAAe,AAAM,UACnB;AAAM,WAAU,UAAhB,AAAgB,AAAK,AAAM,AAAQ,AACnC,AAAM,AAAe,AAAK,AAAM,AAAQ,AAAK,AAE7C,AAAO,AAAK,AAAsB,AAAS,AAAC,AAAQ,AAClD;AAde,AACjB;OAPG,OAAS,WAAhB,AAA2B,QAA3B","file":"/imports/plugins/core/email/client/components/emailTableColumn.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport moment from \"moment\";\nimport { Icon } from \"/imports/plugins/core/ui/client/components\";\nimport { i18next } from \"/client/api\";\n\nclass EmailTableColumn extends Component {\n  static propTypes = {\n    data: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.instanceOf(Date)\n    ]),\n    metadata: PropTypes.object,\n    rowData: PropTypes.object\n  }\n\n  handleAction = () => {\n    const emailId = this.props.rowData._id;\n    const emailAddress = this.props.rowData.data.to;\n\n    Meteor.call(\"emails/retryFailed\", emailId, (err) => {\n      if (err) {\n        return Alerts.toast(i18next.t(\"app.error\", { error: err.reason }), \"error\");\n      }\n      return Alerts.toast(i18next.t(\"mail.alerts.resendSuccess\", { email: emailAddress }), \"success\");\n    });\n  }\n\n  render() {\n    const renderColumn = this.props.metadata.columnName;\n\n    if (renderColumn === \"status\") {\n      if (this.props.data === \"completed\") {\n        return (\n          <span>\n            <Icon icon=\"fa fa-circle\" className=\"pull-left valid\" />\n          </span>\n        );\n      }\n      return (\n        <span>\n          <Icon icon=\"fa fa-circle\" className=\"pull-left error\" />\n          <span onClick={this.handleAction} title={this.props.data}>\n            <Icon icon=\"fa fa-share\" className=\"pull-right\" />\n          </span>\n        </span>\n      );\n    }\n    if (renderColumn === \"updated\") {\n      const createdDate = moment(this.props.data).format(\"LLL\");\n      return (\n        <span>{createdDate}</span>\n      );\n    }\n    return (\n      <span>{this.props.data}</span>\n    );\n  }\n}\n\nexport default EmailTableColumn;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/core/email/client/components/emailTableColumn.js.map","sourceFileName":"/imports/plugins/core/email/client/components/emailTableColumn.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"emailTableColumn"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar moment = void 0;\nmodule.importSync(\"moment\", {\n  \"default\": function (v) {\n    moment = v;\n  }\n}, 1);\nvar Icon = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  Icon: function (v) {\n    Icon = v;\n  }\n}, 2);\nvar i18next = void 0;\nmodule.importSync(\"/client/api\", {\n  i18next: function (v) {\n    i18next = v;\n  }\n}, 3);\n\nvar EmailTableColumn = function (_Component) {\n  (0, _inherits3.default)(EmailTableColumn, _Component);\n\n  function EmailTableColumn() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, EmailTableColumn);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleAction = function () {\n      var emailId = _this.props.rowData._id;\n      var emailAddress = _this.props.rowData.data.to;\n      Meteor.call(\"emails/retryFailed\", emailId, function (err) {\n        if (err) {\n          return Alerts.toast(i18next.t(\"app.error\", {\n            error: err.reason\n          }), \"error\");\n        }\n\n        return Alerts.toast(i18next.t(\"mail.alerts.resendSuccess\", {\n          email: emailAddress\n        }), \"success\");\n      });\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  EmailTableColumn.prototype.render = function () {\n    function render() {\n      var renderColumn = this.props.metadata.columnName;\n\n      if (renderColumn === \"status\") {\n        if (this.props.data === \"completed\") {\n          return React.createElement(\n            \"span\",\n            null,\n            React.createElement(Icon, {\n              icon: \"fa fa-circle\",\n              className: \"pull-left valid\"\n            })\n          );\n        }\n\n        return React.createElement(\n          \"span\",\n          null,\n          React.createElement(Icon, {\n            icon: \"fa fa-circle\",\n            className: \"pull-left error\"\n          }),\n          React.createElement(\n            \"span\",\n            {\n              onClick: this.handleAction,\n              title: this.props.data\n            },\n            React.createElement(Icon, {\n              icon: \"fa fa-share\",\n              className: \"pull-right\"\n            })\n          )\n        );\n      }\n\n      if (renderColumn === \"updated\") {\n        var createdDate = moment(this.props.data).format(\"LLL\");\n        return React.createElement(\n          \"span\",\n          null,\n          createdDate\n        );\n      }\n\n      return React.createElement(\n        \"span\",\n        null,\n        this.props.data\n      );\n    }\n\n    return render;\n  }();\n\n  return EmailTableColumn;\n}(Component);\n\nEmailTableColumn.propTypes = {\n  data: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(Date)]),\n  metadata: PropTypes.object,\n  rowData: PropTypes.object\n};\nmodule.export(\"default\", exports.default = EmailTableColumn);","map":{"version":3,"sources":["/imports/plugins/core/email/client/components/emailTableColumn.js"],"names":["React","Component","PropTypes","moment","Icon","i18next","EmailTableColumn","propTypes","data","oneOfType","string","instanceOf","Date","metadata","object","rowData","handleAction","emailId","props","_id","emailAddress","to","Meteor","call","err","Alerts","toast","t","error","reason","email","render","renderColumn","columnName","createdDate","format"],"mappings":";;;;;;;;;;;;;;AAAA;IAAA;;OAA4C,WAA5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAO,AAAY,AACnB,AAAS,AAAY,AACrB,AAAS,AAAe,AAExB;;;;;;;;;;;;;;0JAeM,AAAI,AAAK,2BACP;UAAO,UAAO,MAAP,AAAa,MAAA,AAAQ,AAAE,QAAV,AAAuB,AAAE;UAAO,AAAI,wCAAxD,AAAO,AAAa,AAAuB,AAAwB,AACpE;;iBACD;AAAO,wBAAA,AAAa,cAAU;mBAAV,IAAuC;WAAvC,AAAQ,CAAd,EAA+C;AAAF,AAAS;;AAA7D,AAAa,AAAiE,sBAArF;;UAAO,EACR;AALD,AAMD;AAVD,AAYA;;;;sBAAS,AACP;UAAM,eAAe,KAAA,AAAK,MAAL,AAAW,SAAhC,AAAyC,AAEzC;;UAAI,iBAAJ,AAAqB,UAAU,AAC7B;YAAI,KAAA,AAAK,MAAL,AAAW,SAAf,AAAwB,aAAa,AACnC;AACE,AAAC;AACC,AAAC,AAAK,AAAK,AAAe,AAAU,AACtC;;AAAE,gCAHJ,AAGE;;yBAEH,AACD;;;AACE,AAAC;;AACC,AAAC,AAAK,AAAK,AAAe,AAAU;AACpC,AAAC,AAAK,AAAQ,AAAC,AAAK,AAAc,AAAM,AAAC,AAAK,AAAM;;8BAClD,AAAC;AAAD,AAAM,kBAAK;AAAX,AAAyB,uBAAzB,AAAmC;;AACrC,AAAE;;;AAAF;gCACF,AAAE;;gCANJ,AAME;;yBAEH,AACD,AAAI,AAAiB,AAAW,AAC9B;;;;AAAA,AAAM,AAAc,AAAO,AAAK,AAAM,AAAM,AAAO,AACnD;;UACE,AAAC,AAAK,AAAC,iBAAD,AAAa,AAAE,WADvB,AACqB,AAEtB;;AACD;AACE,AAAC;;AADH,AACE,AAAM,AAAC,AAAK,AAAM,AAAK,AAAE,AAE5B;;AAnDsC;;;;;mBAsDzC,AAAe;;;;;;;;EAtDf,AAA+B,AAAU,AACvC;;AADF,AAAM,iBACJ,AAAO;QACC,UAAA,AAAU,UADC,AACX,AAAoB,AACxB,AAAU,AACV,AAAU,AAAW,AAEvB,CAAU,UALO,AAKG,AACpB,QAAS,UAAU,WANrB,AAAmB,AASnB;YAAe,AAAM,UACnB;AAAM,WAAU,UAAhB,AAAgB,AAAK,AAAM,AAAQ,AACnC,AAAM,AAAe,AAAK,AAAM,AAAQ,AAAK,AAE7C,AAAO,AAAK,AAAsB,AAAS,AAAC,AAAQ,AAClD;AAde,AACjB;OAPG,OAAS,WAAhB,AAA2B,QAA3B","file":"/imports/plugins/core/email/client/components/emailTableColumn.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport moment from \"moment\";\nimport { Icon } from \"/imports/plugins/core/ui/client/components\";\nimport { i18next } from \"/client/api\";\n\nclass EmailTableColumn extends Component {\n  static propTypes = {\n    data: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.instanceOf(Date)\n    ]),\n    metadata: PropTypes.object,\n    rowData: PropTypes.object\n  }\n\n  handleAction = () => {\n    const emailId = this.props.rowData._id;\n    const emailAddress = this.props.rowData.data.to;\n\n    Meteor.call(\"emails/retryFailed\", emailId, (err) => {\n      if (err) {\n        return Alerts.toast(i18next.t(\"app.error\", { error: err.reason }), \"error\");\n      }\n      return Alerts.toast(i18next.t(\"mail.alerts.resendSuccess\", { email: emailAddress }), \"success\");\n    });\n  }\n\n  render() {\n    const renderColumn = this.props.metadata.columnName;\n\n    if (renderColumn === \"status\") {\n      if (this.props.data === \"completed\") {\n        return (\n          <span>\n            <Icon icon=\"fa fa-circle\" className=\"pull-left valid\" />\n          </span>\n        );\n      }\n      return (\n        <span>\n          <Icon icon=\"fa fa-circle\" className=\"pull-left error\" />\n          <span onClick={this.handleAction} title={this.props.data}>\n            <Icon icon=\"fa fa-share\" className=\"pull-right\" />\n          </span>\n        </span>\n      );\n    }\n    if (renderColumn === \"updated\") {\n      const createdDate = moment(this.props.data).format(\"LLL\");\n      return (\n        <span>{createdDate}</span>\n      );\n    }\n    return (\n      <span>{this.props.data}</span>\n    );\n  }\n}\n\nexport default EmailTableColumn;\n"]},"hash":"f441fcb84a0d8eb9c44e33eb465abece5fc6a859"}
