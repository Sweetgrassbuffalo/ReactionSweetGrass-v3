{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"classnames","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"classnames"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["Currency","Translation"],"specifiers":[{"kind":"named","imported":"Currency","local":"Currency"},{"kind":"named","imported":"Translation","local":"Translation"}]},{"source":"/imports/plugins/core/ui/client/containers","imported":["SortableItem"],"specifiers":[{"kind":"named","imported":"SortableItem","local":"SortableItem"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/product-detail-simple/client/components/variant.js","filenameRelative":"/imports/plugins/included/product-detail-simple/client/components/variant.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/product-detail-simple/client/components/variant.js"],"names":["React","Component","PropTypes","classnames","Currency","Translation","SortableItem","Variant","handleClick","event","props","onClick","variant","price","displayPrice","renderInventoryStatus","inventoryManagement","inventoryPolicy","soldOut","lowInventoryWarningThreshold","inventoryTotal","renderDeletionStatus","isDeleted","render","classes","isSelected","variantTitleElement","title","length","variantElement","_id","editable","visibilityButton","editButton","connectDragSource","connectDropTarget","propTypes","func","oneOfType","number","string","node","bool","object"],"mappings":"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","file":"/imports/plugins/included/product-detail-simple/client/components/variant.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport classnames from \"classnames\";\nimport { Currency, Translation } from \"/imports/plugins/core/ui/client/components\";\nimport { SortableItem } from \"/imports/plugins/core/ui/client/containers\";\n\nclass Variant extends Component {\n\n  handleClick = (event) => {\n    if (this.props.onClick) {\n      this.props.onClick(event, this.props.variant);\n    }\n  }\n\n  get price() {\n    return this.props.displayPrice || this.props.variant.price;\n  }\n\n  renderInventoryStatus() {\n    const {\n      inventoryManagement,\n      inventoryPolicy\n    } = this.props.variant;\n\n    // If variant is sold out, show Sold Out badge\n    if (inventoryManagement && this.props.soldOut) {\n      if (inventoryPolicy) {\n        return (\n          <span className=\"variant-qty-sold-out badge badge-danger\">\n            <Translation defaultValue=\"Sold Out!\" i18nKey=\"productDetail.soldOut\" />\n          </span>\n        );\n      }\n\n      return (\n        <span className=\"variant-qty-sold-out badge badge-info\">\n          <Translation defaultValue=\"Backorder\" i18nKey=\"productDetail.backOrder\" />\n        </span>\n      );\n    }\n\n    // If Warning Threshold is met, show Limited Supply Badge\n    if (inventoryManagement && this.props.variant.lowInventoryWarningThreshold >= this.props.variant.inventoryTotal) {\n      if (inventoryPolicy) {\n        return (\n          <span className=\"variant-qty-sold-out badge badge-warning\">\n            <Translation defaultValue=\"Limited Supply\" i18nKey=\"productDetail.limitedSupply\" />\n          </span>\n        );\n      }\n\n      return (\n        <span className=\"variant-qty-sold-out badge badge-info\">\n          <Translation defaultValue=\"Backorder\" i18nKey=\"productDetail.backOrder\" />\n        </span>\n      );\n    }\n\n    return null;\n  }\n\n  renderDeletionStatus() {\n    if (this.props.variant.isDeleted) {\n      return (\n        <span className=\"badge badge-danger\">\n          <Translation defaultValue=\"Archived\" i18nKey=\"app.archived\" />\n        </span>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const variant = this.props.variant;\n    const classes = classnames({\n      \"variant-detail\": true,\n      \"variant-detail-selected\": this.props.isSelected,\n      \"variant-deleted\": this.props.variant.isDeleted\n    });\n\n    let variantTitleElement;\n\n    if (typeof variant.title === \"string\" && variant.title.length) {\n      variantTitleElement = (\n        <span className=\"variant-title\">{variant.title}</span>\n      );\n    } else {\n      variantTitleElement = (\n        <Translation defaultValue=\"Label\" i18nKey=\"productVariant.title\" />\n      );\n    }\n\n    const variantElement = (\n      <li\n        className=\"variant-list-item\"\n        id=\"variant-list-item-{variant._id}\"\n        key={variant._id}\n        onClick={this.handleClick}\n      >\n        <div className={classes}>\n          <div className=\"title\">\n            {variantTitleElement}\n          </div>\n\n          <div className=\"actions\">\n            <span className=\"variant-price\">\n              <Currency amount={this.price} editable={this.props.editable}/>\n            </span>\n          </div>\n\n          <div className=\"alerts\">\n            {this.renderDeletionStatus()}\n            {this.renderInventoryStatus()}\n            {this.props.visibilityButton}\n            {this.props.editButton}\n          </div>\n        </div>\n      </li>\n    );\n\n    if (this.props.editable) {\n      return this.props.connectDragSource(\n        this.props.connectDropTarget(\n          variantElement\n        )\n      );\n    }\n\n    return variantElement;\n  }\n}\n\nVariant.propTypes = {\n  connectDragSource: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  displayPrice: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  editButton: PropTypes.node,\n  editable: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  onClick: PropTypes.func,\n  soldOut: PropTypes.bool,\n  variant: PropTypes.object,\n  visibilityButton: PropTypes.node\n};\n\nexport default SortableItem(\"product-variant\", Variant);\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/product-detail-simple/client/components/variant.js.map","sourceFileName":"/imports/plugins/included/product-detail-simple/client/components/variant.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"variant"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar classnames = void 0;\nmodule.importSync(\"classnames\", {\n  \"default\": function (v) {\n    classnames = v;\n  }\n}, 1);\nvar Currency = void 0,\n    Translation = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  Currency: function (v) {\n    Currency = v;\n  },\n  Translation: function (v) {\n    Translation = v;\n  }\n}, 2);\nvar SortableItem = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/containers\", {\n  SortableItem: function (v) {\n    SortableItem = v;\n  }\n}, 3);\n\nvar Variant = function (_Component) {\n  (0, _inherits3.default)(Variant, _Component);\n\n  function Variant() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, Variant);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      if (_this.props.onClick) {\n        _this.props.onClick(event, _this.props.variant);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  Variant.prototype.renderInventoryStatus = function () {\n    function renderInventoryStatus() {\n      var _props$variant = this.props.variant,\n          inventoryManagement = _props$variant.inventoryManagement,\n          inventoryPolicy = _props$variant.inventoryPolicy; // If variant is sold out, show Sold Out badge\n\n      if (inventoryManagement && this.props.soldOut) {\n        if (inventoryPolicy) {\n          return React.createElement(\n            \"span\",\n            {\n              className: \"variant-qty-sold-out badge badge-danger\"\n            },\n            React.createElement(Translation, {\n              defaultValue: \"Sold Out!\",\n              i18nKey: \"productDetail.soldOut\"\n            })\n          );\n        }\n\n        return React.createElement(\n          \"span\",\n          {\n            className: \"variant-qty-sold-out badge badge-info\"\n          },\n          React.createElement(Translation, {\n            defaultValue: \"Backorder\",\n            i18nKey: \"productDetail.backOrder\"\n          })\n        );\n      } // If Warning Threshold is met, show Limited Supply Badge\n\n\n      if (inventoryManagement && this.props.variant.lowInventoryWarningThreshold >= this.props.variant.inventoryTotal) {\n        if (inventoryPolicy) {\n          return React.createElement(\n            \"span\",\n            {\n              className: \"variant-qty-sold-out badge badge-warning\"\n            },\n            React.createElement(Translation, {\n              defaultValue: \"Limited Supply\",\n              i18nKey: \"productDetail.limitedSupply\"\n            })\n          );\n        }\n\n        return React.createElement(\n          \"span\",\n          {\n            className: \"variant-qty-sold-out badge badge-info\"\n          },\n          React.createElement(Translation, {\n            defaultValue: \"Backorder\",\n            i18nKey: \"productDetail.backOrder\"\n          })\n        );\n      }\n\n      return null;\n    }\n\n    return renderInventoryStatus;\n  }();\n\n  Variant.prototype.renderDeletionStatus = function () {\n    function renderDeletionStatus() {\n      if (this.props.variant.isDeleted) {\n        return React.createElement(\n          \"span\",\n          {\n            className: \"badge badge-danger\"\n          },\n          React.createElement(Translation, {\n            defaultValue: \"Archived\",\n            i18nKey: \"app.archived\"\n          })\n        );\n      }\n\n      return null;\n    }\n\n    return renderDeletionStatus;\n  }();\n\n  Variant.prototype.render = function () {\n    function render() {\n      var variant = this.props.variant;\n      var classes = classnames({\n        \"variant-detail\": true,\n        \"variant-detail-selected\": this.props.isSelected,\n        \"variant-deleted\": this.props.variant.isDeleted\n      });\n      var variantTitleElement = void 0;\n\n      if (typeof variant.title === \"string\" && variant.title.length) {\n        variantTitleElement = React.createElement(\n          \"span\",\n          {\n            className: \"variant-title\"\n          },\n          variant.title\n        );\n      } else {\n        variantTitleElement = React.createElement(Translation, {\n          defaultValue: \"Label\",\n          i18nKey: \"productVariant.title\"\n        });\n      }\n\n      var variantElement = React.createElement(\n        \"li\",\n        {\n          className: \"variant-list-item\",\n          id: \"variant-list-item-{variant._id}\",\n          key: variant._id,\n          onClick: this.handleClick\n        },\n        React.createElement(\n          \"div\",\n          {\n            className: classes\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"title\"\n            },\n            variantTitleElement\n          ),\n          React.createElement(\n            \"div\",\n            {\n              className: \"actions\"\n            },\n            React.createElement(\n              \"span\",\n              {\n                className: \"variant-price\"\n              },\n              React.createElement(Currency, {\n                amount: this.price,\n                editable: this.props.editable\n              })\n            )\n          ),\n          React.createElement(\n            \"div\",\n            {\n              className: \"alerts\"\n            },\n            this.renderDeletionStatus(),\n            this.renderInventoryStatus(),\n            this.props.visibilityButton,\n            this.props.editButton\n          )\n        )\n      );\n\n      if (this.props.editable) {\n        return this.props.connectDragSource(this.props.connectDropTarget(variantElement));\n      }\n\n      return variantElement;\n    }\n\n    return render;\n  }();\n\n  (0, _createClass3.default)(Variant, [{\n    key: \"price\",\n    get: function () {\n      return this.props.displayPrice || this.props.variant.price;\n    }\n  }]);\n  return Variant;\n}(Component);\n\nVariant.propTypes = {\n  connectDragSource: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  displayPrice: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  editButton: PropTypes.node,\n  editable: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  onClick: PropTypes.func,\n  soldOut: PropTypes.bool,\n  variant: PropTypes.object,\n  visibilityButton: PropTypes.node\n};\nmodule.export(\"default\", exports.default = SortableItem(\"product-variant\", Variant));","map":{"version":3,"sources":["/imports/plugins/included/product-detail-simple/client/components/variant.js"],"names":["React","Component","PropTypes","classnames","Currency","Translation","SortableItem","Variant","handleClick","event","props","onClick","variant","price","displayPrice","renderInventoryStatus","inventoryManagement","inventoryPolicy","soldOut","lowInventoryWarningThreshold","inventoryTotal","renderDeletionStatus","isDeleted","render","classes","isSelected","variantTitleElement","title","length","variantElement","_id","editable","visibilityButton","editButton","connectDragSource","connectDropTarget","propTypes","func","oneOfType","number","string","node","bool","object"],"mappings":"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","file":"/imports/plugins/included/product-detail-simple/client/components/variant.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport classnames from \"classnames\";\nimport { Currency, Translation } from \"/imports/plugins/core/ui/client/components\";\nimport { SortableItem } from \"/imports/plugins/core/ui/client/containers\";\n\nclass Variant extends Component {\n\n  handleClick = (event) => {\n    if (this.props.onClick) {\n      this.props.onClick(event, this.props.variant);\n    }\n  }\n\n  get price() {\n    return this.props.displayPrice || this.props.variant.price;\n  }\n\n  renderInventoryStatus() {\n    const {\n      inventoryManagement,\n      inventoryPolicy\n    } = this.props.variant;\n\n    // If variant is sold out, show Sold Out badge\n    if (inventoryManagement && this.props.soldOut) {\n      if (inventoryPolicy) {\n        return (\n          <span className=\"variant-qty-sold-out badge badge-danger\">\n            <Translation defaultValue=\"Sold Out!\" i18nKey=\"productDetail.soldOut\" />\n          </span>\n        );\n      }\n\n      return (\n        <span className=\"variant-qty-sold-out badge badge-info\">\n          <Translation defaultValue=\"Backorder\" i18nKey=\"productDetail.backOrder\" />\n        </span>\n      );\n    }\n\n    // If Warning Threshold is met, show Limited Supply Badge\n    if (inventoryManagement && this.props.variant.lowInventoryWarningThreshold >= this.props.variant.inventoryTotal) {\n      if (inventoryPolicy) {\n        return (\n          <span className=\"variant-qty-sold-out badge badge-warning\">\n            <Translation defaultValue=\"Limited Supply\" i18nKey=\"productDetail.limitedSupply\" />\n          </span>\n        );\n      }\n\n      return (\n        <span className=\"variant-qty-sold-out badge badge-info\">\n          <Translation defaultValue=\"Backorder\" i18nKey=\"productDetail.backOrder\" />\n        </span>\n      );\n    }\n\n    return null;\n  }\n\n  renderDeletionStatus() {\n    if (this.props.variant.isDeleted) {\n      return (\n        <span className=\"badge badge-danger\">\n          <Translation defaultValue=\"Archived\" i18nKey=\"app.archived\" />\n        </span>\n      );\n    }\n\n    return null;\n  }\n\n  render() {\n    const variant = this.props.variant;\n    const classes = classnames({\n      \"variant-detail\": true,\n      \"variant-detail-selected\": this.props.isSelected,\n      \"variant-deleted\": this.props.variant.isDeleted\n    });\n\n    let variantTitleElement;\n\n    if (typeof variant.title === \"string\" && variant.title.length) {\n      variantTitleElement = (\n        <span className=\"variant-title\">{variant.title}</span>\n      );\n    } else {\n      variantTitleElement = (\n        <Translation defaultValue=\"Label\" i18nKey=\"productVariant.title\" />\n      );\n    }\n\n    const variantElement = (\n      <li\n        className=\"variant-list-item\"\n        id=\"variant-list-item-{variant._id}\"\n        key={variant._id}\n        onClick={this.handleClick}\n      >\n        <div className={classes}>\n          <div className=\"title\">\n            {variantTitleElement}\n          </div>\n\n          <div className=\"actions\">\n            <span className=\"variant-price\">\n              <Currency amount={this.price} editable={this.props.editable}/>\n            </span>\n          </div>\n\n          <div className=\"alerts\">\n            {this.renderDeletionStatus()}\n            {this.renderInventoryStatus()}\n            {this.props.visibilityButton}\n            {this.props.editButton}\n          </div>\n        </div>\n      </li>\n    );\n\n    if (this.props.editable) {\n      return this.props.connectDragSource(\n        this.props.connectDropTarget(\n          variantElement\n        )\n      );\n    }\n\n    return variantElement;\n  }\n}\n\nVariant.propTypes = {\n  connectDragSource: PropTypes.func,\n  connectDropTarget: PropTypes.func,\n  displayPrice: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  editButton: PropTypes.node,\n  editable: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  onClick: PropTypes.func,\n  soldOut: PropTypes.bool,\n  variant: PropTypes.object,\n  visibilityButton: PropTypes.node\n};\n\nexport default SortableItem(\"product-variant\", Variant);\n"]},"hash":"aee3e0d04a0995f15abb9063d3daa52b0635a00d"}
