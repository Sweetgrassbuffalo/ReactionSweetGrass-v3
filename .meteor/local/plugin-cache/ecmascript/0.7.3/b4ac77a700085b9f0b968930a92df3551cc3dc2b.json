{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/check","imported":["check","Match"],"specifiers":[{"kind":"named","imported":"check","local":"check"},{"kind":"named","imported":"Match","local":"Match"}]},{"source":"/lib/collections","imported":["Packages"],"specifiers":[{"kind":"named","imported":"Packages","local":"Packages"}]},{"source":"/server/api","imported":["Reaction"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"}]}],"exports":{"exported":["updateSocialSetting","provider","field","value","updateSocialSettings","values"],"specifiers":[{"kind":"local","local":"updateSocialSetting","exported":"updateSocialSetting"},{"kind":"local","local":"provider","exported":"provider"},{"kind":"local","local":"field","exported":"field"},{"kind":"local","local":"value","exported":"value"},{"kind":"local","local":"updateSocialSettings","exported":"updateSocialSettings"},{"kind":"local","local":"values","exported":"values"}]}}},"options":{"filename":"/imports/plugins/included/social/server/methods.js","filenameRelative":"/imports/plugins/included/social/server/methods.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/social/server/methods.js"],"names":["check","Match","Packages","Reaction","updateSocialSetting","provider","field","value","String","OneOf","Boolean","hasPermission","Meteor","Error","update","name","shopId","getShopId","$set","updateSocialSettings","values","Object","Number","undefined","settings","methods"],"mappings":"AAAA,OAAS;AAAT,AAAgB,AAAa;WAA7B;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAgB,AACzB,AAAS,AAAgB,AAEzB,AAAO,AAAS,AAAoB,AAAU,AAAO,AAAO,AAC1D;;AAAM,SAAN,AAAgB;AAChB;;QAAA,AAAM,AAAO,UAAb,AACA;QAAA,AAAM,OAAN,AAAa,AAAM,AAAM,AAAQ;mCAEjC,AAAI,AAAC,AAAS,AAAc,AAAC,AAAqB,AAChD;;OAAM,AAAI,SAAJ,AAAW,AAAM,cAAjB,CAAN,AAAM,AAAsB,qBAC7B;;AAED,AAAO,AAAS,AAAO,AACrB;;;UADK,AAAgB,AAEb,AAAS;AAChB,qBACD;AAJqB,AAErB,GADM;AAGA,AACJ,AAAE,AAAuB,AAAS,AAAG,AAAM,AAAI,iFALnD,AAAO,AAGJ,AAKJ,AAED;AANU,AACJ;AAKC,AAAS,AAAqB,AAAQ,AAC3C,AAAM,AAAQ,AAAM,AAAM,AAAQ,AAAQ,AAAS,AAAQ,AAAM;;sCAEjE;AAAI,AAAC,gBAAS,YAAT,AAAuB,AAAC,gBAA7B,AAAK,AAAuB,AAAsB,uBAChD,AAAM,AAAI,AAAO,AAAM,AAAK,AAC7B;;;gCAED;AAAO,AAAS,AAAO,AACrB,AAAM,AACN;;kBAAiB;AAChB,UACD;AAAM,qBACJ;AALG,AAAgB,AAEb,GAAA;;gBAMX,AAED,AAAO,AAAQ,AACb;AAXA,AAAO,AAGJ;AACK,AACM;AAKD,AAC0B,AACvC,AAAwC;;AAF1C,AAAe","file":"/imports/plugins/included/social/server/methods.js.map","sourcesContent":["import { check, Match } from \"meteor/check\";\nimport { Packages } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\n\nexport function updateSocialSetting(provider, field, value) {\n  check(provider, String);\n  check(field, String);\n  check(value, Match.OneOf(String, Boolean));\n\n  if (!Reaction.hasPermission([\"reaction-social\"])) {\n    throw new Meteor.Error(403, \"Access Denied\");\n  }\n\n  return Packages.update({\n    name: \"reaction-social\",\n    shopId: Reaction.getShopId()\n  }, {\n    $set: {\n      [`settings.public.apps.${provider}.${field}`]: value\n    }\n  });\n}\n\nexport function updateSocialSettings(values) {\n  check(values, Match.OneOf(Object, String, Boolean, Number, null, undefined));\n\n  if (!Reaction.hasPermission([\"reaction-social\"])) {\n    throw new Meteor.Error(403, \"Access Denied\");\n  }\n\n  return Packages.update({\n    name: \"reaction-social\",\n    shopId: Reaction.getShopId()\n  }, {\n    $set: {\n      settings: values\n    }\n  });\n}\n\nMeteor.methods({\n  \"reaction-social/updateSocialSetting\": updateSocialSetting,\n  \"reaction-social/updateSocialSettings\": updateSocialSettings\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/social/server/methods.js.map","sourceFileName":"/imports/plugins/included/social/server/methods.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"methods"},"ignored":false,"code":"module.export({\n  updateSocialSetting: function () {\n    return updateSocialSetting;\n  },\n  updateSocialSettings: function () {\n    return updateSocialSettings;\n  }\n});\nvar check = void 0,\n    Match = void 0;\nmodule.importSync(\"meteor/check\", {\n  check: function (v) {\n    check = v;\n  },\n  Match: function (v) {\n    Match = v;\n  }\n}, 0);\nvar Packages = void 0;\nmodule.importSync(\"/lib/collections\", {\n  Packages: function (v) {\n    Packages = v;\n  }\n}, 1);\nvar Reaction = void 0;\nmodule.importSync(\"/server/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 2);\n\nfunction updateSocialSetting(provider, field, value) {\n  var _$set;\n\n  check(provider, String);\n  check(field, String);\n  check(value, Match.OneOf(String, Boolean));\n\n  if (!Reaction.hasPermission([\"reaction-social\"])) {\n    throw new Meteor.Error(403, \"Access Denied\");\n  }\n\n  return Packages.update({\n    name: \"reaction-social\",\n    shopId: Reaction.getShopId()\n  }, {\n    $set: (_$set = {}, _$set[\"settings.public.apps.\" + provider + \".\" + field] = value, _$set)\n  });\n}\n\nfunction updateSocialSettings(values) {\n  check(values, Match.OneOf(Object, String, Boolean, Number, null, undefined));\n\n  if (!Reaction.hasPermission([\"reaction-social\"])) {\n    throw new Meteor.Error(403, \"Access Denied\");\n  }\n\n  return Packages.update({\n    name: \"reaction-social\",\n    shopId: Reaction.getShopId()\n  }, {\n    $set: {\n      settings: values\n    }\n  });\n}\n\nMeteor.methods({\n  \"reaction-social/updateSocialSetting\": updateSocialSetting,\n  \"reaction-social/updateSocialSettings\": updateSocialSettings\n});","map":{"version":3,"sources":["/imports/plugins/included/social/server/methods.js"],"names":["check","Match","Packages","Reaction","updateSocialSetting","provider","field","value","String","OneOf","Boolean","hasPermission","Meteor","Error","update","name","shopId","getShopId","$set","updateSocialSettings","values","Object","Number","undefined","settings","methods"],"mappings":"AAAA,OAAS;AAAT,AAAgB,AAAa;WAA7B;;;;;AAAA;;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAgB,AACzB,AAAS,AAAgB,AAEzB,AAAO,AAAS,AAAoB,AAAU,AAAO,AAAO,AAC1D;;AAAM,SAAN,AAAgB;AAChB;;QAAA,AAAM,AAAO,UAAb,AACA;QAAA,AAAM,OAAN,AAAa,AAAM,AAAM,AAAQ;mCAEjC,AAAI,AAAC,AAAS,AAAc,AAAC,AAAqB,AAChD;;OAAM,AAAI,SAAJ,AAAW,AAAM,cAAjB,CAAN,AAAM,AAAsB,qBAC7B;;AAED,AAAO,AAAS,AAAO,AACrB;;;UADK,AAAgB,AAEb,AAAS;AAChB,qBACD;AAJqB,AAErB,GADM;AAGA,AACJ,AAAE,AAAuB,AAAS,AAAG,AAAM,AAAI,iFALnD,AAAO,AAGJ,AAKJ,AAED;AANU,AACJ;AAKC,AAAS,AAAqB,AAAQ,AAC3C,AAAM,AAAQ,AAAM,AAAM,AAAQ,AAAQ,AAAS,AAAQ,AAAM;;sCAEjE;AAAI,AAAC,gBAAS,YAAT,AAAuB,AAAC,gBAA7B,AAAK,AAAuB,AAAsB,uBAChD,AAAM,AAAI,AAAO,AAAM,AAAK,AAC7B;;;gCAED;AAAO,AAAS,AAAO,AACrB,AAAM,AACN;;kBAAiB;AAChB,UACD;AAAM,qBACJ;AALG,AAAgB,AAEb,GAAA;;gBAMX,AAED,AAAO,AAAQ,AACb;AAXA,AAAO,AAGJ;AACK,AACM;AAKD,AAC0B,AACvC,AAAwC;;AAF1C,AAAe","file":"/imports/plugins/included/social/server/methods.js.map","sourcesContent":["import { check, Match } from \"meteor/check\";\nimport { Packages } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\n\nexport function updateSocialSetting(provider, field, value) {\n  check(provider, String);\n  check(field, String);\n  check(value, Match.OneOf(String, Boolean));\n\n  if (!Reaction.hasPermission([\"reaction-social\"])) {\n    throw new Meteor.Error(403, \"Access Denied\");\n  }\n\n  return Packages.update({\n    name: \"reaction-social\",\n    shopId: Reaction.getShopId()\n  }, {\n    $set: {\n      [`settings.public.apps.${provider}.${field}`]: value\n    }\n  });\n}\n\nexport function updateSocialSettings(values) {\n  check(values, Match.OneOf(Object, String, Boolean, Number, null, undefined));\n\n  if (!Reaction.hasPermission([\"reaction-social\"])) {\n    throw new Meteor.Error(403, \"Access Denied\");\n  }\n\n  return Packages.update({\n    name: \"reaction-social\",\n    shopId: Reaction.getShopId()\n  }, {\n    $set: {\n      settings: values\n    }\n  });\n}\n\nMeteor.methods({\n  \"reaction-social/updateSocialSetting\": updateSocialSetting,\n  \"reaction-social/updateSocialSettings\": updateSocialSettings\n});\n"]},"hash":"b4ac77a700085b9f0b968930a92df3551cc3dc2b"}
