{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"lodash/lowerCase","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"_lowerCase"}]},{"source":"react","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"React"}]},{"source":"react-taco-table","imported":["DataType"],"specifiers":[{"kind":"named","imported":"DataType","local":"DataType"}]},{"source":"meteor/templating","imported":["Template"],"specifiers":[{"kind":"named","imported":"Template","local":"Template"}]},{"source":"/client/api","imported":["Reaction","i18next"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"},{"kind":"named","imported":"i18next","local":"i18next"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["SortableTable"],"specifiers":[{"kind":"named","imported":"SortableTable","local":"SortableTable"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js","filenameRelative":"/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js"],"names":["React","DataType","Template","Reaction","i18next","SortableTable","searchModal","helpers","orderSearchResults","instance","results","state","get","orderTable","columns","id","type","String","header","t","defaultValue","renderer","cellData","value","rowData","shippingName","userEmails","shippingAddress","address","city","region","country","shippingPhone","shippingStatus","tdClassName","rowClassName","Date","orderDate","Number","orderTotal","component","data","events","event","view","isActionViewOpen","orderId","$","target","showActionView","label","i18nKeyLabel","order","props","size","template","Router","go","_id","delay","fadeOut","Blaze","remove"],"mappings":"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","file":"/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js.map","sourcesContent":["import _ from \"lodash\";\nimport React from \"react\";\nimport { DataType } from \"react-taco-table\";\nimport { Template } from \"meteor/templating\";\nimport { Reaction, i18next } from \"/client/api\";\nimport { SortableTable } from \"/imports/plugins/core/ui/client/components\";\n\n\n/**\n * orderResults helpers\n */\nTemplate.searchModal.helpers({\n  orderSearchResults() {\n    const instance = Template.instance();\n    const results = instance.state.get(\"orderSearchResults\");\n    return results;\n  },\n  orderTable() {\n    const instance = Template.instance();\n    const results = instance.state.get(\"orderSearchResults\");\n    // const route = rowData.url;\n    const columns = [\n      {\n        id: \"_id\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.orderId\", { defaultValue: \"Order ID\" }),\n        renderer(cellData) { // eslint-disable-line react/no-multi-comp\n          return <a data-event-action=\"goToOrder\" data-event-data={cellData}>{cellData}</a>;\n        }\n      },\n      {\n        id: \"shippingName\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingName\", { defaultValue: \"Name\" }),\n        value: rowData => {\n          return rowData.shippingName;\n        }\n      },\n      {\n        id: \"userEmail\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.userEmails\", { defaultValue: \"Email\" }),\n        value: rowData => {\n          return rowData.userEmails[0];\n        }\n      },\n      {\n        id: \"shippingAddress\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingAddress\", { defaultValue: \"Address\" }),\n        value: rowData => {\n          return rowData.shippingAddress.address;\n        }\n      },\n      {\n        id: \"shippingCity\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingCity\", { defaultValue: \"City\" }),\n        value: rowData => {\n          return rowData.shippingAddress.city;\n        }\n      },\n      {\n        id: \"shippingRegion\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingRegion\", { defaultValue: \"Region\" }),\n        value: rowData => {\n          return rowData.shippingAddress.region;\n        }\n      },\n      {\n        id: \"shippingCountry\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingCountry\", { defaultValue: \"Country\" }),\n        value: rowData => {\n          return rowData.shippingAddress.country;\n        }\n      },\n      {\n        id: \"shippingPhone\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingPhone\", { defaultValue: \"Phone\" }),\n        value: rowData => {\n          return rowData.shippingPhone;\n        }\n      },\n      {\n        id: \"shippingStatus\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingStatus\", { defaultValue: \"Shipping Status\" }),\n        value: rowData => {\n          return rowData.shippingStatus;\n        },\n        tdClassName: \"shipping-status\",\n        renderer(cellData, { rowData }) { // eslint-disable-line react/no-multi-comp\n          const rowClassName = _.lowerCase(rowData.shippingStatus);\n          return <span className={rowClassName}>{cellData}</span>;\n        }\n      },\n      {\n        id: \"orderDate\",\n        type: DataType.Date,\n        header: i18next.t(\"search.orderSearchResults.orderDate\", { defaultValue: \"Date\" }),\n        value: rowData => {\n          return rowData.orderDate;\n        }\n      },\n      {\n        id: \"orderTotal\",\n        type: DataType.Number,\n        header: i18next.t(\"search.orderSearchResults.orderTotal\", { defaultValue: \"Total\" }),\n        value: rowData => {\n          return rowData.orderTotal;\n        }\n      }\n    ];\n\n    return {\n      component: SortableTable,\n      data: results,\n      columns: columns\n    };\n  }\n});\n\n\n/**\n * orderResults events\n */\nTemplate.searchModal.events({\n  \"click [data-event-action=goToOrder]\": function (event) {\n    const instance = Template.instance();\n    const view = instance.view;\n    const isActionViewOpen = Reaction.isActionViewOpen();\n    const orderId = $(event.target).data(\"event-data\");\n\n    // toggle detail views\n    if (isActionViewOpen === false) {\n      Reaction.showActionView({\n        label: \"Order Details\",\n        i18nKeyLabel: \"orderWorkflow.orderDetails\",\n        data: instance.data.order,\n        props: {\n          size: \"large\"\n        },\n        template: \"coreOrderWorkflow\"\n      });\n    }\n\n    Reaction.Router.go(\"dashboard/orders\", {}, {\n      _id: orderId\n    });\n\n    $(\".js-search-modal\").delay(400).fadeOut(400, () => {\n      Blaze.remove(view);\n    });\n  }\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js.map","sourceFileName":"/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"orderResults"},"ignored":false,"code":"var _lowerCase = void 0;\n\nmodule.importSync(\"lodash/lowerCase\", {\n  \"default\": function (v) {\n    _lowerCase = v;\n  }\n}, 0);\nvar React = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  }\n}, 1);\nvar DataType = void 0;\nmodule.importSync(\"react-taco-table\", {\n  DataType: function (v) {\n    DataType = v;\n  }\n}, 2);\nvar Template = void 0;\nmodule.importSync(\"meteor/templating\", {\n  Template: function (v) {\n    Template = v;\n  }\n}, 3);\nvar Reaction = void 0,\n    i18next = void 0;\nmodule.importSync(\"/client/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  },\n  i18next: function (v) {\n    i18next = v;\n  }\n}, 4);\nvar SortableTable = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  SortableTable: function (v) {\n    SortableTable = v;\n  }\n}, 5);\n/**\n * orderResults helpers\n */Template.searchModal.helpers({\n  orderSearchResults: function () {\n    var instance = Template.instance();\n    var results = instance.state.get(\"orderSearchResults\");\n    return results;\n  },\n  orderTable: function () {\n    var instance = Template.instance();\n    var results = instance.state.get(\"orderSearchResults\"); // const route = rowData.url;\n\n    var columns = [{\n      id: \"_id\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.orderId\", {\n        defaultValue: \"Order ID\"\n      }),\n      renderer: function (cellData) {\n        // eslint-disable-line react/no-multi-comp\n        return React.createElement(\n          \"a\",\n          {\n            \"data-event-action\": \"goToOrder\",\n            \"data-event-data\": cellData\n          },\n          cellData\n        );\n      }\n    }, {\n      id: \"shippingName\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.shippingName\", {\n        defaultValue: \"Name\"\n      }),\n      value: function (rowData) {\n        return rowData.shippingName;\n      }\n    }, {\n      id: \"userEmail\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.userEmails\", {\n        defaultValue: \"Email\"\n      }),\n      value: function (rowData) {\n        return rowData.userEmails[0];\n      }\n    }, {\n      id: \"shippingAddress\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.shippingAddress\", {\n        defaultValue: \"Address\"\n      }),\n      value: function (rowData) {\n        return rowData.shippingAddress.address;\n      }\n    }, {\n      id: \"shippingCity\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.shippingCity\", {\n        defaultValue: \"City\"\n      }),\n      value: function (rowData) {\n        return rowData.shippingAddress.city;\n      }\n    }, {\n      id: \"shippingRegion\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.shippingRegion\", {\n        defaultValue: \"Region\"\n      }),\n      value: function (rowData) {\n        return rowData.shippingAddress.region;\n      }\n    }, {\n      id: \"shippingCountry\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.shippingCountry\", {\n        defaultValue: \"Country\"\n      }),\n      value: function (rowData) {\n        return rowData.shippingAddress.country;\n      }\n    }, {\n      id: \"shippingPhone\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.shippingPhone\", {\n        defaultValue: \"Phone\"\n      }),\n      value: function (rowData) {\n        return rowData.shippingPhone;\n      }\n    }, {\n      id: \"shippingStatus\",\n      type: DataType.String,\n      header: i18next.t(\"search.orderSearchResults.shippingStatus\", {\n        defaultValue: \"Shipping Status\"\n      }),\n      value: function (rowData) {\n        return rowData.shippingStatus;\n      },\n      tdClassName: \"shipping-status\",\n      renderer: function (cellData, _ref) {\n        var rowData = _ref.rowData;\n\n        // eslint-disable-line react/no-multi-comp\n        var rowClassName = _lowerCase(rowData.shippingStatus);\n\n        return React.createElement(\n          \"span\",\n          {\n            className: rowClassName\n          },\n          cellData\n        );\n      }\n    }, {\n      id: \"orderDate\",\n      type: DataType.Date,\n      header: i18next.t(\"search.orderSearchResults.orderDate\", {\n        defaultValue: \"Date\"\n      }),\n      value: function (rowData) {\n        return rowData.orderDate;\n      }\n    }, {\n      id: \"orderTotal\",\n      type: DataType.Number,\n      header: i18next.t(\"search.orderSearchResults.orderTotal\", {\n        defaultValue: \"Total\"\n      }),\n      value: function (rowData) {\n        return rowData.orderTotal;\n      }\n    }];\n    return {\n      component: SortableTable,\n      data: results,\n      columns: columns\n    };\n  }\n}); /**\n     * orderResults events\n     */\nTemplate.searchModal.events({\n  \"click [data-event-action=goToOrder]\": function (event) {\n    var instance = Template.instance();\n    var view = instance.view;\n    var isActionViewOpen = Reaction.isActionViewOpen();\n    var orderId = $(event.target).data(\"event-data\"); // toggle detail views\n\n    if (isActionViewOpen === false) {\n      Reaction.showActionView({\n        label: \"Order Details\",\n        i18nKeyLabel: \"orderWorkflow.orderDetails\",\n        data: instance.data.order,\n        props: {\n          size: \"large\"\n        },\n        template: \"coreOrderWorkflow\"\n      });\n    }\n\n    Reaction.Router.go(\"dashboard/orders\", {}, {\n      _id: orderId\n    });\n    $(\".js-search-modal\").delay(400).fadeOut(400, function () {\n      Blaze.remove(view);\n    });\n  }\n});","map":{"version":3,"sources":["/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js"],"names":["React","DataType","Template","Reaction","i18next","SortableTable","searchModal","helpers","orderSearchResults","instance","results","state","get","orderTable","columns","id","type","String","header","t","defaultValue","renderer","cellData","value","rowData","shippingName","userEmails","shippingAddress","address","city","region","country","shippingPhone","shippingStatus","tdClassName","rowClassName","Date","orderDate","Number","orderTotal","component","data","events","event","view","isActionViewOpen","orderId","$","target","showActionView","label","i18nKeyLabel","order","props","size","template","Router","go","_id","delay","fadeOut","Blaze","remove"],"mappings":"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","file":"/imports/plugins/included/ui-search/client/templates/orderSearch/orderResults.js.map","sourcesContent":["import _ from \"lodash\";\nimport React from \"react\";\nimport { DataType } from \"react-taco-table\";\nimport { Template } from \"meteor/templating\";\nimport { Reaction, i18next } from \"/client/api\";\nimport { SortableTable } from \"/imports/plugins/core/ui/client/components\";\n\n\n/**\n * orderResults helpers\n */\nTemplate.searchModal.helpers({\n  orderSearchResults() {\n    const instance = Template.instance();\n    const results = instance.state.get(\"orderSearchResults\");\n    return results;\n  },\n  orderTable() {\n    const instance = Template.instance();\n    const results = instance.state.get(\"orderSearchResults\");\n    // const route = rowData.url;\n    const columns = [\n      {\n        id: \"_id\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.orderId\", { defaultValue: \"Order ID\" }),\n        renderer(cellData) { // eslint-disable-line react/no-multi-comp\n          return <a data-event-action=\"goToOrder\" data-event-data={cellData}>{cellData}</a>;\n        }\n      },\n      {\n        id: \"shippingName\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingName\", { defaultValue: \"Name\" }),\n        value: rowData => {\n          return rowData.shippingName;\n        }\n      },\n      {\n        id: \"userEmail\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.userEmails\", { defaultValue: \"Email\" }),\n        value: rowData => {\n          return rowData.userEmails[0];\n        }\n      },\n      {\n        id: \"shippingAddress\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingAddress\", { defaultValue: \"Address\" }),\n        value: rowData => {\n          return rowData.shippingAddress.address;\n        }\n      },\n      {\n        id: \"shippingCity\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingCity\", { defaultValue: \"City\" }),\n        value: rowData => {\n          return rowData.shippingAddress.city;\n        }\n      },\n      {\n        id: \"shippingRegion\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingRegion\", { defaultValue: \"Region\" }),\n        value: rowData => {\n          return rowData.shippingAddress.region;\n        }\n      },\n      {\n        id: \"shippingCountry\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingCountry\", { defaultValue: \"Country\" }),\n        value: rowData => {\n          return rowData.shippingAddress.country;\n        }\n      },\n      {\n        id: \"shippingPhone\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingPhone\", { defaultValue: \"Phone\" }),\n        value: rowData => {\n          return rowData.shippingPhone;\n        }\n      },\n      {\n        id: \"shippingStatus\",\n        type: DataType.String,\n        header: i18next.t(\"search.orderSearchResults.shippingStatus\", { defaultValue: \"Shipping Status\" }),\n        value: rowData => {\n          return rowData.shippingStatus;\n        },\n        tdClassName: \"shipping-status\",\n        renderer(cellData, { rowData }) { // eslint-disable-line react/no-multi-comp\n          const rowClassName = _.lowerCase(rowData.shippingStatus);\n          return <span className={rowClassName}>{cellData}</span>;\n        }\n      },\n      {\n        id: \"orderDate\",\n        type: DataType.Date,\n        header: i18next.t(\"search.orderSearchResults.orderDate\", { defaultValue: \"Date\" }),\n        value: rowData => {\n          return rowData.orderDate;\n        }\n      },\n      {\n        id: \"orderTotal\",\n        type: DataType.Number,\n        header: i18next.t(\"search.orderSearchResults.orderTotal\", { defaultValue: \"Total\" }),\n        value: rowData => {\n          return rowData.orderTotal;\n        }\n      }\n    ];\n\n    return {\n      component: SortableTable,\n      data: results,\n      columns: columns\n    };\n  }\n});\n\n\n/**\n * orderResults events\n */\nTemplate.searchModal.events({\n  \"click [data-event-action=goToOrder]\": function (event) {\n    const instance = Template.instance();\n    const view = instance.view;\n    const isActionViewOpen = Reaction.isActionViewOpen();\n    const orderId = $(event.target).data(\"event-data\");\n\n    // toggle detail views\n    if (isActionViewOpen === false) {\n      Reaction.showActionView({\n        label: \"Order Details\",\n        i18nKeyLabel: \"orderWorkflow.orderDetails\",\n        data: instance.data.order,\n        props: {\n          size: \"large\"\n        },\n        template: \"coreOrderWorkflow\"\n      });\n    }\n\n    Reaction.Router.go(\"dashboard/orders\", {}, {\n      _id: orderId\n    });\n\n    $(\".js-search-modal\").delay(400).fadeOut(400, () => {\n      Blaze.remove(view);\n    });\n  }\n});\n"]},"hash":"4d3aaf4cdedf0612fddc7a80cb4493d1e574d5f3"}
