{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"/client/api","imported":["Reaction"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"}]},{"source":"/lib/collections","imported":["Tags"],"specifiers":[{"kind":"named","imported":"Tags","local":"Tags"}]},{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/session","imported":["Session"],"specifiers":[{"kind":"named","imported":"Session","local":"Session"}]},{"source":"meteor/templating","imported":["Template"],"specifiers":[{"kind":"named","imported":"Template","local":"Template"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js","filenameRelative":"/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js"],"names":["Reaction","Tags","Meteor","Session","Template","createContentMenu","helpers","buttonProps","item","label","i18nKeyLabel","status","onClick","route","call","error","productId","isClient","currentTag","currentTagId","Error","get","findOne","name","Router","go","handle","items","apps","Apps","provides","container"],"mappings":"AAAA,IAAS;AAAT,OAAyB,WAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAY,AACrB,AAAS,AAAc,AACvB,AAAS,AAAe,AACxB,AAAS,AAAgB,AAEzB,AAAS,AAAkB,AAAQ;AACjC,SAAA,AAAY,AAAM;AACT,+BACL;;kBADK,AAES,AAAK,AACnB;AAAQ,oBAHH;cAIL;2BAAU,AACR;AACA;YAAI,KAAA,AAAK,UAAT,AAAmB,2BAA2B,AAC5C;iBAAA,AAAO,KAAP,AAAY,0BAA0B,UAAA,AAAC,OAAD,AAAQ,WAAc,AAC1D;gBAAI,OAAJ,AAAW,UAAU,AACnB;kBAAA,AAAI,AACJ;kBAAA,AAAI,AAEJ;;kBAAA,AAAI,OAAO,AACT;sBAAM,IAAI,OAAJ,AAAW,MAAX,AAAiB,uBAAvB,AAAM,AAAwC,AAC/C;AAFD,qBAEO,IAAA,AAAI;+BACM,QAAA,AAAQ,IAAvB,AAAe,AAAY,AAC3B;6BAAa,KAAA,AAAK,QAAlB,AAAa,AAAa;;gCAC1B;AAAI,8BAAJ,AAAgB,0DACd;AAAA,AAAO,AAAK,AAA8B,AAAW,AAAW,AAAM,AACvE,iBALmB,AACpB,CADoB,AAMpB;;;;0BACA,AAAS,AAAO,AAAG,AAAW,AAC5B;;AAD4B,AACpB;AADV,AAGD;AACF;AACF;AAnBD,AAoBD,AACF;AA5BI,AACE,AAAK,AACZ;AAFK;AAAP,qBAF+B,AAgChC;;;;;WAED;AAlCF,AAAmC,AAkCzB,AACN,AAAM,AAAO,AAAS,AAAK,AAAE,AAAU,AAAY,AAAW,AAAgB,AAC9E,AAAO,AACR;AAnCC","file":"/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js.map","sourcesContent":["import { Reaction } from \"/client/api\";\nimport { Tags } from \"/lib/collections\";\nimport { Meteor } from \"meteor/meteor\";\nimport { Session } from \"meteor/session\";\nimport { Template } from \"meteor/templating\";\n\nTemplate.createContentMenu.helpers({\n  buttonProps(item) {\n    return {\n      label: item.label,\n      i18nKeyLabel: item.i18nKeyLabel,\n      status: \"default\",\n      onClick() {\n        // TODO: Move this to somewhere better, like, core or product package\n        if (item.route === \"/products/createProduct\") {\n          Meteor.call(\"products/createProduct\", (error, productId) => {\n            if (Meteor.isClient) {\n              let currentTag;\n              let currentTagId;\n\n              if (error) {\n                throw new Meteor.Error(\"createProduct error\", error);\n              } else if (productId) {\n                currentTagId = Session.get(\"currentTag\");\n                currentTag = Tags.findOne(currentTagId);\n                if (currentTag) {\n                  Meteor.call(\"products/updateProductTags\", productId, currentTag.name, currentTagId);\n                }\n                // go to new product\n                Reaction.Router.go(\"product\", {\n                  handle: productId\n                });\n              }\n            }\n          });\n        }\n      }\n    };\n  },\n\n  items() {\n    const apps = Reaction.Apps({ provides: \"shortcut\", container: \"addItem\" }) || [];\n    return apps;\n  }\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js.map","sourceFileName":"/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"createContentMenu"},"ignored":false,"code":"var Reaction = void 0;\nmodule.importSync(\"/client/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 0);\nvar Tags = void 0;\nmodule.importSync(\"/lib/collections\", {\n  Tags: function (v) {\n    Tags = v;\n  }\n}, 1);\nvar Meteor = void 0;\nmodule.importSync(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 2);\nvar Session = void 0;\nmodule.importSync(\"meteor/session\", {\n  Session: function (v) {\n    Session = v;\n  }\n}, 3);\nvar Template = void 0;\nmodule.importSync(\"meteor/templating\", {\n  Template: function (v) {\n    Template = v;\n  }\n}, 4);\nTemplate.createContentMenu.helpers({\n  buttonProps: function (item) {\n    return {\n      label: item.label,\n      i18nKeyLabel: item.i18nKeyLabel,\n      status: \"default\",\n      onClick: function () {\n        // TODO: Move this to somewhere better, like, core or product package\n        if (item.route === \"/products/createProduct\") {\n          Meteor.call(\"products/createProduct\", function (error, productId) {\n            if (Meteor.isClient) {\n              var currentTag = void 0;\n              var currentTagId = void 0;\n\n              if (error) {\n                throw new Meteor.Error(\"createProduct error\", error);\n              } else if (productId) {\n                currentTagId = Session.get(\"currentTag\");\n                currentTag = Tags.findOne(currentTagId);\n\n                if (currentTag) {\n                  Meteor.call(\"products/updateProductTags\", productId, currentTag.name, currentTagId);\n                } // go to new product\n\n\n                Reaction.Router.go(\"product\", {\n                  handle: productId\n                });\n              }\n            }\n          });\n        }\n      }\n    };\n  },\n  items: function () {\n    var apps = Reaction.Apps({\n      provides: \"shortcut\",\n      container: \"addItem\"\n    }) || [];\n    return apps;\n  }\n});","map":{"version":3,"sources":["/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js"],"names":["Reaction","Tags","Meteor","Session","Template","createContentMenu","helpers","buttonProps","item","label","i18nKeyLabel","status","onClick","route","call","error","productId","isClient","currentTag","currentTagId","Error","get","findOne","name","Router","go","handle","items","apps","Apps","provides","container"],"mappings":"AAAA,IAAS;AAAT,OAAyB,WAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAY,AACrB,AAAS,AAAc,AACvB,AAAS,AAAe,AACxB,AAAS,AAAgB,AAEzB,AAAS,AAAkB,AAAQ;AACjC,SAAA,AAAY,AAAM;AACT,+BACL;;kBADK,AAES,AAAK,AACnB;AAAQ,oBAHH;cAIL;2BAAU,AACR;AACA;YAAI,KAAA,AAAK,UAAT,AAAmB,2BAA2B,AAC5C;iBAAA,AAAO,KAAP,AAAY,0BAA0B,UAAA,AAAC,OAAD,AAAQ,WAAc,AAC1D;gBAAI,OAAJ,AAAW,UAAU,AACnB;kBAAA,AAAI,AACJ;kBAAA,AAAI,AAEJ;;kBAAA,AAAI,OAAO,AACT;sBAAM,IAAI,OAAJ,AAAW,MAAX,AAAiB,uBAAvB,AAAM,AAAwC,AAC/C;AAFD,qBAEO,IAAA,AAAI;+BACM,QAAA,AAAQ,IAAvB,AAAe,AAAY,AAC3B;6BAAa,KAAA,AAAK,QAAlB,AAAa,AAAa;;gCAC1B;AAAI,8BAAJ,AAAgB,0DACd;AAAA,AAAO,AAAK,AAA8B,AAAW,AAAW,AAAM,AACvE,iBALmB,AACpB,CADoB,AAMpB;;;;0BACA,AAAS,AAAO,AAAG,AAAW,AAC5B;;AAD4B,AACpB;AADV,AAGD;AACF;AACF;AAnBD,AAoBD,AACF;AA5BI,AACE,AAAK,AACZ;AAFK;AAAP,qBAF+B,AAgChC;;;;;WAED;AAlCF,AAAmC,AAkCzB,AACN,AAAM,AAAO,AAAS,AAAK,AAAE,AAAU,AAAY,AAAW,AAAgB,AAC9E,AAAO,AACR;AAnCC","file":"/imports/plugins/core/layout/client/templates/layout/createContentMenu/createContentMenu.js.map","sourcesContent":["import { Reaction } from \"/client/api\";\nimport { Tags } from \"/lib/collections\";\nimport { Meteor } from \"meteor/meteor\";\nimport { Session } from \"meteor/session\";\nimport { Template } from \"meteor/templating\";\n\nTemplate.createContentMenu.helpers({\n  buttonProps(item) {\n    return {\n      label: item.label,\n      i18nKeyLabel: item.i18nKeyLabel,\n      status: \"default\",\n      onClick() {\n        // TODO: Move this to somewhere better, like, core or product package\n        if (item.route === \"/products/createProduct\") {\n          Meteor.call(\"products/createProduct\", (error, productId) => {\n            if (Meteor.isClient) {\n              let currentTag;\n              let currentTagId;\n\n              if (error) {\n                throw new Meteor.Error(\"createProduct error\", error);\n              } else if (productId) {\n                currentTagId = Session.get(\"currentTag\");\n                currentTag = Tags.findOne(currentTagId);\n                if (currentTag) {\n                  Meteor.call(\"products/updateProductTags\", productId, currentTag.name, currentTagId);\n                }\n                // go to new product\n                Reaction.Router.go(\"product\", {\n                  handle: productId\n                });\n              }\n            }\n          });\n        }\n      }\n    };\n  },\n\n  items() {\n    const apps = Reaction.Apps({ provides: \"shortcut\", container: \"addItem\" }) || [];\n    return apps;\n  }\n});\n"]},"hash":"45d5ab5938efe74117ba353f01deb7b18e0bb152"}
