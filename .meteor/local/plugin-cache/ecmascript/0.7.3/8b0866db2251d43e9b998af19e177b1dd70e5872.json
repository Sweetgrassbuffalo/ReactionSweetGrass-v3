{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/core/ui/client/components/upload/upload.js","filenameRelative":"/imports/plugins/core/ui/client/components/upload/upload.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/core/ui/client/components/upload/upload.js"],"names":["uploadHandler","event","instance","files","FS","Utility","eachFile","file","push","File","data","onUpload","Template","upload","helpers","uploadButtonProps","className","label","i18nLabel","onClick","$","click","events"],"mappings":"AAAA,AAIA,AAAS,AAAc,AAAO,AAAU,AACtC,AAAM,AAAQ;;GAEd,AAAG,SAAH,AAAW,AAAS,cAApB,AAA4B,OAAD,AAAU,UACnC;MAAA,AAAM,AAAK,QADb,AACE,AAAW,AAAI,AAAG,AAAK,AACxB;6CAED;AAAI,eAAS,IAAT,AAAc,QAAlB,AAA4B,AAC1B;AAAA,AAAS,AAAK,AAAS,AAAO,AAC/B;;8BAED;AAAO,aAAP,qBACD;AAED;;SAAA,AAAS,AAAO,AAAQ,AACtB;AAAoB,AAClB,AAAM,AAAW,AAAS;;AAC1B,SAAO;AACM,iCADN,AAEL;QAAO,WAAA,AAAS,AAAK,SAFhB,AAEE,AAAuB,AAC9B;;iBACA;aAAU,uBACR;iBAAA,AAAS,AAAE,cAAX,AAAgC,aAAhC,AACD;;wCANH,AAAO;AAQR;AARQ,AAGM,AAAS,AAAK,AAAa;AAN5C,AAAwB,AAcxB,AAAS,AAAO,AAAO;AAVjB;AAWJ;AACS,AAAE,uBAAT,AAAO,AAAY,YAFA,AAGpB;uBACD;AAJqB,AAIO,AAC5B;AAAwB,8BAL1B,AAAuB;;AACA,AAAY,AAC/B","file":"/imports/plugins/core/ui/client/components/upload/upload.js.map","sourcesContent":["/**\n * uploadHandler method\n */\n\nfunction uploadHandler(event, instance) {\n  const files = [];\n\n  FS.Utility.eachFile(event, (file) => {\n    files.push(new FS.File(file));\n  });\n\n  if (instance.data.onUpload) {\n    instance.data.onUpload(files, event);\n  }\n\n  return files;\n}\n\nTemplate.upload.helpers({\n  uploadButtonProps() {\n    const instance = Template.instance();\n    return {\n      className: \"btn-block\",\n      label: instance.data.label || \"Drop file to upload\",\n      i18nLabel: instance.data.i18nLabel || \"productDetail.dropFiles\",\n      onClick() {\n        instance.$(\"input[name=files]\").click();\n      }\n    };\n  }\n});\n\nTemplate.upload.events({\n  \"click #btn-upload\": function () {\n    return $(\"#files\").click();\n  },\n  \"change input[name=files]\": uploadHandler,\n  \"dropped .js-dropzone\": uploadHandler\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/core/ui/client/components/upload/upload.js.map","sourceFileName":"/imports/plugins/core/ui/client/components/upload/upload.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"upload"},"ignored":false,"code":"/**\n * uploadHandler method\n */function uploadHandler(event, instance) {\n  var files = [];\n  FS.Utility.eachFile(event, function (file) {\n    files.push(new FS.File(file));\n  });\n\n  if (instance.data.onUpload) {\n    instance.data.onUpload(files, event);\n  }\n\n  return files;\n}\n\nTemplate.upload.helpers({\n  uploadButtonProps: function () {\n    var instance = Template.instance();\n    return {\n      className: \"btn-block\",\n      label: instance.data.label || \"Drop file to upload\",\n      i18nLabel: instance.data.i18nLabel || \"productDetail.dropFiles\",\n      onClick: function () {\n        instance.$(\"input[name=files]\").click();\n      }\n    };\n  }\n});\nTemplate.upload.events({\n  \"click #btn-upload\": function () {\n    return $(\"#files\").click();\n  },\n  \"change input[name=files]\": uploadHandler,\n  \"dropped .js-dropzone\": uploadHandler\n});","map":{"version":3,"sources":["/imports/plugins/core/ui/client/components/upload/upload.js"],"names":["uploadHandler","event","instance","files","FS","Utility","eachFile","file","push","File","data","onUpload","Template","upload","helpers","uploadButtonProps","className","label","i18nLabel","onClick","$","click","events"],"mappings":"AAAA,AAIA,AAAS,AAAc,AAAO,AAAU,AACtC,AAAM,AAAQ;;GAEd,AAAG,SAAH,AAAW,AAAS,cAApB,AAA4B,OAAD,AAAU,UACnC;MAAA,AAAM,AAAK,QADb,AACE,AAAW,AAAI,AAAG,AAAK,AACxB;6CAED;AAAI,eAAS,IAAT,AAAc,QAAlB,AAA4B,AAC1B;AAAA,AAAS,AAAK,AAAS,AAAO,AAC/B;;8BAED;AAAO,aAAP,qBACD;AAED;;SAAA,AAAS,AAAO,AAAQ,AACtB;AAAoB,AAClB,AAAM,AAAW,AAAS;;AAC1B,SAAO;AACM,iCADN,AAEL;QAAO,WAAA,AAAS,AAAK,SAFhB,AAEE,AAAuB,AAC9B;;iBACA;aAAU,uBACR;iBAAA,AAAS,AAAE,cAAX,AAAgC,aAAhC,AACD;;wCANH,AAAO;AAQR;AARQ,AAGM,AAAS,AAAK,AAAa;AAN5C,AAAwB,AAcxB,AAAS,AAAO,AAAO;AAVjB;AAWJ;AACS,AAAE,uBAAT,AAAO,AAAY,YAFA,AAGpB;uBACD;AAJqB,AAIO,AAC5B;AAAwB,8BAL1B,AAAuB;;AACA,AAAY,AAC/B","file":"/imports/plugins/core/ui/client/components/upload/upload.js.map","sourcesContent":["/**\n * uploadHandler method\n */\n\nfunction uploadHandler(event, instance) {\n  const files = [];\n\n  FS.Utility.eachFile(event, (file) => {\n    files.push(new FS.File(file));\n  });\n\n  if (instance.data.onUpload) {\n    instance.data.onUpload(files, event);\n  }\n\n  return files;\n}\n\nTemplate.upload.helpers({\n  uploadButtonProps() {\n    const instance = Template.instance();\n    return {\n      className: \"btn-block\",\n      label: instance.data.label || \"Drop file to upload\",\n      i18nLabel: instance.data.i18nLabel || \"productDetail.dropFiles\",\n      onClick() {\n        instance.$(\"input[name=files]\").click();\n      }\n    };\n  }\n});\n\nTemplate.upload.events({\n  \"click #btn-upload\": function () {\n    return $(\"#files\").click();\n  },\n  \"change input[name=files]\": uploadHandler,\n  \"dropped .js-dropzone\": uploadHandler\n});\n"]},"hash":"8b0866db2251d43e9b998af19e177b1dd70e5872"}
