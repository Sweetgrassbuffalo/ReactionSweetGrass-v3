{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/alanning:roles","imported":["Roles"],"specifiers":[{"kind":"named","imported":"Roles","local":"Roles"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/launchdock-connect/server/publications.js","filenameRelative":"/imports/plugins/included/launchdock-connect/server/publications.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/launchdock-connect/server/publications.js"],"names":["Meteor","Roles","publish","userIsInRole","userId","users","find","_id","fields","ready"],"mappings":"AAAA,IAAS;AAAT,OAAuB,WAAvB;;;;;;;;;;GACA,AAAS,AAAa,AAGtB,AAAO,AAAQ,AAAmB,AAAY,AAC5C;AACA,AAAI,OAAM,QAAN,AAAmB,AAAK,mBAAxB,AAAgC,AAAC,YAArC,AAAI,AAAgC,AAAU,AAAW,AACvD;AAAO,AAAO,AAAM,AAAK,AAAE;MAAK,MAAK,+CAAZ;AAAlB,AAAwC;;;;sCACrC,AACwB,AAC9B;wCAFM,AAE0B,AAChC;oCAHM,AAGsB,AAC5B;mCAJM,AAIqB,AAC3B;uCANJ,AAAO,AAAwC,AACrC,AAKyB,AAGpC;AARW,AACN;AADF;;;cASJ;AAbF,AAaE,AAAO,AAAK,AACb","file":"/imports/plugins/included/launchdock-connect/server/publications.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { Roles } from \"meteor/alanning:roles\";\n\n\nMeteor.publish(\"launchdock-auth\", function () {\n  // only publish Launchdock credentials for logged in admin/owner\n  if (Roles.userIsInRole(this.userId, [\"admin\", \"owner\"])) {\n    return Meteor.users.find({ _id: this.userId }, {\n      fields: {\n        \"services.launchdock.userId\": 1,\n        \"services.launchdock.username\": 1,\n        \"services.launchdock.auth\": 1,\n        \"services.launchdock.url\": 1,\n        \"services.launchdock.stackId\": 1\n      }\n    });\n  }\n  return this.ready();\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/launchdock-connect/server/publications.js.map","sourceFileName":"/imports/plugins/included/launchdock-connect/server/publications.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"publications"},"ignored":false,"code":"var Meteor = void 0;\nmodule.importSync(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Roles = void 0;\nmodule.importSync(\"meteor/alanning:roles\", {\n  Roles: function (v) {\n    Roles = v;\n  }\n}, 1);\nMeteor.publish(\"launchdock-auth\", function () {\n  // only publish Launchdock credentials for logged in admin/owner\n  if (Roles.userIsInRole(this.userId, [\"admin\", \"owner\"])) {\n    return Meteor.users.find({\n      _id: this.userId\n    }, {\n      fields: {\n        \"services.launchdock.userId\": 1,\n        \"services.launchdock.username\": 1,\n        \"services.launchdock.auth\": 1,\n        \"services.launchdock.url\": 1,\n        \"services.launchdock.stackId\": 1\n      }\n    });\n  }\n\n  return this.ready();\n});","map":{"version":3,"sources":["/imports/plugins/included/launchdock-connect/server/publications.js"],"names":["Meteor","Roles","publish","userIsInRole","userId","users","find","_id","fields","ready"],"mappings":"AAAA,IAAS;AAAT,OAAuB,WAAvB;;;;;;;;;;GACA,AAAS,AAAa,AAGtB,AAAO,AAAQ,AAAmB,AAAY,AAC5C;AACA,AAAI,OAAM,QAAN,AAAmB,AAAK,mBAAxB,AAAgC,AAAC,YAArC,AAAI,AAAgC,AAAU,AAAW,AACvD;AAAO,AAAO,AAAM,AAAK,AAAE;MAAK,MAAK,+CAAZ;AAAlB,AAAwC;;;;sCACrC,AACwB,AAC9B;wCAFM,AAE0B,AAChC;oCAHM,AAGsB,AAC5B;mCAJM,AAIqB,AAC3B;uCANJ,AAAO,AAAwC,AACrC,AAKyB,AAGpC;AARW,AACN;AADF;;;cASJ;AAbF,AAaE,AAAO,AAAK,AACb","file":"/imports/plugins/included/launchdock-connect/server/publications.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { Roles } from \"meteor/alanning:roles\";\n\n\nMeteor.publish(\"launchdock-auth\", function () {\n  // only publish Launchdock credentials for logged in admin/owner\n  if (Roles.userIsInRole(this.userId, [\"admin\", \"owner\"])) {\n    return Meteor.users.find({ _id: this.userId }, {\n      fields: {\n        \"services.launchdock.userId\": 1,\n        \"services.launchdock.username\": 1,\n        \"services.launchdock.auth\": 1,\n        \"services.launchdock.url\": 1,\n        \"services.launchdock.stackId\": 1\n      }\n    });\n  }\n  return this.ready();\n});\n"]},"hash":"943db7b7c07e457347bbced199553424d0c0ebc8"}
