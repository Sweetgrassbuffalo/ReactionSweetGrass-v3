{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/check","imported":["check"],"specifiers":[{"kind":"named","imported":"check","local":"check"}]},{"source":"/server/api","imported":["Reaction"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"}]}],"exports":{"exported":["methods"],"specifiers":[{"kind":"local","local":"methods","exported":"methods"}]}}},"options":{"filename":"/server/methods/core/payments.js","filenameRelative":"/server/methods/core/payments.js","inputSourceMap":{"version":3,"sources":["/server/methods/core/payments.js"],"names":["Meteor","check","Reaction","methods","id","paymentMethod","collection","String","Object","Collection","Collections","update","_id","$addToSet","billing"],"mappings":"AAAA,OAAS;AAAT;AAAuB;;;AAAvB;;;;;;;;;;;;;;;;;GACA,AAAS,AAAa,AACtB,AAAS,AAAgB,AAEzB,AAAO,AAAM,AAAU,AACrB;;AAQA,AAAkB,AAAU,AAAI,AAAe,AAAa,AAAQ,AAClE,AAAM,AAAI,AACV;;;;;;;KAAM,kBAAN,AAAqB,UAArB;AACA;UAAM,IAAN,AAAkB,AAClB;UAAM,AAAa,eAAnB,AAAmB,AAAS,AAAY,AAExC;UAAO,YAAA,AAAW,AAAO,AACvB;QAAK,kCADA,AAAkB,AAEtB,AACD;;WACW,AAAE;AAAX,KADS;;;yBAlBV,AAAgB,AAenB,AAAO,AAEJ,AAKJ,A;;AAJc;AACA,AAAiB;AAMlC,AACA,AAAO,AAAQ","file":"/server/methods/core/payments.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Reaction } from \"/server/api\";\n\nexport const methods = {\n  /**\n   * payments/apply\n   * @summary adds payment to order\n   * @param {String} id - id\n   * @param {Object} paymentMethod - formatted payment method object\n   * @param  {String} collection collection (either Orders or Cart)\n   * @returns {String} return cart update result\n   */\n  \"payments/apply\": function (id, paymentMethod, collection = \"Cart\") {\n    check(id, String);\n    check(paymentMethod, Object);\n    check(collection, String);\n    const Collection = Reaction.Collections[collection];\n\n    return Collection.update({\n      _id: id\n    }, {\n      $addToSet: {\n        billing: { paymentMethod: paymentMethod }\n      }\n    });\n  }\n};\n\n// export methods to Meteor\nMeteor.methods(methods);\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/server/methods/core/payments.js.map","sourceFileName":"/server/methods/core/payments.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"payments"},"ignored":false,"code":"module.export({\n  methods: function () {\n    return methods;\n  }\n});\nvar Meteor = void 0;\nmodule.importSync(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar check = void 0;\nmodule.importSync(\"meteor/check\", {\n  check: function (v) {\n    check = v;\n  }\n}, 1);\nvar Reaction = void 0;\nmodule.importSync(\"/server/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 2);\nvar methods = {\n  /**\n   * payments/apply\n   * @summary adds payment to order\n   * @param {String} id - id\n   * @param {Object} paymentMethod - formatted payment method object\n   * @param  {String} collection collection (either Orders or Cart)\n   * @returns {String} return cart update result\n   */\"payments/apply\": function (id, paymentMethod) {\n    var collection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"Cart\";\n    check(id, String);\n    check(paymentMethod, Object);\n    check(collection, String);\n    var Collection = Reaction.Collections[collection];\n    return Collection.update({\n      _id: id\n    }, {\n      $addToSet: {\n        billing: {\n          paymentMethod: paymentMethod\n        }\n      }\n    });\n  }\n};\n// export methods to Meteor\nMeteor.methods(methods);","map":{"version":3,"sources":["/server/methods/core/payments.js"],"names":["Meteor","check","Reaction","methods","id","paymentMethod","collection","String","Object","Collection","Collections","update","_id","$addToSet","billing"],"mappings":"AAAA,OAAS;AAAT;AAAuB;;;AAAvB;;;;;;;;;;;;;;;;;GACA,AAAS,AAAa,AACtB,AAAS,AAAgB,AAEzB,AAAO,AAAM,AAAU,AACrB;;AAQA,AAAkB,AAAU,AAAI,AAAe,AAAa,AAAQ,AAClE,AAAM,AAAI,AACV;;;;;;;KAAM,kBAAN,AAAqB,UAArB;AACA;UAAM,IAAN,AAAkB,AAClB;UAAM,AAAa,eAAnB,AAAmB,AAAS,AAAY,AAExC;UAAO,YAAA,AAAW,AAAO,AACvB;QAAK,kCADA,AAAkB,AAEtB,AACD;;WACW,AAAE;AAAX,KADS;;;yBAlBV,AAAgB,AAenB,AAAO,AAEJ,AAKJ,A;;AAJc;AACA,AAAiB;AAMlC,AACA,AAAO,AAAQ","file":"/server/methods/core/payments.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Reaction } from \"/server/api\";\n\nexport const methods = {\n  /**\n   * payments/apply\n   * @summary adds payment to order\n   * @param {String} id - id\n   * @param {Object} paymentMethod - formatted payment method object\n   * @param  {String} collection collection (either Orders or Cart)\n   * @returns {String} return cart update result\n   */\n  \"payments/apply\": function (id, paymentMethod, collection = \"Cart\") {\n    check(id, String);\n    check(paymentMethod, Object);\n    check(collection, String);\n    const Collection = Reaction.Collections[collection];\n\n    return Collection.update({\n      _id: id\n    }, {\n      $addToSet: {\n        billing: { paymentMethod: paymentMethod }\n      }\n    });\n  }\n};\n\n// export methods to Meteor\nMeteor.methods(methods);\n"]},"hash":"92fc0926fe73dda1cc08968cda7e181d25604ec1"}
