{"metadata":{"usedHelpers":["classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"bunyan","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"bunyan"}]},{"source":"/lib/collections","imported":["Logs"],"specifiers":[{"kind":"named","imported":"Logs","local":"Logs"}]},{"source":"/server/api","imported":["Reaction"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/taxes-avalara/server/methods/avalogger.js","filenameRelative":"/imports/plugins/included/taxes-avalara/server/methods/avalogger.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/taxes-avalara/server/methods/avalogger.js"],"names":["bunyan","Logs","Reaction","level","BunyanMongo","levelToName","write","Meteor","bindEnvironment","logData","avalog","logType","shopId","getShopId","data","insert","streams","type","stream","Avalogger","createLogger","name"],"mappings":";;;;;;AAAA;AAAA,OAAmB;;;;;;;;;;;;;;;;GACnB,AAAS,AAAY,AACrB,AAAS,AAAgB,AAEzB,AAAM,AAAQ;YAEd,AAAM,AAAY,AAEhB;;IAAc,AACZ,AAAI,AACJ;;;;;SAFY,AAER;UAFQ,AAGR,AACJ;UAJY,AAIR,AACJ;UALY,AAKR,AACJ;UANF,AAAc,AAMR;UAGN;UAAQ,AAAO,AAAgB,AAAC,AAAY,AAC1C,AAAM,AAAS,AACb,AAAS,AACT;AATF;wBASU,AAAS,0BAFJ,SAGb;UAAM;AACC,iBAJT,AAAe,AAIN,AAAK,AAAY,AAAQ;yBAElC;AAAK,cAPP,AAAQ,AAON,AAAY,AACb;yCAnBe;AAYC,AAIb;kBAMN;AAAM,AAAU,AACd,AACE,AAAM,AACN,AAAQ,AAAI,KAXF;;;;;;AAQd,AAAgB,AACd;AAOoC,QAEpC;AAAM,cAFR,AAAkB,AAAoB,AAGpC,AAGF,AAAe;AANT,AAAY,AAAO,AAAa,AACpC,CADF;;;;;;OApCO,kBAAP","file":"/imports/plugins/included/taxes-avalara/server/methods/avalogger.js.map","sourcesContent":["import bunyan from \"bunyan\";\nimport { Logs } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\n\nconst level = \"INFO\";\n\nclass BunyanMongo {\n\n  levelToName = {\n    10: \"trace\",\n    20: \"debug\",\n    30: \"info\",\n    40: \"warn\",\n    50: \"error\",\n    60: \"fatal\"\n  };\n\n  write = Meteor.bindEnvironment((logData) => {\n    const avalog = {\n      logType: \"avalara\",\n      shopId: Reaction.getShopId(),\n      data: logData,\n      level: this.levelToName[logData.level]\n    };\n    Logs.insert(avalog);\n  });\n}\n\nconst streams = [\n  {\n    type: \"raw\",\n    stream: new BunyanMongo()\n  }\n];\n\n\nconst Avalogger = bunyan.createLogger({\n  level,\n  name: \"Avalara\",\n  streams\n});\n\nexport default Avalogger;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/taxes-avalara/server/methods/avalogger.js.map","sourceFileName":"/imports/plugins/included/taxes-avalara/server/methods/avalogger.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"avalogger"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar bunyan = void 0;\nmodule.importSync(\"bunyan\", {\n  \"default\": function (v) {\n    bunyan = v;\n  }\n}, 0);\nvar Logs = void 0;\nmodule.importSync(\"/lib/collections\", {\n  Logs: function (v) {\n    Logs = v;\n  }\n}, 1);\nvar Reaction = void 0;\nmodule.importSync(\"/server/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 2);\nvar level = \"INFO\";\n\nvar BunyanMongo = function () {\n  function BunyanMongo() {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, BunyanMongo);\n    this.levelToName = {\n      10: \"trace\",\n      20: \"debug\",\n      30: \"info\",\n      40: \"warn\",\n      50: \"error\",\n      60: \"fatal\"\n    };\n    this.write = Meteor.bindEnvironment(function (logData) {\n      var avalog = {\n        logType: \"avalara\",\n        shopId: Reaction.getShopId(),\n        data: logData,\n        level: _this.levelToName[logData.level]\n      };\n      Logs.insert(avalog);\n    });\n  }\n\n  return BunyanMongo;\n}();\n\nvar streams = [{\n  type: \"raw\",\n  stream: new BunyanMongo()\n}];\nvar Avalogger = bunyan.createLogger({\n  level: level,\n  name: \"Avalara\",\n  streams: streams\n});\nmodule.export(\"default\", exports.default = Avalogger);","map":{"version":3,"sources":["/imports/plugins/included/taxes-avalara/server/methods/avalogger.js"],"names":["bunyan","Logs","Reaction","level","BunyanMongo","levelToName","write","Meteor","bindEnvironment","logData","avalog","logType","shopId","getShopId","data","insert","streams","type","stream","Avalogger","createLogger","name"],"mappings":";;;;;;AAAA;AAAA,OAAmB;;;;;;;;;;;;;;;;GACnB,AAAS,AAAY,AACrB,AAAS,AAAgB,AAEzB,AAAM,AAAQ;YAEd,AAAM,AAAY,AAEhB;;IAAc,AACZ,AAAI,AACJ;;;;;SAFY,AAER;UAFQ,AAGR,AACJ;UAJY,AAIR,AACJ;UALY,AAKR,AACJ;UANF,AAAc,AAMR;UAGN;UAAQ,AAAO,AAAgB,AAAC,AAAY,AAC1C,AAAM,AAAS,AACb,AAAS,AACT;AATF;wBASU,AAAS,0BAFJ,SAGb;UAAM;AACC,iBAJT,AAAe,AAIN,AAAK,AAAY,AAAQ;yBAElC;AAAK,cAPP,AAAQ,AAON,AAAY,AACb;yCAnBe;AAYC,AAIb;kBAMN;AAAM,AAAU,AACd,AACE,AAAM,AACN,AAAQ,AAAI,KAXF;;;;;;AAQd,AAAgB,AACd;AAOoC,QAEpC;AAAM,cAFR,AAAkB,AAAoB,AAGpC,AAGF,AAAe;AANT,AAAY,AAAO,AAAa,AACpC,CADF;;;;;;OApCO,kBAAP","file":"/imports/plugins/included/taxes-avalara/server/methods/avalogger.js.map","sourcesContent":["import bunyan from \"bunyan\";\nimport { Logs } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\n\nconst level = \"INFO\";\n\nclass BunyanMongo {\n\n  levelToName = {\n    10: \"trace\",\n    20: \"debug\",\n    30: \"info\",\n    40: \"warn\",\n    50: \"error\",\n    60: \"fatal\"\n  };\n\n  write = Meteor.bindEnvironment((logData) => {\n    const avalog = {\n      logType: \"avalara\",\n      shopId: Reaction.getShopId(),\n      data: logData,\n      level: this.levelToName[logData.level]\n    };\n    Logs.insert(avalog);\n  });\n}\n\nconst streams = [\n  {\n    type: \"raw\",\n    stream: new BunyanMongo()\n  }\n];\n\n\nconst Avalogger = bunyan.createLogger({\n  level,\n  name: \"Avalara\",\n  streams\n});\n\nexport default Avalogger;\n"]},"hash":"7891eddf158c3e16000fd293accd499edb618ac9"}
