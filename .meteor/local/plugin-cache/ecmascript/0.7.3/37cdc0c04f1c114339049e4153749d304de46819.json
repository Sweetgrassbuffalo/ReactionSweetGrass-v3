{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"react-helmet","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Helmet"}]},{"source":"classnames","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"classnames"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["Translation"],"specifiers":[{"kind":"named","imported":"Translation","local":"Translation"}]}],"exports":{"exported":["getTwitterMeta","props"],"specifiers":[{"kind":"local","local":"getTwitterMeta","exported":"getTwitterMeta"},{"kind":"local","local":"props","exported":"props"}]}}},"options":{"filename":"/imports/plugins/included/social/client/components/twitter.js","filenameRelative":"/imports/plugins/included/social/client/components/twitter.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/social/client/components/twitter.js"],"names":["React","Component","PropTypes","Helmet","classnames","Translation","getTwitterMeta","props","title","document","preferredUrl","url","location","origin","pathname","encodeURIComponent","username","settings","description","meta","property","content","media","test","push","TwitterSocialButton","handleClick","event","preventDefault","window","open","base","text","href","renderText","showText","render","iconClassNames","altIcon","size","propTypes","bool","string"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAA,AAAO;AAAS;WAAhB,AAA4C;;;AAA5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAO,AAAY,AACnB,AAAO,AAAgB,AACvB,AAAS,AAAmB,AAG5B,AAAO,AAAS,AAAe,AAAO,AACpC,AAAM,AAAQ,AAAM,AAAS,AAAS,AACtC;;AAAM,SAAe,AAAM,eAAN,AAAa,OAAlC,AAAkC,AAAS,AAAS,AAAS,AAC7D;MAAM,AAAM,uBAAmB,SAA/B,AAAY,AACZ;MAAM,AAAW,eAAM,MAAN,AAAe,OAAhC,2BACA;MAAM,MAAc,AAAM,mBAA1B,AAAoB,AAAe,AAEnC;MAAM,AAAO,AACX,0BAAE;MAAU,oBAAZ,SAAA,AAA4B,AAAS;AAD1B,AAEX;AAAY,cAAZ;aAA+B;GAA7B;AAAsC;aAF7B,AAEX;;;aACE;AAAF;AAAY,cAAZ;aAA2B;;AAAS;aAHzB,AAGX,AACA,AAAE,AAAU,AAAiB;;;YAAS,OAJ3B,AAIX;AACA,QAAA,AAAE,AAAU,AAAuB;;SAAS,qCAL9C,AAAa,AAKX;;AAGF,AAAI,AAAM,AAAO,AACf;;AAAI,SAAJ;gBAEA;AAAI,AAAC,eAAL,AAAK,AAAkB,AAAK,AAAM,AAAQ,AACxC,AAAQ,AAAS,AAAS,AAAM,AACjC;;;AAED,AAAK,AAAK,AACR;;IADQ,AACE;;;;;;;;;;;;0JACD,+BAFD;AAAV,YAID,AACF;;;iDAED;AAAA,AAAM,AAA4B,AAAU,AAC1C;AAAc,AAAC,AAAU,AACvB,AAAM;;;;;+BAqBN;AAAA,AAAO,AACR;;mBAED;;AAAa,AACX;;AAAI,aAAJ,AAAI,AAAK,AAAM,AAAU,AACvB;AAAA,AACE,AAAC,AAAY,AAAa,AAAmB,AAAQ,AAExD;;;;;;;AACD;;UAAA,AAAO;;6CAGT;AAAS,qCACP;AAHD,qBAGO,mBAAiB,WAAW,AAChC,AAAM,AACN,AAAc,AAAK,AAAM,AAAY,AACrC;AAHgC,AAGd,AAAK,AAAM,AAC7B;AAAC;;AAAA,AAAK,AAAM,qBAAZ,AAAmB,AAAK,AAAM;;;wBAJhC,AAAuB,AAAW;kBAOlC,AACE,AAAC,AAAE,AAAU,AAA6B,AAAW,AAAmB,AAAK,AAAI,AAAQ,AAAC,AAAK,AAC7F,AAAO;;AAEP,4BAAA,AAAC,AACC,AAAK,AAAC,AAAe,AAAK,AAE5B,AAAC;AAAD,AAAG,gBAAU,AAAC,oBAAd,AAAa,AACb,AAAC,AAAK,AACR;;AATF,AASE,AAAE;qBAEL;;aAtDyC;;AAyD5C,AAAoB,AAAY,AAC9B,AAAS,AAAU;;;;;;;qBAtDjB;AAAI,UAAJ,AAAY,aACV;UAAA,AAAO,AAAK,AAAK,eAAjB,AAAsB,aAAtB,AAAwC,2BAAxC,AACD;mCALH,AAMC;;gCAED;AAAA,AAAI,UAAM,0BACR,AAAM,AAAQ,AAAK,AACnB;UAAM,cAAe,AAAM,UAAN,MAAa,AAAS,WAA3C,AAAkC,AAAkB,AAAS,AAC7D,AAAM,AAAM,AAAmB,AAC/B;;UAAM,AAAO,UAAb,AACA;AAAM,gBAAO,AAAM,UAAnB,AAAa,AAAe,AAC5B;AAAA,AAAM,AAAW,AAAM,AAAS,AAEhC,AAAI,AAAO,AAAO,AAAU,AAAM,AAAW;;aAE7C;AAAA,AAAI,AAAU,AACZ,AAAQ,AAAU,AACnB;;;EA1BC;;AAgEJ,AAAU,oBAFoB,AAEV;AACd,WAAU,UAHlB,AAAgC;sBAMhC;QAAe,UAAf;AAHE;yBA/FF,AAA2B","file":"/imports/plugins/included/social/client/components/twitter.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport Helmet from \"react-helmet\";\nimport classnames from \"classnames\";\nimport { Translation } from \"/imports/plugins/core/ui/client/components\";\n\n\nexport function getTwitterMeta(props) {\n  const title = props.title || document.title;\n  const preferredUrl = props.url || location.origin + location.pathname;\n  const url = encodeURIComponent(preferredUrl);\n  const username = props.settings.username;\n  const description = props.settings.description;\n\n  const meta = [\n    { property: \"twitter:card\", content: \"summary\" },\n    { property: \"twitter:creator\", content: username },\n    { property: \"twitter:url\", content: url },\n    { property: \"twitter:title\", content: title },\n    { property: \"twitter:description\", content: description }\n  ];\n\n  if (props.media) {\n    let media;\n\n    if (!/^http(s?):\\/\\/+/.test(props.media)) {\n      media = location.origin + props.media;\n    }\n\n    meta.push({\n      property: \"twitter:image\",\n      content: media\n    });\n  }\n}\n\nclass TwitterSocialButton extends Component {\n  handleClick = (event) => {\n    event.preventDefault();\n\n    if (window) {\n      window.open(this.url, \"twitter_window\", \"width=750, height=650\");\n    }\n  }\n\n  get url() {\n    const props = this.props;\n    const preferredUrl = props.url || location.origin + location.pathname;\n    const url = encodeURIComponent(preferredUrl);\n    const base = \"https://twitter.com/intent/tweet\";\n    const text = props.settings.description;\n    const username = props.settings.username;\n\n    let href = base + \"?url=\" + url + \"&text=\" + text;\n\n    if (username) {\n      href += \"&via=\" + username;\n    }\n\n    return href;\n  }\n\n  renderText() {\n    if (this.props.showText) {\n      return (\n        <Translation defaultValue=\"Share on Twitter\" i18nKey=\"social.shareOnTwitter\" />\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const iconClassNames = classnames({\n      \"fa\": true,\n      \"fa-twitter\": this.props.altIcon !== true,\n      \"fa-twitter-alt\": this.props.altIcon,\n      [this.props.size]: this.props.size\n    });\n\n    return (\n      <a className=\"btn btn-flat twitter-share\" aria-label=\"Share to Twitter\" href=\"#\" onClick={this.handleClick}\n        target=\"_blank\"\n      >\n        <Helmet\n          meta={getTwitterMeta(this.props)}\n        />\n        <i className={iconClassNames} />\n        {this.renderText()}\n      </a>\n    );\n  }\n}\n\nTwitterSocialButton.propTypes = {\n  altIcon: PropTypes.bool,\n  showText: PropTypes.bool,\n  size: PropTypes.string\n};\n\nexport default TwitterSocialButton;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/social/client/components/twitter.js.map","sourceFileName":"/imports/plugins/included/social/client/components/twitter.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"twitter"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n  getTwitterMeta: function () {\n    return getTwitterMeta;\n  }\n});\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar Helmet = void 0;\nmodule.importSync(\"react-helmet\", {\n  \"default\": function (v) {\n    Helmet = v;\n  }\n}, 1);\nvar classnames = void 0;\nmodule.importSync(\"classnames\", {\n  \"default\": function (v) {\n    classnames = v;\n  }\n}, 2);\nvar Translation = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  Translation: function (v) {\n    Translation = v;\n  }\n}, 3);\n\nfunction getTwitterMeta(props) {\n  var title = props.title || document.title;\n  var preferredUrl = props.url || location.origin + location.pathname;\n  var url = encodeURIComponent(preferredUrl);\n  var username = props.settings.username;\n  var description = props.settings.description;\n  var meta = [{\n    property: \"twitter:card\",\n    content: \"summary\"\n  }, {\n    property: \"twitter:creator\",\n    content: username\n  }, {\n    property: \"twitter:url\",\n    content: url\n  }, {\n    property: \"twitter:title\",\n    content: title\n  }, {\n    property: \"twitter:description\",\n    content: description\n  }];\n\n  if (props.media) {\n    var media = void 0;\n\n    if (!/^http(s?):\\/\\/+/.test(props.media)) {\n      media = location.origin + props.media;\n    }\n\n    meta.push({\n      property: \"twitter:image\",\n      content: media\n    });\n  }\n}\n\nvar TwitterSocialButton = function (_Component) {\n  (0, _inherits3.default)(TwitterSocialButton, _Component);\n\n  function TwitterSocialButton() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, TwitterSocialButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleClick = function (event) {\n      event.preventDefault();\n\n      if (window) {\n        window.open(_this.url, \"twitter_window\", \"width=750, height=650\");\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  TwitterSocialButton.prototype.renderText = function () {\n    function renderText() {\n      if (this.props.showText) {\n        return React.createElement(Translation, {\n          defaultValue: \"Share on Twitter\",\n          i18nKey: \"social.shareOnTwitter\"\n        });\n      }\n\n      return null;\n    }\n\n    return renderText;\n  }();\n\n  TwitterSocialButton.prototype.render = function () {\n    function render() {\n      var _classnames;\n\n      var iconClassNames = classnames((_classnames = {\n        \"fa\": true,\n        \"fa-twitter\": this.props.altIcon !== true,\n        \"fa-twitter-alt\": this.props.altIcon\n      }, _classnames[this.props.size] = this.props.size, _classnames));\n      return React.createElement(\n        \"a\",\n        {\n          className: \"btn btn-flat twitter-share\",\n          \"aria-label\": \"Share to Twitter\",\n          href: \"#\",\n          onClick: this.handleClick,\n          target: \"_blank\"\n        },\n        React.createElement(Helmet, {\n          meta: getTwitterMeta(this.props)\n        }),\n        React.createElement(\"i\", {\n          className: iconClassNames\n        }),\n        this.renderText()\n      );\n    }\n\n    return render;\n  }();\n\n  (0, _createClass3.default)(TwitterSocialButton, [{\n    key: \"url\",\n    get: function () {\n      var props = this.props;\n      var preferredUrl = props.url || location.origin + location.pathname;\n      var url = encodeURIComponent(preferredUrl);\n      var base = \"https://twitter.com/intent/tweet\";\n      var text = props.settings.description;\n      var username = props.settings.username;\n      var href = base + \"?url=\" + url + \"&text=\" + text;\n\n      if (username) {\n        href += \"&via=\" + username;\n      }\n\n      return href;\n    }\n  }]);\n  return TwitterSocialButton;\n}(Component);\n\nTwitterSocialButton.propTypes = {\n  altIcon: PropTypes.bool,\n  showText: PropTypes.bool,\n  size: PropTypes.string\n};\nmodule.export(\"default\", exports.default = TwitterSocialButton);","map":{"version":3,"sources":["/imports/plugins/included/social/client/components/twitter.js"],"names":["React","Component","PropTypes","Helmet","classnames","Translation","getTwitterMeta","props","title","document","preferredUrl","url","location","origin","pathname","encodeURIComponent","username","settings","description","meta","property","content","media","test","push","TwitterSocialButton","handleClick","event","preventDefault","window","open","base","text","href","renderText","showText","render","iconClassNames","altIcon","size","propTypes","bool","string"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAA,AAAO;AAAS;WAAhB,AAA4C;;;AAA5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAO,AAAY,AACnB,AAAO,AAAgB,AACvB,AAAS,AAAmB,AAG5B,AAAO,AAAS,AAAe,AAAO,AACpC,AAAM,AAAQ,AAAM,AAAS,AAAS,AACtC;;AAAM,SAAe,AAAM,eAAN,AAAa,OAAlC,AAAkC,AAAS,AAAS,AAAS,AAC7D;MAAM,AAAM,uBAAmB,SAA/B,AAAY,AACZ;MAAM,AAAW,eAAM,MAAN,AAAe,OAAhC,2BACA;MAAM,MAAc,AAAM,mBAA1B,AAAoB,AAAe,AAEnC;MAAM,AAAO,AACX,0BAAE;MAAU,oBAAZ,SAAA,AAA4B,AAAS;AAD1B,AAEX;AAAY,cAAZ;aAA+B;GAA7B;AAAsC;aAF7B,AAEX;;;aACE;AAAF;AAAY,cAAZ;aAA2B;;AAAS;aAHzB,AAGX,AACA,AAAE,AAAU,AAAiB;;;YAAS,OAJ3B,AAIX;AACA,QAAA,AAAE,AAAU,AAAuB;;SAAS,qCAL9C,AAAa,AAKX;;AAGF,AAAI,AAAM,AAAO,AACf;;AAAI,SAAJ;gBAEA;AAAI,AAAC,eAAL,AAAK,AAAkB,AAAK,AAAM,AAAQ,AACxC,AAAQ,AAAS,AAAS,AAAM,AACjC;;;AAED,AAAK,AAAK,AACR;;IADQ,AACE;;;;;;;;;;;;0JACD,+BAFD;AAAV,YAID,AACF;;;iDAED;AAAA,AAAM,AAA4B,AAAU,AAC1C;AAAc,AAAC,AAAU,AACvB,AAAM;;;;;+BAqBN;AAAA,AAAO,AACR;;mBAED;;AAAa,AACX;;AAAI,aAAJ,AAAI,AAAK,AAAM,AAAU,AACvB;AAAA,AACE,AAAC,AAAY,AAAa,AAAmB,AAAQ,AAExD;;;;;;;AACD;;UAAA,AAAO;;6CAGT;AAAS,qCACP;AAHD,qBAGO,mBAAiB,WAAW,AAChC,AAAM,AACN,AAAc,AAAK,AAAM,AAAY,AACrC;AAHgC,AAGd,AAAK,AAAM,AAC7B;AAAC;;AAAA,AAAK,AAAM,qBAAZ,AAAmB,AAAK,AAAM;;;wBAJhC,AAAuB,AAAW;kBAOlC,AACE,AAAC,AAAE,AAAU,AAA6B,AAAW,AAAmB,AAAK,AAAI,AAAQ,AAAC,AAAK,AAC7F,AAAO;;AAEP,4BAAA,AAAC,AACC,AAAK,AAAC,AAAe,AAAK,AAE5B,AAAC;AAAD,AAAG,gBAAU,AAAC,oBAAd,AAAa,AACb,AAAC,AAAK,AACR;;AATF,AASE,AAAE;qBAEL;;aAtDyC;;AAyD5C,AAAoB,AAAY,AAC9B,AAAS,AAAU;;;;;;;qBAtDjB;AAAI,UAAJ,AAAY,aACV;UAAA,AAAO,AAAK,AAAK,eAAjB,AAAsB,aAAtB,AAAwC,2BAAxC,AACD;mCALH,AAMC;;gCAED;AAAA,AAAI,UAAM,0BACR,AAAM,AAAQ,AAAK,AACnB;UAAM,cAAe,AAAM,UAAN,MAAa,AAAS,WAA3C,AAAkC,AAAkB,AAAS,AAC7D,AAAM,AAAM,AAAmB,AAC/B;;UAAM,AAAO,UAAb,AACA;AAAM,gBAAO,AAAM,UAAnB,AAAa,AAAe,AAC5B;AAAA,AAAM,AAAW,AAAM,AAAS,AAEhC,AAAI,AAAO,AAAO,AAAU,AAAM,AAAW;;aAE7C;AAAA,AAAI,AAAU,AACZ,AAAQ,AAAU,AACnB;;;EA1BC;;AAgEJ,AAAU,oBAFoB,AAEV;AACd,WAAU,UAHlB,AAAgC;sBAMhC;QAAe,UAAf;AAHE;yBA/FF,AAA2B","file":"/imports/plugins/included/social/client/components/twitter.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport Helmet from \"react-helmet\";\nimport classnames from \"classnames\";\nimport { Translation } from \"/imports/plugins/core/ui/client/components\";\n\n\nexport function getTwitterMeta(props) {\n  const title = props.title || document.title;\n  const preferredUrl = props.url || location.origin + location.pathname;\n  const url = encodeURIComponent(preferredUrl);\n  const username = props.settings.username;\n  const description = props.settings.description;\n\n  const meta = [\n    { property: \"twitter:card\", content: \"summary\" },\n    { property: \"twitter:creator\", content: username },\n    { property: \"twitter:url\", content: url },\n    { property: \"twitter:title\", content: title },\n    { property: \"twitter:description\", content: description }\n  ];\n\n  if (props.media) {\n    let media;\n\n    if (!/^http(s?):\\/\\/+/.test(props.media)) {\n      media = location.origin + props.media;\n    }\n\n    meta.push({\n      property: \"twitter:image\",\n      content: media\n    });\n  }\n}\n\nclass TwitterSocialButton extends Component {\n  handleClick = (event) => {\n    event.preventDefault();\n\n    if (window) {\n      window.open(this.url, \"twitter_window\", \"width=750, height=650\");\n    }\n  }\n\n  get url() {\n    const props = this.props;\n    const preferredUrl = props.url || location.origin + location.pathname;\n    const url = encodeURIComponent(preferredUrl);\n    const base = \"https://twitter.com/intent/tweet\";\n    const text = props.settings.description;\n    const username = props.settings.username;\n\n    let href = base + \"?url=\" + url + \"&text=\" + text;\n\n    if (username) {\n      href += \"&via=\" + username;\n    }\n\n    return href;\n  }\n\n  renderText() {\n    if (this.props.showText) {\n      return (\n        <Translation defaultValue=\"Share on Twitter\" i18nKey=\"social.shareOnTwitter\" />\n      );\n    }\n    return null;\n  }\n\n  render() {\n    const iconClassNames = classnames({\n      \"fa\": true,\n      \"fa-twitter\": this.props.altIcon !== true,\n      \"fa-twitter-alt\": this.props.altIcon,\n      [this.props.size]: this.props.size\n    });\n\n    return (\n      <a className=\"btn btn-flat twitter-share\" aria-label=\"Share to Twitter\" href=\"#\" onClick={this.handleClick}\n        target=\"_blank\"\n      >\n        <Helmet\n          meta={getTwitterMeta(this.props)}\n        />\n        <i className={iconClassNames} />\n        {this.renderText()}\n      </a>\n    );\n  }\n}\n\nTwitterSocialButton.propTypes = {\n  altIcon: PropTypes.bool,\n  showText: PropTypes.bool,\n  size: PropTypes.string\n};\n\nexport default TwitterSocialButton;\n"]},"hash":"37cdc0c04f1c114339049e4153749d304de46819"}
