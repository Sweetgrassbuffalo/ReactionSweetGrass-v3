{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"meteor/check","imported":["check"],"specifiers":[{"kind":"named","imported":"check","local":"check"}]},{"source":"/lib/collections","imported":["Shipping"],"specifiers":[{"kind":"named","imported":"Shipping","local":"Shipping"}]},{"source":"/server/api","imported":["Reaction"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"}]},{"source":"../lib/roles","imported":["shippingRoles"],"specifiers":[{"kind":"named","imported":"shippingRoles","local":"shippingRoles"}]}],"exports":{"exported":["methods"],"specifiers":[{"kind":"local","local":"methods","exported":"methods"}]}}},"options":{"filename":"/imports/plugins/included/shippo/server/methods/carriers.js","filenameRelative":"/imports/plugins/included/shippo/server/methods/carriers.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/shippo/server/methods/carriers.js"],"names":["Meteor","check","Shipping","Reaction","shippingRoles","methods","provider","Object","hasPermission","Error","method","flatten","require","update","_id","$set"],"mappings":"AAAA,OAAS;AAAT;AAAuB;;;AAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAa,AACtB,AAAS,AAAgB,AACzB,AAAS,AAAgB,AACzB,AAAS,AAAqB,AAE9B,AAAO,AAAM,AAAU,AACrB;;AAMA,AAAyB,AAAU,AAAU,AAC3C,AAAM,AAAU,AAAS;;;;;;AACrB,AAAC,UAAS,kBAAd,CAAA,AAAK,AAAuB,AAAgB,AAC1C;;SAAM,AAAI,SAAJ,AAAW,AAAM,cAAjB,AAAsB,gBAA5B,AAAM,AACP;;AACD;;QAAM,SAAN,AAAe,AACf;WAAA,AAAO,WAAP,AAAkB;;0BAClB;;QAAM,SAAU,QAAhB,AAAgB,AAAQ;;AAClB,AAAS,sBAAQ,SAAvB,AAAe,AACf;AADA;YACO,AAAgB,AACL,AAAS,AACxB,AACD;AAHK,AAAS,AAAO,AACrB;AADF,AAAO,AAEJ,AACK,AAET;;AArBI,AAAgB,eAwBvB,AAAO,AAAQ","file":"/imports/plugins/included/shippo/server/methods/carriers.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Shipping } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\nimport { shippingRoles } from \"../lib/roles\";\n\nexport const methods = {\n  /**\n   * shippo/carrier/update\n   * @summary update Shipping methods for a provider\n   * @param {String} provider provider object\n   * @return {Number} update result\n   */\n  \"shippo/carrier/update\": function (provider) {\n    check(provider, Object); // ShippingProvider\n    if (!Reaction.hasPermission(shippingRoles)) {\n      throw new Meteor.Error(403, \"Access Denied\");\n    }\n    const method = {};\n    method.provider = provider;\n    const flatten = require(\"flatten-obj\")();\n    const update = flatten(method);\n    return Shipping.update({\n      \"provider._id\": provider._id\n    }, {\n      $set: update\n    });\n  }\n};\n\nMeteor.methods(methods);\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/shippo/server/methods/carriers.js.map","sourceFileName":"/imports/plugins/included/shippo/server/methods/carriers.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"carriers"},"ignored":false,"code":"module.export({\n  methods: function () {\n    return methods;\n  }\n});\nvar Meteor = void 0;\nmodule.importSync(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar check = void 0;\nmodule.importSync(\"meteor/check\", {\n  check: function (v) {\n    check = v;\n  }\n}, 1);\nvar Shipping = void 0;\nmodule.importSync(\"/lib/collections\", {\n  Shipping: function (v) {\n    Shipping = v;\n  }\n}, 2);\nvar Reaction = void 0;\nmodule.importSync(\"/server/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 3);\nvar shippingRoles = void 0;\nmodule.importSync(\"../lib/roles\", {\n  shippingRoles: function (v) {\n    shippingRoles = v;\n  }\n}, 4);\nvar methods = {\n  /**\n   * shippo/carrier/update\n   * @summary update Shipping methods for a provider\n   * @param {String} provider provider object\n   * @return {Number} update result\n   */\"shippo/carrier/update\": function (provider) {\n    check(provider, Object); // ShippingProvider\n\n    if (!Reaction.hasPermission(shippingRoles)) {\n      throw new Meteor.Error(403, \"Access Denied\");\n    }\n\n    var method = {};\n    method.provider = provider;\n\n    var flatten = require(\"flatten-obj\")();\n\n    var update = flatten(method);\n    return Shipping.update({\n      \"provider._id\": provider._id\n    }, {\n      $set: update\n    });\n  }\n};\nMeteor.methods(methods);","map":{"version":3,"sources":["/imports/plugins/included/shippo/server/methods/carriers.js"],"names":["Meteor","check","Shipping","Reaction","shippingRoles","methods","provider","Object","hasPermission","Error","method","flatten","require","update","_id","$set"],"mappings":"AAAA,OAAS;AAAT;AAAuB;;;AAAvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AAAS,AAAa,AACtB,AAAS,AAAgB,AACzB,AAAS,AAAgB,AACzB,AAAS,AAAqB,AAE9B,AAAO,AAAM,AAAU,AACrB;;AAMA,AAAyB,AAAU,AAAU,AAC3C,AAAM,AAAU,AAAS;;;;;;AACrB,AAAC,UAAS,kBAAd,CAAA,AAAK,AAAuB,AAAgB,AAC1C;;SAAM,AAAI,SAAJ,AAAW,AAAM,cAAjB,AAAsB,gBAA5B,AAAM,AACP;;AACD;;QAAM,SAAN,AAAe,AACf;WAAA,AAAO,WAAP,AAAkB;;0BAClB;;QAAM,SAAU,QAAhB,AAAgB,AAAQ;;AAClB,AAAS,sBAAQ,SAAvB,AAAe,AACf;AADA;YACO,AAAgB,AACL,AAAS,AACxB,AACD;AAHK,AAAS,AAAO,AACrB;AADF,AAAO,AAEJ,AACK,AAET;;AArBI,AAAgB,eAwBvB,AAAO,AAAQ","file":"/imports/plugins/included/shippo/server/methods/carriers.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { check } from \"meteor/check\";\nimport { Shipping } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\nimport { shippingRoles } from \"../lib/roles\";\n\nexport const methods = {\n  /**\n   * shippo/carrier/update\n   * @summary update Shipping methods for a provider\n   * @param {String} provider provider object\n   * @return {Number} update result\n   */\n  \"shippo/carrier/update\": function (provider) {\n    check(provider, Object); // ShippingProvider\n    if (!Reaction.hasPermission(shippingRoles)) {\n      throw new Meteor.Error(403, \"Access Denied\");\n    }\n    const method = {};\n    method.provider = provider;\n    const flatten = require(\"flatten-obj\")();\n    const update = flatten(method);\n    return Shipping.update({\n      \"provider._id\": provider._id\n    }, {\n      $set: update\n    });\n  }\n};\n\nMeteor.methods(methods);\n"]},"hash":"7d835640b62d30045fea2a7dfb0fd2af598f8643"}
