{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["Translation","IconButton"],"specifiers":[{"kind":"named","imported":"Translation","local":"Translation"},{"kind":"named","imported":"IconButton","local":"IconButton"}]},{"source":"./form","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"DiscountForm"}]},{"source":"/lib/api/compose","imported":["composeWithTracker"],"specifiers":[{"kind":"named","imported":"composeWithTracker","local":"composeWithTracker"}]},{"source":"/client/api","imported":["Reaction"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/core/discounts/client/components/list.js","filenameRelative":"/imports/plugins/core/discounts/client/components/list.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/core/discounts/client/components/list.js"],"names":["React","Component","PropTypes","Translation","IconButton","DiscountForm","composeWithTracker","Reaction","DiscountList","constructor","props","handleClick","bind","event","codeId","Meteor","call","id","collection","renderList","listItems","map","listItem","renderItem","code","_id","TrashCan","e","renderNoneFound","validatedInput","render","length","propTypes","string","array","bool","composer","onData","currentCart","Collections","findOne","billing","paymentMethod","processor","push","discount","amount","options","propsToWatch","discountListComponent"],"mappings":"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","file":"/imports/plugins/core/discounts/client/components/list.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport { Translation, IconButton } from \"/imports/plugins/core/ui/client/components\";\nimport DiscountForm from \"./form\";\nimport { composeWithTracker } from \"/lib/api/compose\";\nimport { Reaction } from \"/client/api\";\n\nclass DiscountList extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  // handle remove click\n  handleClick(event, codeId) {\n    return Meteor.call(\"discounts/codes/remove\", this.props.id, codeId, this.props.collection);\n  }\n  // list items\n  renderList() {\n    const listItems = this.props.listItems.map((listItem) => {\n      return this.renderItem(listItem.id, listItem.code);\n    });\n\n    return (\n      <div className=\"rui list-group\">{listItems}</div>\n    );\n  }\n  // render item\n  renderItem(_id, code) {\n    let TrashCan;\n\n    if (this.props.collection !== \"Orders\") {\n      TrashCan =\n        <a className=\"pull-right\">\n          <IconButton icon=\"fa fa-remove\" onClick={(e) => this.handleClick(e, _id)}/>\n        </a>;\n    }\n    return (\n      <div className=\"rui list-group-item\" key={_id}>\n        <span>\n          {code}&nbsp;\n          <Translation defaultValue=\"code\" i18nKey={\"discounts.code\"} />&nbsp;\n          <Translation defaultValue=\"Discount applied\" i18nKey={\"discounts.applied\"} />\n        </span>\n        {TrashCan}\n      </div>\n    );\n  }\n\n  // load form input view\n  renderNoneFound() {\n    return (\n      <DiscountForm id={this.props.id} collection={this.props.collection} validatedInput={this.props.validatedInput} />\n    );\n  }\n\n  // render list view\n  render() {\n    const { listItems } = this.props;\n    return (listItems.length >= 1) ? this.renderList() : this.renderNoneFound();\n  }\n}\n\nDiscountList.propTypes = {\n  collection: PropTypes.string,\n  id: PropTypes.string,\n  listItems: PropTypes.array,\n  validatedInput: PropTypes.bool\n};\n\nfunction composer(props, onData) {\n  const currentCart = Reaction.Collections[props.collection].findOne({\n    _id: props.id\n  });\n\n  const listItems = [];\n  for (const billing of currentCart.billing) {\n    if (billing.paymentMethod && billing.paymentMethod.processor === \"code\") {\n      listItems.push({\n        id: billing._id,\n        code: billing.paymentMethod.code,\n        discount: billing.paymentMethod.amount\n      });\n    }\n  }\n\n  onData(null, {\n    collection: props.collection,\n    validatedInput: props.validatedInput,\n    id: props.id,\n    listItems: listItems\n  });\n}\n\n// export default composeWithTracker(composer)(DiscountList)\nconst options = {\n  propsToWatch: [\"billing\"]\n};\n\nlet discountListComponent = DiscountList;\ndiscountListComponent = composeWithTracker(composer, options)(discountListComponent);\n\nexport default discountListComponent;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/core/discounts/client/components/list.js.map","sourceFileName":"/imports/plugins/core/discounts/client/components/list.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"list"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar Translation = void 0,\n    IconButton = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  Translation: function (v) {\n    Translation = v;\n  },\n  IconButton: function (v) {\n    IconButton = v;\n  }\n}, 1);\nvar DiscountForm = void 0;\nmodule.importSync(\"./form\", {\n  \"default\": function (v) {\n    DiscountForm = v;\n  }\n}, 2);\nvar composeWithTracker = void 0;\nmodule.importSync(\"/lib/api/compose\", {\n  composeWithTracker: function (v) {\n    composeWithTracker = v;\n  }\n}, 3);\nvar Reaction = void 0;\nmodule.importSync(\"/client/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 4);\n\nvar DiscountList = function (_Component) {\n  (0, _inherits3.default)(DiscountList, _Component);\n\n  function DiscountList(props) {\n    (0, _classCallCheck3.default)(this, DiscountList);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.handleClick = _this.handleClick.bind(_this);\n    return _this;\n  } // handle remove click\n\n\n  DiscountList.prototype.handleClick = function () {\n    function handleClick(event, codeId) {\n      return Meteor.call(\"discounts/codes/remove\", this.props.id, codeId, this.props.collection);\n    }\n\n    return handleClick;\n  }(); // list items\n\n\n  DiscountList.prototype.renderList = function () {\n    function renderList() {\n      var _this2 = this;\n\n      var listItems = this.props.listItems.map(function (listItem) {\n        return _this2.renderItem(listItem.id, listItem.code);\n      });\n      return React.createElement(\n        \"div\",\n        {\n          className: \"rui list-group\"\n        },\n        listItems\n      );\n    }\n\n    return renderList;\n  }(); // render item\n\n\n  DiscountList.prototype.renderItem = function () {\n    function renderItem(_id, code) {\n      var _this3 = this;\n\n      var TrashCan = void 0;\n\n      if (this.props.collection !== \"Orders\") {\n        TrashCan = React.createElement(\n          \"a\",\n          {\n            className: \"pull-right\"\n          },\n          React.createElement(IconButton, {\n            icon: \"fa fa-remove\",\n            onClick: function (e) {\n              return _this3.handleClick(e, _id);\n            }\n          })\n        );\n      }\n\n      return React.createElement(\n        \"div\",\n        {\n          className: \"rui list-group-item\",\n          key: _id\n        },\n        React.createElement(\n          \"span\",\n          null,\n          code,\n          \"\\xA0\",\n          React.createElement(Translation, {\n            defaultValue: \"code\",\n            i18nKey: \"discounts.code\"\n          }),\n          \"\\xA0\",\n          React.createElement(Translation, {\n            defaultValue: \"Discount applied\",\n            i18nKey: \"discounts.applied\"\n          })\n        ),\n        TrashCan\n      );\n    }\n\n    return renderItem;\n  }(); // load form input view\n\n\n  DiscountList.prototype.renderNoneFound = function () {\n    function renderNoneFound() {\n      return React.createElement(DiscountForm, {\n        id: this.props.id,\n        collection: this.props.collection,\n        validatedInput: this.props.validatedInput\n      });\n    }\n\n    return renderNoneFound;\n  }(); // render list view\n\n\n  DiscountList.prototype.render = function () {\n    function render() {\n      var listItems = this.props.listItems;\n      return listItems.length >= 1 ? this.renderList() : this.renderNoneFound();\n    }\n\n    return render;\n  }();\n\n  return DiscountList;\n}(Component);\n\nDiscountList.propTypes = {\n  collection: PropTypes.string,\n  id: PropTypes.string,\n  listItems: PropTypes.array,\n  validatedInput: PropTypes.bool\n};\n\nfunction composer(props, onData) {\n  var currentCart = Reaction.Collections[props.collection].findOne({\n    _id: props.id\n  });\n  var listItems = [];\n\n  for (var _iterator = currentCart.billing, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var billing = _ref;\n\n    if (billing.paymentMethod && billing.paymentMethod.processor === \"code\") {\n      listItems.push({\n        id: billing._id,\n        code: billing.paymentMethod.code,\n        discount: billing.paymentMethod.amount\n      });\n    }\n  }\n\n  onData(null, {\n    collection: props.collection,\n    validatedInput: props.validatedInput,\n    id: props.id,\n    listItems: listItems\n  });\n} // export default composeWithTracker(composer)(DiscountList)\n\n\nvar options = {\n  propsToWatch: [\"billing\"]\n};\nvar discountListComponent = DiscountList;\ndiscountListComponent = composeWithTracker(composer, options)(discountListComponent);\nmodule.export(\"default\", exports.default = discountListComponent);","map":{"version":3,"sources":["/imports/plugins/core/discounts/client/components/list.js"],"names":["React","Component","PropTypes","Translation","IconButton","DiscountForm","composeWithTracker","Reaction","DiscountList","constructor","props","handleClick","bind","event","codeId","Meteor","call","id","collection","renderList","listItems","map","listItem","renderItem","code","_id","TrashCan","e","renderNoneFound","validatedInput","render","length","propTypes","string","array","bool","composer","onData","currentCart","Collections","findOne","billing","paymentMethod","processor","push","discount","amount","options","propsToWatch","discountListComponent"],"mappings":"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","file":"/imports/plugins/core/discounts/client/components/list.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport { Translation, IconButton } from \"/imports/plugins/core/ui/client/components\";\nimport DiscountForm from \"./form\";\nimport { composeWithTracker } from \"/lib/api/compose\";\nimport { Reaction } from \"/client/api\";\n\nclass DiscountList extends Component {\n  constructor(props) {\n    super(props);\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  // handle remove click\n  handleClick(event, codeId) {\n    return Meteor.call(\"discounts/codes/remove\", this.props.id, codeId, this.props.collection);\n  }\n  // list items\n  renderList() {\n    const listItems = this.props.listItems.map((listItem) => {\n      return this.renderItem(listItem.id, listItem.code);\n    });\n\n    return (\n      <div className=\"rui list-group\">{listItems}</div>\n    );\n  }\n  // render item\n  renderItem(_id, code) {\n    let TrashCan;\n\n    if (this.props.collection !== \"Orders\") {\n      TrashCan =\n        <a className=\"pull-right\">\n          <IconButton icon=\"fa fa-remove\" onClick={(e) => this.handleClick(e, _id)}/>\n        </a>;\n    }\n    return (\n      <div className=\"rui list-group-item\" key={_id}>\n        <span>\n          {code}&nbsp;\n          <Translation defaultValue=\"code\" i18nKey={\"discounts.code\"} />&nbsp;\n          <Translation defaultValue=\"Discount applied\" i18nKey={\"discounts.applied\"} />\n        </span>\n        {TrashCan}\n      </div>\n    );\n  }\n\n  // load form input view\n  renderNoneFound() {\n    return (\n      <DiscountForm id={this.props.id} collection={this.props.collection} validatedInput={this.props.validatedInput} />\n    );\n  }\n\n  // render list view\n  render() {\n    const { listItems } = this.props;\n    return (listItems.length >= 1) ? this.renderList() : this.renderNoneFound();\n  }\n}\n\nDiscountList.propTypes = {\n  collection: PropTypes.string,\n  id: PropTypes.string,\n  listItems: PropTypes.array,\n  validatedInput: PropTypes.bool\n};\n\nfunction composer(props, onData) {\n  const currentCart = Reaction.Collections[props.collection].findOne({\n    _id: props.id\n  });\n\n  const listItems = [];\n  for (const billing of currentCart.billing) {\n    if (billing.paymentMethod && billing.paymentMethod.processor === \"code\") {\n      listItems.push({\n        id: billing._id,\n        code: billing.paymentMethod.code,\n        discount: billing.paymentMethod.amount\n      });\n    }\n  }\n\n  onData(null, {\n    collection: props.collection,\n    validatedInput: props.validatedInput,\n    id: props.id,\n    listItems: listItems\n  });\n}\n\n// export default composeWithTracker(composer)(DiscountList)\nconst options = {\n  propsToWatch: [\"billing\"]\n};\n\nlet discountListComponent = DiscountList;\ndiscountListComponent = composeWithTracker(composer, options)(discountListComponent);\n\nexport default discountListComponent;\n"]},"hash":"bf3a87b53322410097c8149cc60a4c24b08ce140"}
