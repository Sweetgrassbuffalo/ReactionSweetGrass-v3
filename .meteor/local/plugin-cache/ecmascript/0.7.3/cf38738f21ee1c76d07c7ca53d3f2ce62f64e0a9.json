{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"/lib/api","imported":["ReactionProduct"],"specifiers":[{"kind":"named","imported":"ReactionProduct","local":"ReactionProduct"}]},{"source":"/lib/collections","imported":["Media"],"specifiers":[{"kind":"named","imported":"Media","local":"Media"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/product-variant/client/templates/products/productList/productList.js","filenameRelative":"/imports/plugins/included/product-variant/client/templates/products/productList/productList.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/product-variant/client/templates/products/productList/productList.js"],"names":["ReactionProduct","Media","Template","productList","helpers","products","getProductsByTag","tag","media","defaultImage","variants","getTopVariants","length","variantId","_id","findOne","sort"],"mappings":"AAAA,IAAS;AAAT,OAAgC,WAAhC;;;;;;;;;;GACA,AAAS,AAAa,AAEtB,A;AAIA,AAAS,AAAY,AAAQ,AAC3B,AAAU,AAAY,AACpB,AAAO,AAAgB,AAAiB,AAAK;;;AAExC,YAAY,YACjB;AAAI,WAAJ,sCACA;AAAA,AAAM,AAAW;qBACjB;QAAA,AAAI,AAAS,AAAS,AAAG,AACvB;QAAM,WAAN,AAAkB,AAAS,AAAG,AAC9B;;iBAAe,SAAM,GAAN,AAAc,AAC3B;sBAAsB,YADK;AAAd,AAEZ;AACK,8BAAE;AAAR;;AAA8C;wBAD7C,AACK;;AAAA,AAAuB,AAAG;AAHlC,AAAe,AAKhB;;;aACD;AAAA,AAAI,AAAc,AAChB;;WAAA,AAAO,AACR;AAjBL,AAA6B,AAkBzB,AAAO,AACR;AAfD,CAJ2B,AAG1B","file":"/imports/plugins/included/product-variant/client/templates/products/productList/productList.js.map","sourcesContent":["import { ReactionProduct } from \"/lib/api\";\nimport { Media } from \"/lib/collections\";\n\n/**\n * productList helpers\n */\n\nTemplate.productList.helpers({\n  products: function () {\n    return ReactionProduct.getProductsByTag(this.tag);\n  },\n  media: function () {\n    let defaultImage;\n    const variants = getTopVariants();\n    if (variants.length > 0) {\n      const variantId = variants[0]._id;\n      defaultImage = Media.findOne({\n        \"metadata.variantId\": variantId\n      }, {\n        sort: { \"metadata.priority\": 1, \"uploadedAt\": 1 }\n      });\n    }\n    if (defaultImage) {\n      return defaultImage;\n    }\n    return false;\n  }\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/product-variant/client/templates/products/productList/productList.js.map","sourceFileName":"/imports/plugins/included/product-variant/client/templates/products/productList/productList.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"productList"},"ignored":false,"code":"var ReactionProduct = void 0;\nmodule.importSync(\"/lib/api\", {\n  ReactionProduct: function (v) {\n    ReactionProduct = v;\n  }\n}, 0);\nvar Media = void 0;\nmodule.importSync(\"/lib/collections\", {\n  Media: function (v) {\n    Media = v;\n  }\n}, 1);\n/**\n * productList helpers\n */Template.productList.helpers({\n  products: function () {\n    return ReactionProduct.getProductsByTag(this.tag);\n  },\n  media: function () {\n    var defaultImage = void 0;\n    var variants = getTopVariants();\n\n    if (variants.length > 0) {\n      var variantId = variants[0]._id;\n      defaultImage = Media.findOne({\n        \"metadata.variantId\": variantId\n      }, {\n        sort: {\n          \"metadata.priority\": 1,\n          \"uploadedAt\": 1\n        }\n      });\n    }\n\n    if (defaultImage) {\n      return defaultImage;\n    }\n\n    return false;\n  }\n});","map":{"version":3,"sources":["/imports/plugins/included/product-variant/client/templates/products/productList/productList.js"],"names":["ReactionProduct","Media","Template","productList","helpers","products","getProductsByTag","tag","media","defaultImage","variants","getTopVariants","length","variantId","_id","findOne","sort"],"mappings":"AAAA,IAAS;AAAT,OAAgC,WAAhC;;;;;;;;;;GACA,AAAS,AAAa,AAEtB,A;AAIA,AAAS,AAAY,AAAQ,AAC3B,AAAU,AAAY,AACpB,AAAO,AAAgB,AAAiB,AAAK;;;AAExC,YAAY,YACjB;AAAI,WAAJ,sCACA;AAAA,AAAM,AAAW;qBACjB;QAAA,AAAI,AAAS,AAAS,AAAG,AACvB;QAAM,WAAN,AAAkB,AAAS,AAAG,AAC9B;;iBAAe,SAAM,GAAN,AAAc,AAC3B;sBAAsB,YADK;AAAd,AAEZ;AACK,8BAAE;AAAR;;AAA8C;wBAD7C,AACK;;AAAA,AAAuB,AAAG;AAHlC,AAAe,AAKhB;;;aACD;AAAA,AAAI,AAAc,AAChB;;WAAA,AAAO,AACR;AAjBL,AAA6B,AAkBzB,AAAO,AACR;AAfD,CAJ2B,AAG1B","file":"/imports/plugins/included/product-variant/client/templates/products/productList/productList.js.map","sourcesContent":["import { ReactionProduct } from \"/lib/api\";\nimport { Media } from \"/lib/collections\";\n\n/**\n * productList helpers\n */\n\nTemplate.productList.helpers({\n  products: function () {\n    return ReactionProduct.getProductsByTag(this.tag);\n  },\n  media: function () {\n    let defaultImage;\n    const variants = getTopVariants();\n    if (variants.length > 0) {\n      const variantId = variants[0]._id;\n      defaultImage = Media.findOne({\n        \"metadata.variantId\": variantId\n      }, {\n        sort: { \"metadata.priority\": 1, \"uploadedAt\": 1 }\n      });\n    }\n    if (defaultImage) {\n      return defaultImage;\n    }\n    return false;\n  }\n});\n"]},"hash":"cf38738f21ee1c76d07c7ca53d3f2ce62f64e0a9"}
