{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/templating","imported":["Template"],"specifiers":[{"kind":"named","imported":"Template","local":"Template"}]},{"source":"/client/api","imported":["Reaction","i18next"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"},{"kind":"named","imported":"i18next","local":"i18next"}]},{"source":"/lib/collections","imported":["Packages"],"specifiers":[{"kind":"named","imported":"Packages","local":"Packages"}]},{"source":"../../lib/collections/schemas","imported":["ShippoPackageConfig"],"specifiers":[{"kind":"named","imported":"ShippoPackageConfig","local":"ShippoPackageConfig"}]},{"source":"./shippo.html","imported":[],"specifiers":[]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/shippo/client/settings/shippo.js","filenameRelative":"/imports/plugins/included/shippo/client/settings/shippo.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/shippo/client/settings/shippo.js"],"names":["Template","Reaction","i18next","Packages","ShippoPackageConfig","shippoSettings","helpers","packageData","findOne","name","shopId","getShopId","events","event","preventDefault","Meteor","call","AutoForm","hooks","onSuccess","formType","result","Alerts","removeSeen","successMsg","type","t","toast","autoHide","onError","operation","error"],"mappings":"AAAA,IAAS;AAAT,OAAyB,WAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;kBACA,AAAS,AAAU,AAAe,AAClC,AAAS,AAAgB,AACzB,AAAS,AAA2B,AAEpC,AAAO,AAEP,AAAS,AAAe,AAAQ,AAC9B,AAAc;AACZ,SAAO,AAAS,eAAT,AAAiB;AAChB,2BADgB,AAEtB;oBAAiB;AAFnB,YAF4B,AAM7B;uBACD;AALS,AAAiB,AAEd,KAAA;AAGU,AACpB;AAAO,mCAAP,AACD;;AATH,AAAgC,AAYhC,AAAS,AAAe,AAAO;AATzB;AAUJ;AACE,AAAM,qEACN;UAAA,AAAO,AAAK,AACb;;AAJH,AAA+B,AAO/B,AAAS,AAAM;AANb,AAAiD,AAAO,AACtD;AAMF;AACE,AAAU;AACD,yBAAP,kBACA;AAAM,aAAN,AAAmB,AAAC,AAAO,AAAS,AAAY,AAAQ,AAAE,AACb,AAAQ,AAAE,AAEvD;UAAO,AAAO,aAAM,OAAb,AAAyB,SAAzB,AAAoC,QAApC,aACL,AAAU,0CAPM,AAMlB,AAAO,AAAoC,AAG5C;;kBACD,AAAQ,AAAW,AAAO,AACxB;;AAAA,AAAO,AAEP;uBAAO,AAAO,WAAP,AAAc,OAArB,AAAO,AAA+C,AAAM,AAAG,AAChE;aAdmB;qEADxB,AAAe;;AAEX,AAAoB,AAAQ,AAC1B;AAFkB,AACpB","file":"/imports/plugins/included/shippo/client/settings/shippo.js.map","sourcesContent":["import { Template } from \"meteor/templating\";\nimport { Reaction, i18next } from \"/client/api\";\nimport { Packages } from \"/lib/collections\";\nimport { ShippoPackageConfig } from \"../../lib/collections/schemas\";\n\nimport \"./shippo.html\";\n\nTemplate.shippoSettings.helpers({\n  packageData() {\n    return Packages.findOne({\n      name: \"reaction-shippo\",\n      shopId: Reaction.getShopId()\n    });\n  },\n  ShippoPackageConfig() {\n    return ShippoPackageConfig;\n  }\n});\n\nTemplate.shippoSettings.events({\n  \"click [data-event-action=fetchShippoProviders]\"(event) {\n    event.preventDefault();\n    Meteor.call(\"shippo/fetchProviders\");\n  }\n});\n\nAutoForm.hooks({\n  \"shippo-update-form\": {\n    onSuccess(formType, result) {\n      Alerts.removeSeen();\n      const successMsg = (result.type === \"delete\") ? i18next.t(\"admin.settings.saveSuccess\") :\n                                                   i18next.t(\"shippo.connectedAndSaved\");\n\n      return Alerts.toast(successMsg, \"success\", {\n        autoHide: true\n      });\n    },\n    onError(operation, error) {\n      Alerts.removeSeen();\n\n      return Alerts.toast(`Shippo settings update failed. ${error}`, \"error\");\n    }\n  }\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/shippo/client/settings/shippo.js.map","sourceFileName":"/imports/plugins/included/shippo/client/settings/shippo.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"shippo"},"ignored":false,"code":"var Template = void 0;\nmodule.importSync(\"meteor/templating\", {\n  Template: function (v) {\n    Template = v;\n  }\n}, 0);\nvar Reaction = void 0,\n    i18next = void 0;\nmodule.importSync(\"/client/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  },\n  i18next: function (v) {\n    i18next = v;\n  }\n}, 1);\nvar Packages = void 0;\nmodule.importSync(\"/lib/collections\", {\n  Packages: function (v) {\n    Packages = v;\n  }\n}, 2);\nvar ShippoPackageConfig = void 0;\nmodule.importSync(\"../../lib/collections/schemas\", {\n  ShippoPackageConfig: function (v) {\n    ShippoPackageConfig = v;\n  }\n}, 3);\nmodule.importSync(\"./shippo.html\");\nTemplate.shippoSettings.helpers({\n  packageData: function () {\n    return Packages.findOne({\n      name: \"reaction-shippo\",\n      shopId: Reaction.getShopId()\n    });\n  },\n  ShippoPackageConfig: function () {\n    return ShippoPackageConfig;\n  }\n});\nTemplate.shippoSettings.events({\n  \"click [data-event-action=fetchShippoProviders]\": function (event) {\n    event.preventDefault();\n    Meteor.call(\"shippo/fetchProviders\");\n  }\n});\nAutoForm.hooks({\n  \"shippo-update-form\": {\n    onSuccess: function (formType, result) {\n      Alerts.removeSeen();\n      var successMsg = result.type === \"delete\" ? i18next.t(\"admin.settings.saveSuccess\") : i18next.t(\"shippo.connectedAndSaved\");\n      return Alerts.toast(successMsg, \"success\", {\n        autoHide: true\n      });\n    },\n    onError: function (operation, error) {\n      Alerts.removeSeen();\n      return Alerts.toast(\"Shippo settings update failed. \" + error, \"error\");\n    }\n  }\n});","map":{"version":3,"sources":["/imports/plugins/included/shippo/client/settings/shippo.js"],"names":["Template","Reaction","i18next","Packages","ShippoPackageConfig","shippoSettings","helpers","packageData","findOne","name","shopId","getShopId","events","event","preventDefault","Meteor","call","AutoForm","hooks","onSuccess","formType","result","Alerts","removeSeen","successMsg","type","t","toast","autoHide","onError","operation","error"],"mappings":"AAAA,IAAS;AAAT,OAAyB,WAAzB;;;;;;;;;;;;;;;;;;;;;;;;;;;kBACA,AAAS,AAAU,AAAe,AAClC,AAAS,AAAgB,AACzB,AAAS,AAA2B,AAEpC,AAAO,AAEP,AAAS,AAAe,AAAQ,AAC9B,AAAc;AACZ,SAAO,AAAS,eAAT,AAAiB;AAChB,2BADgB,AAEtB;oBAAiB;AAFnB,YAF4B,AAM7B;uBACD;AALS,AAAiB,AAEd,KAAA;AAGU,AACpB;AAAO,mCAAP,AACD;;AATH,AAAgC,AAYhC,AAAS,AAAe,AAAO;AATzB;AAUJ;AACE,AAAM,qEACN;UAAA,AAAO,AAAK,AACb;;AAJH,AAA+B,AAO/B,AAAS,AAAM;AANb,AAAiD,AAAO,AACtD;AAMF;AACE,AAAU;AACD,yBAAP,kBACA;AAAM,aAAN,AAAmB,AAAC,AAAO,AAAS,AAAY,AAAQ,AAAE,AACb,AAAQ,AAAE,AAEvD;UAAO,AAAO,aAAM,OAAb,AAAyB,SAAzB,AAAoC,QAApC,aACL,AAAU,0CAPM,AAMlB,AAAO,AAAoC,AAG5C;;kBACD,AAAQ,AAAW,AAAO,AACxB;;AAAA,AAAO,AAEP;uBAAO,AAAO,WAAP,AAAc,OAArB,AAAO,AAA+C,AAAM,AAAG,AAChE;aAdmB;qEADxB,AAAe;;AAEX,AAAoB,AAAQ,AAC1B;AAFkB,AACpB","file":"/imports/plugins/included/shippo/client/settings/shippo.js.map","sourcesContent":["import { Template } from \"meteor/templating\";\nimport { Reaction, i18next } from \"/client/api\";\nimport { Packages } from \"/lib/collections\";\nimport { ShippoPackageConfig } from \"../../lib/collections/schemas\";\n\nimport \"./shippo.html\";\n\nTemplate.shippoSettings.helpers({\n  packageData() {\n    return Packages.findOne({\n      name: \"reaction-shippo\",\n      shopId: Reaction.getShopId()\n    });\n  },\n  ShippoPackageConfig() {\n    return ShippoPackageConfig;\n  }\n});\n\nTemplate.shippoSettings.events({\n  \"click [data-event-action=fetchShippoProviders]\"(event) {\n    event.preventDefault();\n    Meteor.call(\"shippo/fetchProviders\");\n  }\n});\n\nAutoForm.hooks({\n  \"shippo-update-form\": {\n    onSuccess(formType, result) {\n      Alerts.removeSeen();\n      const successMsg = (result.type === \"delete\") ? i18next.t(\"admin.settings.saveSuccess\") :\n                                                   i18next.t(\"shippo.connectedAndSaved\");\n\n      return Alerts.toast(successMsg, \"success\", {\n        autoHide: true\n      });\n    },\n    onError(operation, error) {\n      Alerts.removeSeen();\n\n      return Alerts.toast(`Shippo settings update failed. ${error}`, \"error\");\n    }\n  }\n});\n"]},"hash":"4785651fce3ff0313a16aa27b5693f65a3e00667"}
