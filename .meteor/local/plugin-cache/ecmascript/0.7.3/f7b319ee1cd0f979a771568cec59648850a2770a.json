{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[{"source":"meteor/meteor","imported":["Meteor"],"specifiers":[{"kind":"named","imported":"Meteor","local":"Meteor"}]},{"source":"/lib/collections","imported":["Inventory"],"specifiers":[{"kind":"named","imported":"Inventory","local":"Inventory"}]},{"source":"/server/api","imported":["Reaction"],"specifiers":[{"kind":"named","imported":"Reaction","local":"Reaction"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/inventory/server/publications/inventory.js","filenameRelative":"/imports/plugins/included/inventory/server/publications/inventory.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/inventory/server/publications/inventory.js"],"names":["Meteor","Inventory","Reaction","publish","userId","ready","shopId","getShopId","Roles","userIsInRole","find"],"mappings":"AAAA,IAAS;AAAT,OAAuB,WAAvB;;;;;;;;;;;;;;;;GACA,AAAS,AAAiB,AAC1B,AAAS,AAAgB,AAEzB,AAAO,AAAQ,AAAa,AAAY;AACtC,AAAI,OAAK,QAAT,AAAI,AAAgB,aAAM,YACxB;WAAO,AAAK,WAAZ,MACD;;AACD;;MAAM,SAAS,SAAf,AAAe,AAAS;;eACxB;AAAI,AAAC,WAAL,AAAa,KACX;AAAA,AAAO,AAAK,AACb;;oFACD;AAAI,qBAAA,AAAmB;AAEd,cAAA,AAAU,AAAK,AACpB,AAAQ;AAHZ,AAAI,AAAwB,AAAQ,AAAC,AAAS,AAAS,AACrD,AAAS,AACT,KAFQ;AAER,AAAO,AAGR;;;AAbH,AAcE,AAAO,AAAK,AACb","file":"/imports/plugins/included/inventory/server/publications/inventory.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { Inventory } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\n\nMeteor.publish(\"Inventory\", function () {\n  if (this.userId === null) {\n    return this.ready();\n  }\n  const shopId = Reaction.getShopId();\n  if (!shopId) {\n    return this.ready();\n  }\n  if (Roles.userIsInRole(this.userId, [\"admin\", \"owner\", \"createProduct\"],\n    shopId)) {\n    return Inventory.find({\n      shopId: shopId\n    });\n  }\n  return this.ready();\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/inventory/server/publications/inventory.js.map","sourceFileName":"/imports/plugins/included/inventory/server/publications/inventory.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"inventory"},"ignored":false,"code":"var Meteor = void 0;\nmodule.importSync(\"meteor/meteor\", {\n  Meteor: function (v) {\n    Meteor = v;\n  }\n}, 0);\nvar Inventory = void 0;\nmodule.importSync(\"/lib/collections\", {\n  Inventory: function (v) {\n    Inventory = v;\n  }\n}, 1);\nvar Reaction = void 0;\nmodule.importSync(\"/server/api\", {\n  Reaction: function (v) {\n    Reaction = v;\n  }\n}, 2);\nMeteor.publish(\"Inventory\", function () {\n  if (this.userId === null) {\n    return this.ready();\n  }\n\n  var shopId = Reaction.getShopId();\n\n  if (!shopId) {\n    return this.ready();\n  }\n\n  if (Roles.userIsInRole(this.userId, [\"admin\", \"owner\", \"createProduct\"], shopId)) {\n    return Inventory.find({\n      shopId: shopId\n    });\n  }\n\n  return this.ready();\n});","map":{"version":3,"sources":["/imports/plugins/included/inventory/server/publications/inventory.js"],"names":["Meteor","Inventory","Reaction","publish","userId","ready","shopId","getShopId","Roles","userIsInRole","find"],"mappings":"AAAA,IAAS;AAAT,OAAuB,WAAvB;;;;;;;;;;;;;;;;GACA,AAAS,AAAiB,AAC1B,AAAS,AAAgB,AAEzB,AAAO,AAAQ,AAAa,AAAY;AACtC,AAAI,OAAK,QAAT,AAAI,AAAgB,aAAM,YACxB;WAAO,AAAK,WAAZ,MACD;;AACD;;MAAM,SAAS,SAAf,AAAe,AAAS;;eACxB;AAAI,AAAC,WAAL,AAAa,KACX;AAAA,AAAO,AAAK,AACb;;oFACD;AAAI,qBAAA,AAAmB;AAEd,cAAA,AAAU,AAAK,AACpB,AAAQ;AAHZ,AAAI,AAAwB,AAAQ,AAAC,AAAS,AAAS,AACrD,AAAS,AACT,KAFQ;AAER,AAAO,AAGR;;;AAbH,AAcE,AAAO,AAAK,AACb","file":"/imports/plugins/included/inventory/server/publications/inventory.js.map","sourcesContent":["import { Meteor } from \"meteor/meteor\";\nimport { Inventory } from \"/lib/collections\";\nimport { Reaction } from \"/server/api\";\n\nMeteor.publish(\"Inventory\", function () {\n  if (this.userId === null) {\n    return this.ready();\n  }\n  const shopId = Reaction.getShopId();\n  if (!shopId) {\n    return this.ready();\n  }\n  if (Roles.userIsInRole(this.userId, [\"admin\", \"owner\", \"createProduct\"],\n    shopId)) {\n    return Inventory.find({\n      shopId: shopId\n    });\n  }\n  return this.ready();\n});\n"]},"hash":"f7b319ee1cd0f979a771568cec59648850a2770a"}
