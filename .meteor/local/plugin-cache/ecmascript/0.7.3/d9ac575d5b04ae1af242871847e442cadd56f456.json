{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/social/client/templates/apps/twitter.js","filenameRelative":"/imports/plugins/included/social/client/templates/apps/twitter.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/social/client/templates/apps/twitter.js"],"names":["Template","twitter","onRendered","ref","data","placement","apps","profilePage","$","attr","autorun","template","instance","currentData","remove","property","content","appendTo","username","ref1","description","text","location","origin","pathname","title","media","test","preferredUrl","url","encodeURIComponent","base","ref2","href","events","event","preventDefault","window","open"],"mappings":"AAAA,AACA,A,qBACA;AACA;AACA,AAAS,AAAQ,AAAW,AAAY;AACtC,AAAI,SAAJ;MACA;;MAAI,KAAA,AAAK,KAAL,AAAU,cAAV,AAAwB,AAAa,YAAC,CAAC,CAAM,MAAK,KAAL,AAAU,KAAV,AAAe,KAAtB,AAAmC,aAAnC,AAA0C,OAAI,IAA9C,AAA4D,cAAK,KAAlE,AAAyE,OAAlH,AAAyH,MACvH;WAAO,KAAA,AAAK,EAAL,AAAO,kBAAP,AAAyB,KAAzB,AAA8B,QAAQ,KAAA,AAAK,KAAL,AAAU,KAAV,AAAe,QAA5D,AAAO,AAA6D,AACrE;AAJqC,AAKtC,AACA,IACA;;;;;kCACA;AAAO,QAAK,WAAL,AAAa,SAAY,AAC9B;QAAM,OAAW,SAAjB,AAAiB,AAAS,AAC1B;MAAM,AAAO,AAAS,8BAAtB,AAAa,AACb;MAAE;AACF,AAAE,gBAAU,AACV;eADU,AACA,AACV;AAHF,AAAgC,AAChC,OAEW,SAFC;;AAAZ,AAGG,aAHH,AAGY,KAHZ;;AAII,AAAK,kBAAT,AAAI,AAAU,AAAQ,AAAU,AAC9B;AAAA,AAAE,iBAAU,kBACV;AAFJ,kBACc,AACA,AACV;AAFU,AAED,AAAK,AAAK,AAAQ;;AAF7B,QAAA,AAGG,AAAS,AACb;;;AACD,AAAI,gBACJ;AAAM,wBAAc,AAAC,AAAC,SAAO,AAAK,SAAlC,AAAoB,AAAC,AAAQ,AAAU,AAAa,AAAO,AAAK,AAAc,AAAK,AAAM,AAAE,AAAqC,AAChI,AAAE;AAFF,OAEA,SAAY,AACV;;AACS,gBAFX,AAAY,AAED,AAAS,AAAS,AAAS;AACnC,eAHH,AAGY,KAHZ,KAIA,AAAE;AAJU,AACA,AACV,OAEF,SAAY,AACV;;AACS,gBAFX,AAAY,AAEI,AAAK;AAClB,eAHH,AAGY,AACZ,AAAE;AAJU,AACA,AACV,OAEF,SAAY,AACV;;aAAU,OADA,AAEV;WAAS,oCAFX,AAAY,AAGT;AAHH,AAGY;;AACZ,AAAS,oBAAO,AACd;AAAI,AAAC,wBAAL,AAAK,AAAkB,AAAK,AAAK,AAAQ,AACvC;AAFJ,AAAI,oBAGA;AAAA,AAAE,AAAU,AACV;AADU,AACA,AACV;;QAAS,AAAK,sDAFJ;AAAZ,QAGG,MAHH,AAGY,mBACb;eACF;;sGACD;QAAM,cAAe,AAAK,UAAL,AAAY,MAAS,WAA1C,AAAiC,AAAkB,AAAS,AAC5D;;QAAM,KAAM,aAAmB,UAA/B,AAAY,AACZ;AAAM,cAAO,4BAAb,AACA;AAAA,AAAI,AACJ;;AAAM,WAAO,WAAmB,AAAC,AAAC,uBAAO,AAAK,QAA9C,AAAa,AAAmB,AAAC,AAAQ,AAAU,AAAa,AAAO,AAAK,AAAQ,AAAK,AAAM,AAAK,AACpG;AAAA,AAAI,AAAO,AAAO,AAAU,AAAM,AAAW;AAC7C,AAAI,AAAK,AAAK,AAAQ,AAAU;AAC9B,SAAQ;;UAEV;WAAO,OAAA,AAAS,AAAE,cAAX,AAA6B,WAA7B,EAAP,AAAO,AAAkC,AAAQ,kDAClD;AAvDH,AAQE,AAAO,AAgDR,AAED,AAAS,AAAQ,AAAO,AACtB,AAAW,AAAU,AAAO,AAC1B,AAAM,AACN,AAAO,AAAO,AAAK,AAAS,AAAW,AAAE,AAAkB,AAAK,AAAS,AAAkB,AAC5F;AAVG,AAAkB,AAAK,AAAK,AAAQ,AACrC","file":"/imports/plugins/included/social/client/templates/apps/twitter.js.map","sourcesContent":["/* eslint-disable */\n//\n// TODO twitter social templates need review to ensure proper use of reaction layouts\n//\nTemplate.twitter.onRendered(function () {\n  let ref;\n  if (this.data.placement === \"footer\" && (((ref = this.data.apps.twitter) !== null ? ref.profilePage : void 0) !== null)) {\n    return this.$(\".twitter-share\").attr(\"href\", this.data.apps.twitter.profilePage);\n  }\n  //\n  // return twitter\n  //\n  return this.autorun(function () {\n    const template = Template.instance();\n    const data = Template.currentData();\n    $('meta[property^=\"twitter:\"]').remove();\n    $(\"<meta>\", {\n      property: \"twitter:card\",\n      content: \"summary\"\n    }).appendTo(\"head\");\n    if (data.apps.twitter.username) {\n      $(\"<meta>\", {\n        property: \"twitter:creator\",\n        content: data.apps.twitter.username\n      }).appendTo(\"head\");\n    }\n    let ref1;\n    const description = ((ref1 = data.apps.twitter) !== null ? ref1.description : void 0) || $(\".product-detail-field.description\").text();\n    $(\"<meta>\", {\n      property: \"twitter:url\",\n      content: location.origin + location.pathname\n    }).appendTo(\"head\");\n    $(\"<meta>\", {\n      property: \"twitter:title\",\n      content: \"\" + data.title\n    }).appendTo(\"head\");\n    $(\"<meta>\", {\n      property: \"twitter:description\",\n      content: description\n    }).appendTo(\"head\");\n    if (data.media) {\n      if (!/^http(s?):\\/\\/+/.test(data.media)) {\n        // let media = location.origin + data.media;\n        $(\"<meta>\", {\n          property: \"twitter:image\",\n          content: data.media\n        }).appendTo(\"head\");\n      }\n    }\n    const preferredUrl = data.url || location.origin + location.pathname;\n    const url = encodeURIComponent(preferredUrl);\n    const base = \"https://twitter.com/intent/tweet\";\n    let ref2;\n    const text = encodeURIComponent(((ref2 = data.apps.twitter) !== null ? ref2.title : void 0) || data.title);\n    let href = base + \"?url=\" + url + \"&text=\" + text;\n    if (data.apps.twitter.username) {\n      href += \"&via=\" + data.apps.twitter.username;\n    }\n    return template.$(\".twitter-share\").attr(\"href\", href);\n  });\n});\n\nTemplate.twitter.events({\n  \"click a\": function (event) {\n    event.preventDefault();\n    return window.open(Template.instance().$(\".twitter-share\").attr(\"href\"), \"twitter_window\", \"width=750, height=650\");\n  }\n});\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/social/client/templates/apps/twitter.js.map","sourceFileName":"/imports/plugins/included/social/client/templates/apps/twitter.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"twitter"},"ignored":false,"code":"/* eslint-disable */ //\n// TODO twitter social templates need review to ensure proper use of reaction layouts\n//\nTemplate.twitter.onRendered(function () {\n  var ref = void 0;\n\n  if (this.data.placement === \"footer\" && ((ref = this.data.apps.twitter) !== null ? ref.profilePage : void 0) !== null) {\n    return this.$(\".twitter-share\").attr(\"href\", this.data.apps.twitter.profilePage);\n  } //\n  // return twitter\n  //\n\n\n  return this.autorun(function () {\n    var template = Template.instance();\n    var data = Template.currentData();\n    $('meta[property^=\"twitter:\"]').remove();\n    $(\"<meta>\", {\n      property: \"twitter:card\",\n      content: \"summary\"\n    }).appendTo(\"head\");\n\n    if (data.apps.twitter.username) {\n      $(\"<meta>\", {\n        property: \"twitter:creator\",\n        content: data.apps.twitter.username\n      }).appendTo(\"head\");\n    }\n\n    var ref1 = void 0;\n    var description = ((ref1 = data.apps.twitter) !== null ? ref1.description : void 0) || $(\".product-detail-field.description\").text();\n    $(\"<meta>\", {\n      property: \"twitter:url\",\n      content: location.origin + location.pathname\n    }).appendTo(\"head\");\n    $(\"<meta>\", {\n      property: \"twitter:title\",\n      content: \"\" + data.title\n    }).appendTo(\"head\");\n    $(\"<meta>\", {\n      property: \"twitter:description\",\n      content: description\n    }).appendTo(\"head\");\n\n    if (data.media) {\n      if (!/^http(s?):\\/\\/+/.test(data.media)) {\n        // let media = location.origin + data.media;\n        $(\"<meta>\", {\n          property: \"twitter:image\",\n          content: data.media\n        }).appendTo(\"head\");\n      }\n    }\n\n    var preferredUrl = data.url || location.origin + location.pathname;\n    var url = encodeURIComponent(preferredUrl);\n    var base = \"https://twitter.com/intent/tweet\";\n    var ref2 = void 0;\n    var text = encodeURIComponent(((ref2 = data.apps.twitter) !== null ? ref2.title : void 0) || data.title);\n    var href = base + \"?url=\" + url + \"&text=\" + text;\n\n    if (data.apps.twitter.username) {\n      href += \"&via=\" + data.apps.twitter.username;\n    }\n\n    return template.$(\".twitter-share\").attr(\"href\", href);\n  });\n});\nTemplate.twitter.events({\n  \"click a\": function (event) {\n    event.preventDefault();\n    return window.open(Template.instance().$(\".twitter-share\").attr(\"href\"), \"twitter_window\", \"width=750, height=650\");\n  }\n});","map":{"version":3,"sources":["/imports/plugins/included/social/client/templates/apps/twitter.js"],"names":["Template","twitter","onRendered","ref","data","placement","apps","profilePage","$","attr","autorun","template","instance","currentData","remove","property","content","appendTo","username","ref1","description","text","location","origin","pathname","title","media","test","preferredUrl","url","encodeURIComponent","base","ref2","href","events","event","preventDefault","window","open"],"mappings":"AAAA,AACA,A,qBACA;AACA;AACA,AAAS,AAAQ,AAAW,AAAY;AACtC,AAAI,SAAJ;MACA;;MAAI,KAAA,AAAK,KAAL,AAAU,cAAV,AAAwB,AAAa,YAAC,CAAC,CAAM,MAAK,KAAL,AAAU,KAAV,AAAe,KAAtB,AAAmC,aAAnC,AAA0C,OAAI,IAA9C,AAA4D,cAAK,KAAlE,AAAyE,OAAlH,AAAyH,MACvH;WAAO,KAAA,AAAK,EAAL,AAAO,kBAAP,AAAyB,KAAzB,AAA8B,QAAQ,KAAA,AAAK,KAAL,AAAU,KAAV,AAAe,QAA5D,AAAO,AAA6D,AACrE;AAJqC,AAKtC,AACA,IACA;;;;;kCACA;AAAO,QAAK,WAAL,AAAa,SAAY,AAC9B;QAAM,OAAW,SAAjB,AAAiB,AAAS,AAC1B;MAAM,AAAO,AAAS,8BAAtB,AAAa,AACb;MAAE;AACF,AAAE,gBAAU,AACV;eADU,AACA,AACV;AAHF,AAAgC,AAChC,OAEW,SAFC;;AAAZ,AAGG,aAHH,AAGY,KAHZ;;AAII,AAAK,kBAAT,AAAI,AAAU,AAAQ,AAAU,AAC9B;AAAA,AAAE,iBAAU,kBACV;AAFJ,kBACc,AACA,AACV;AAFU,AAED,AAAK,AAAK,AAAQ;;AAF7B,QAAA,AAGG,AAAS,AACb;;;AACD,AAAI,gBACJ;AAAM,wBAAc,AAAC,AAAC,SAAO,AAAK,SAAlC,AAAoB,AAAC,AAAQ,AAAU,AAAa,AAAO,AAAK,AAAc,AAAK,AAAM,AAAE,AAAqC,AAChI,AAAE;AAFF,OAEA,SAAY,AACV;;AACS,gBAFX,AAAY,AAED,AAAS,AAAS,AAAS;AACnC,eAHH,AAGY,KAHZ,KAIA,AAAE;AAJU,AACA,AACV,OAEF,SAAY,AACV;;AACS,gBAFX,AAAY,AAEI,AAAK;AAClB,eAHH,AAGY,AACZ,AAAE;AAJU,AACA,AACV,OAEF,SAAY,AACV;;aAAU,OADA,AAEV;WAAS,oCAFX,AAAY,AAGT;AAHH,AAGY;;AACZ,AAAS,oBAAO,AACd;AAAI,AAAC,wBAAL,AAAK,AAAkB,AAAK,AAAK,AAAQ,AACvC;AAFJ,AAAI,oBAGA;AAAA,AAAE,AAAU,AACV;AADU,AACA,AACV;;QAAS,AAAK,sDAFJ;AAAZ,QAGG,MAHH,AAGY,mBACb;eACF;;sGACD;QAAM,cAAe,AAAK,UAAL,AAAY,MAAS,WAA1C,AAAiC,AAAkB,AAAS,AAC5D;;QAAM,KAAM,aAAmB,UAA/B,AAAY,AACZ;AAAM,cAAO,4BAAb,AACA;AAAA,AAAI,AACJ;;AAAM,WAAO,WAAmB,AAAC,AAAC,uBAAO,AAAK,QAA9C,AAAa,AAAmB,AAAC,AAAQ,AAAU,AAAa,AAAO,AAAK,AAAQ,AAAK,AAAM,AAAK,AACpG;AAAA,AAAI,AAAO,AAAO,AAAU,AAAM,AAAW;AAC7C,AAAI,AAAK,AAAK,AAAQ,AAAU;AAC9B,SAAQ;;UAEV;WAAO,OAAA,AAAS,AAAE,cAAX,AAA6B,WAA7B,EAAP,AAAO,AAAkC,AAAQ,kDAClD;AAvDH,AAQE,AAAO,AAgDR,AAED,AAAS,AAAQ,AAAO,AACtB,AAAW,AAAU,AAAO,AAC1B,AAAM,AACN,AAAO,AAAO,AAAK,AAAS,AAAW,AAAE,AAAkB,AAAK,AAAS,AAAkB,AAC5F;AAVG,AAAkB,AAAK,AAAK,AAAQ,AACrC","file":"/imports/plugins/included/social/client/templates/apps/twitter.js.map","sourcesContent":["/* eslint-disable */\n//\n// TODO twitter social templates need review to ensure proper use of reaction layouts\n//\nTemplate.twitter.onRendered(function () {\n  let ref;\n  if (this.data.placement === \"footer\" && (((ref = this.data.apps.twitter) !== null ? ref.profilePage : void 0) !== null)) {\n    return this.$(\".twitter-share\").attr(\"href\", this.data.apps.twitter.profilePage);\n  }\n  //\n  // return twitter\n  //\n  return this.autorun(function () {\n    const template = Template.instance();\n    const data = Template.currentData();\n    $('meta[property^=\"twitter:\"]').remove();\n    $(\"<meta>\", {\n      property: \"twitter:card\",\n      content: \"summary\"\n    }).appendTo(\"head\");\n    if (data.apps.twitter.username) {\n      $(\"<meta>\", {\n        property: \"twitter:creator\",\n        content: data.apps.twitter.username\n      }).appendTo(\"head\");\n    }\n    let ref1;\n    const description = ((ref1 = data.apps.twitter) !== null ? ref1.description : void 0) || $(\".product-detail-field.description\").text();\n    $(\"<meta>\", {\n      property: \"twitter:url\",\n      content: location.origin + location.pathname\n    }).appendTo(\"head\");\n    $(\"<meta>\", {\n      property: \"twitter:title\",\n      content: \"\" + data.title\n    }).appendTo(\"head\");\n    $(\"<meta>\", {\n      property: \"twitter:description\",\n      content: description\n    }).appendTo(\"head\");\n    if (data.media) {\n      if (!/^http(s?):\\/\\/+/.test(data.media)) {\n        // let media = location.origin + data.media;\n        $(\"<meta>\", {\n          property: \"twitter:image\",\n          content: data.media\n        }).appendTo(\"head\");\n      }\n    }\n    const preferredUrl = data.url || location.origin + location.pathname;\n    const url = encodeURIComponent(preferredUrl);\n    const base = \"https://twitter.com/intent/tweet\";\n    let ref2;\n    const text = encodeURIComponent(((ref2 = data.apps.twitter) !== null ? ref2.title : void 0) || data.title);\n    let href = base + \"?url=\" + url + \"&text=\" + text;\n    if (data.apps.twitter.username) {\n      href += \"&via=\" + data.apps.twitter.username;\n    }\n    return template.$(\".twitter-share\").attr(\"href\", href);\n  });\n});\n\nTemplate.twitter.events({\n  \"click a\": function (event) {\n    event.preventDefault();\n    return window.open(Template.instance().$(\".twitter-share\").attr(\"href\"), \"twitter_window\", \"width=750, height=650\");\n  }\n});\n"]},"hash":"d9ac575d5b04ae1af242871847e442cadd56f456"}
