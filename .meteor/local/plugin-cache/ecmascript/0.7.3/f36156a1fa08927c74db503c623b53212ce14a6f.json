{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"./variant","imported":["default"],"specifiers":[{"kind":"named","imported":"default","local":"Variant"}]},{"source":"/imports/plugins/core/ui/client/containers","imported":["EditContainer"],"specifiers":[{"kind":"named","imported":"EditContainer","local":"EditContainer"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["Divider","IconButton"],"specifiers":[{"kind":"named","imported":"Divider","local":"Divider"},{"kind":"named","imported":"IconButton","local":"IconButton"}]},{"source":"./","imported":["ChildVariant"],"specifiers":[{"kind":"named","imported":"ChildVariant","local":"ChildVariant"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/product-detail-simple/client/components/variantList.js","filenameRelative":"/imports/plugins/included/product-detail-simple/client/components/variantList.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/product-detail-simple/client/components/variantList.js"],"names":["React","Component","PropTypes","Variant","EditContainer","Divider","IconButton","ChildVariant","VariantList","handleVariantEditClick","event","editButtonProps","props","onEditVariant","data","handleVariantVisibilityClick","onVariantVisibiltyToggle","isVariantVisible","isVisible","handleChildleVariantClick","variant","onVariantClick","handleChildVariantEditClick","isSoldOut","renderVariants","variants","addButton","editable","onCreateVariant","map","index","displayPrice","_id","variantIsSelected","onMoveVariant","variantList","length","renderChildVariants","childVariants","childVariant","media","childVariantMedia","filter","mediaItem","metadata","variantId","render","propTypes","arrayOf","any","object","func","bool"],"mappings":"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","file":"/imports/plugins/included/product-detail-simple/client/components/variantList.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport Variant from \"./variant\";\nimport { EditContainer } from \"/imports/plugins/core/ui/client/containers\";\nimport { Divider, IconButton } from \"/imports/plugins/core/ui/client/components\";\nimport { ChildVariant } from \"./\";\n\nclass VariantList extends Component {\n\n  handleVariantEditClick = (event, editButtonProps) => {\n    if (this.props.onEditVariant) {\n      return this.props.onEditVariant(event, editButtonProps.data);\n    }\n    return true;\n  }\n\n  handleVariantVisibilityClick = (event, editButtonProps) => {\n    if (this.props.onVariantVisibiltyToggle) {\n      const isVariantVisible = !editButtonProps.data.isVisible;\n      this.props.onVariantVisibiltyToggle(event, editButtonProps.data, isVariantVisible);\n    }\n  }\n\n  handleChildleVariantClick = (event, variant) => {\n    if (this.props.onVariantClick) {\n      this.props.onVariantClick(event, variant, 1);\n    }\n  }\n\n  handleChildVariantEditClick = (event, editButtonProps) => {\n    if (this.props.onEditVariant) {\n      return this.props.onEditVariant(event, editButtonProps.data, 1);\n    }\n    return true;\n  }\n\n  isSoldOut(variant) {\n    if (this.props.isSoldOut) {\n      return this.props.isSoldOut(variant);\n    }\n\n    return false;\n  }\n\n  renderVariants() {\n    let variants = [];\n    let addButton;\n\n    if (this.props.editable) {\n      addButton = (\n        <div className=\"rui items flex\">\n          <div className=\"rui item full justify center\">\n            <IconButton\n              i18nKeyTooltip=\"variantList.createVariant\"\n              icon=\"fa fa-plus\"\n              primary={true}\n              tooltip=\"Create Variant\"\n              onClick={this.props.onCreateVariant}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    if (this.props.variants) {\n      variants = this.props.variants.map((variant, index) => {\n        const displayPrice = this.props.displayPrice && this.props.displayPrice(variant._id);\n\n        return (\n          <EditContainer\n            data={variant}\n            disabled={this.props.editable === false}\n            editView=\"variantForm\"\n            i18nKeyLabel=\"productDetailEdit.editVariant\"\n            key={index}\n            label=\"Edit Variant\"\n            onEditButtonClick={this.handleVariantEditClick}\n            onVisibilityButtonClick={this.handleVariantVisibilityClick}\n            permissions={[\"createProduct\"]}\n            showsVisibilityButton={true}\n          >\n            <Variant\n              displayPrice={displayPrice}\n              editable={this.props.editable}\n              index={index}\n              isSelected={this.props.variantIsSelected(variant._id)}\n              onClick={this.props.onVariantClick}\n              onMove={this.props.onMoveVariant}\n              soldOut={this.isSoldOut(variant)}\n              variant={variant}\n            />\n          </EditContainer>\n        );\n      });\n    }\n\n    const variantList = (\n      <ul className=\"variant-list list-unstyled\" id=\"variant-list\" key=\"variantList\">\n        {variants}\n        {addButton}\n      </ul>\n    );\n\n    if (variants.length === 0 && this.props.editable === false) {\n      return variantList;\n    } else if (variants.length > 1 || variants.length === 0) {\n      return [\n        <Divider\n          i18nKeyLabel=\"productDetail.options\"\n          key=\"dividerWithLabel\"\n          label=\"Options\"\n        />,\n        variantList\n      ];\n    } else if (variants.length === 1) {\n      return [\n        <Divider key=\"divider\" />,\n        variantList\n      ];\n    }\n\n    return variantList;\n  }\n\n  renderChildVariants() {\n    let childVariants = [];\n\n    if (this.props.childVariants) {\n      childVariants = this.props.childVariants.map((childVariant, index) => {\n        const media = this.props.childVariantMedia.filter((mediaItem) => {\n          if (mediaItem.metadata.variantId === childVariant._id) {\n            return true;\n          }\n          return false;\n        });\n\n        return (\n          <EditContainer\n            data={childVariant}\n            disabled={this.props.editable === false}\n            editView=\"variantForm\"\n            i18nKeyLabel=\"productDetailEdit.editVariant\"\n            key={index}\n            label=\"Edit Variant\"\n            onEditButtonClick={this.handleChildVariantEditClick}\n            onVisibilityButtonClick={this.handleVariantVisibilityClick}\n            permissions={[\"createProduct\"]}\n            showsVisibilityButton={true}\n          >\n            <ChildVariant\n              isSelected={this.props.variantIsSelected(childVariant._id)}\n              media={media}\n              onClick={this.handleChildleVariantClick}\n              variant={childVariant}\n            />\n          </EditContainer>\n        );\n      });\n    }\n\n    if (childVariants.length) {\n      return [\n        <Divider\n          key=\"availableOptionsDivider\"\n          i18nKeyLabel=\"productDetail.availableOptions\"\n          label=\"Available Options\"\n        />,\n        <div className=\"row variant-product-options\" key=\"childVariantList\">\n          {childVariants}\n        </div>\n      ];\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <div className=\"product-variants\">\n        {this.renderVariants()}\n        {this.renderChildVariants()}\n      </div>\n    );\n  }\n}\n\nVariantList.propTypes = {\n  childVariantMedia: PropTypes.arrayOf(PropTypes.any),\n  childVariants: PropTypes.arrayOf(PropTypes.object),\n  displayPrice: PropTypes.func,\n  editable: PropTypes.bool,\n  isSoldOut: PropTypes.func,\n  onCreateVariant: PropTypes.func,\n  onEditVariant: PropTypes.func,\n  onMoveVariant: PropTypes.func,\n  onVariantClick: PropTypes.func,\n  onVariantVisibiltyToggle: PropTypes.func,\n  variantIsSelected: PropTypes.func,\n  variants: PropTypes.arrayOf(PropTypes.object)\n};\n\nexport default VariantList;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/product-detail-simple/client/components/variantList.js.map","sourceFileName":"/imports/plugins/included/product-detail-simple/client/components/variantList.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"variantList"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar Variant = void 0;\nmodule.importSync(\"./variant\", {\n  \"default\": function (v) {\n    Variant = v;\n  }\n}, 1);\nvar EditContainer = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/containers\", {\n  EditContainer: function (v) {\n    EditContainer = v;\n  }\n}, 2);\nvar Divider = void 0,\n    IconButton = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  Divider: function (v) {\n    Divider = v;\n  },\n  IconButton: function (v) {\n    IconButton = v;\n  }\n}, 3);\nvar ChildVariant = void 0;\nmodule.importSync(\"./\", {\n  ChildVariant: function (v) {\n    ChildVariant = v;\n  }\n}, 4);\n\nvar VariantList = function (_Component) {\n  (0, _inherits3.default)(VariantList, _Component);\n\n  function VariantList() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, VariantList);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleVariantEditClick = function (event, editButtonProps) {\n      if (_this.props.onEditVariant) {\n        return _this.props.onEditVariant(event, editButtonProps.data);\n      }\n\n      return true;\n    }, _this.handleVariantVisibilityClick = function (event, editButtonProps) {\n      if (_this.props.onVariantVisibiltyToggle) {\n        var isVariantVisible = !editButtonProps.data.isVisible;\n\n        _this.props.onVariantVisibiltyToggle(event, editButtonProps.data, isVariantVisible);\n      }\n    }, _this.handleChildleVariantClick = function (event, variant) {\n      if (_this.props.onVariantClick) {\n        _this.props.onVariantClick(event, variant, 1);\n      }\n    }, _this.handleChildVariantEditClick = function (event, editButtonProps) {\n      if (_this.props.onEditVariant) {\n        return _this.props.onEditVariant(event, editButtonProps.data, 1);\n      }\n\n      return true;\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  VariantList.prototype.isSoldOut = function () {\n    function isSoldOut(variant) {\n      if (this.props.isSoldOut) {\n        return this.props.isSoldOut(variant);\n      }\n\n      return false;\n    }\n\n    return isSoldOut;\n  }();\n\n  VariantList.prototype.renderVariants = function () {\n    function renderVariants() {\n      var _this2 = this;\n\n      var variants = [];\n      var addButton = void 0;\n\n      if (this.props.editable) {\n        addButton = React.createElement(\n          \"div\",\n          {\n            className: \"rui items flex\"\n          },\n          React.createElement(\n            \"div\",\n            {\n              className: \"rui item full justify center\"\n            },\n            React.createElement(IconButton, {\n              i18nKeyTooltip: \"variantList.createVariant\",\n              icon: \"fa fa-plus\",\n              primary: true,\n              tooltip: \"Create Variant\",\n              onClick: this.props.onCreateVariant\n            })\n          )\n        );\n      }\n\n      if (this.props.variants) {\n        variants = this.props.variants.map(function (variant, index) {\n          var displayPrice = _this2.props.displayPrice && _this2.props.displayPrice(variant._id);\n\n          return React.createElement(\n            EditContainer,\n            {\n              data: variant,\n              disabled: _this2.props.editable === false,\n              editView: \"variantForm\",\n              i18nKeyLabel: \"productDetailEdit.editVariant\",\n              key: index,\n              label: \"Edit Variant\",\n              onEditButtonClick: _this2.handleVariantEditClick,\n              onVisibilityButtonClick: _this2.handleVariantVisibilityClick,\n              permissions: [\"createProduct\"],\n              showsVisibilityButton: true\n            },\n            React.createElement(Variant, {\n              displayPrice: displayPrice,\n              editable: _this2.props.editable,\n              index: index,\n              isSelected: _this2.props.variantIsSelected(variant._id),\n              onClick: _this2.props.onVariantClick,\n              onMove: _this2.props.onMoveVariant,\n              soldOut: _this2.isSoldOut(variant),\n              variant: variant\n            })\n          );\n        });\n      }\n\n      var variantList = React.createElement(\n        \"ul\",\n        {\n          className: \"variant-list list-unstyled\",\n          id: \"variant-list\",\n          key: \"variantList\"\n        },\n        variants,\n        addButton\n      );\n\n      if (variants.length === 0 && this.props.editable === false) {\n        return variantList;\n      } else if (variants.length > 1 || variants.length === 0) {\n        return [React.createElement(Divider, {\n          i18nKeyLabel: \"productDetail.options\",\n          key: \"dividerWithLabel\",\n          label: \"Options\"\n        }), variantList];\n      } else if (variants.length === 1) {\n        return [React.createElement(Divider, {\n          key: \"divider\"\n        }), variantList];\n      }\n\n      return variantList;\n    }\n\n    return renderVariants;\n  }();\n\n  VariantList.prototype.renderChildVariants = function () {\n    function renderChildVariants() {\n      var _this3 = this;\n\n      var childVariants = [];\n\n      if (this.props.childVariants) {\n        childVariants = this.props.childVariants.map(function (childVariant, index) {\n          var media = _this3.props.childVariantMedia.filter(function (mediaItem) {\n            if (mediaItem.metadata.variantId === childVariant._id) {\n              return true;\n            }\n\n            return false;\n          });\n\n          return React.createElement(\n            EditContainer,\n            {\n              data: childVariant,\n              disabled: _this3.props.editable === false,\n              editView: \"variantForm\",\n              i18nKeyLabel: \"productDetailEdit.editVariant\",\n              key: index,\n              label: \"Edit Variant\",\n              onEditButtonClick: _this3.handleChildVariantEditClick,\n              onVisibilityButtonClick: _this3.handleVariantVisibilityClick,\n              permissions: [\"createProduct\"],\n              showsVisibilityButton: true\n            },\n            React.createElement(ChildVariant, {\n              isSelected: _this3.props.variantIsSelected(childVariant._id),\n              media: media,\n              onClick: _this3.handleChildleVariantClick,\n              variant: childVariant\n            })\n          );\n        });\n      }\n\n      if (childVariants.length) {\n        return [React.createElement(Divider, {\n          key: \"availableOptionsDivider\",\n          i18nKeyLabel: \"productDetail.availableOptions\",\n          label: \"Available Options\"\n        }), React.createElement(\n          \"div\",\n          {\n            className: \"row variant-product-options\",\n            key: \"childVariantList\"\n          },\n          childVariants\n        )];\n      }\n\n      return null;\n    }\n\n    return renderChildVariants;\n  }();\n\n  VariantList.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        \"div\",\n        {\n          className: \"product-variants\"\n        },\n        this.renderVariants(),\n        this.renderChildVariants()\n      );\n    }\n\n    return render;\n  }();\n\n  return VariantList;\n}(Component);\n\nVariantList.propTypes = {\n  childVariantMedia: PropTypes.arrayOf(PropTypes.any),\n  childVariants: PropTypes.arrayOf(PropTypes.object),\n  displayPrice: PropTypes.func,\n  editable: PropTypes.bool,\n  isSoldOut: PropTypes.func,\n  onCreateVariant: PropTypes.func,\n  onEditVariant: PropTypes.func,\n  onMoveVariant: PropTypes.func,\n  onVariantClick: PropTypes.func,\n  onVariantVisibiltyToggle: PropTypes.func,\n  variantIsSelected: PropTypes.func,\n  variants: PropTypes.arrayOf(PropTypes.object)\n};\nmodule.export(\"default\", exports.default = VariantList);","map":{"version":3,"sources":["/imports/plugins/included/product-detail-simple/client/components/variantList.js"],"names":["React","Component","PropTypes","Variant","EditContainer","Divider","IconButton","ChildVariant","VariantList","handleVariantEditClick","event","editButtonProps","props","onEditVariant","data","handleVariantVisibilityClick","onVariantVisibiltyToggle","isVariantVisible","isVisible","handleChildleVariantClick","variant","onVariantClick","handleChildVariantEditClick","isSoldOut","renderVariants","variants","addButton","editable","onCreateVariant","map","index","displayPrice","_id","variantIsSelected","onMoveVariant","variantList","length","renderChildVariants","childVariants","childVariant","media","childVariantMedia","filter","mediaItem","metadata","variantId","render","propTypes","arrayOf","any","object","func","bool"],"mappings":"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","file":"/imports/plugins/included/product-detail-simple/client/components/variantList.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport Variant from \"./variant\";\nimport { EditContainer } from \"/imports/plugins/core/ui/client/containers\";\nimport { Divider, IconButton } from \"/imports/plugins/core/ui/client/components\";\nimport { ChildVariant } from \"./\";\n\nclass VariantList extends Component {\n\n  handleVariantEditClick = (event, editButtonProps) => {\n    if (this.props.onEditVariant) {\n      return this.props.onEditVariant(event, editButtonProps.data);\n    }\n    return true;\n  }\n\n  handleVariantVisibilityClick = (event, editButtonProps) => {\n    if (this.props.onVariantVisibiltyToggle) {\n      const isVariantVisible = !editButtonProps.data.isVisible;\n      this.props.onVariantVisibiltyToggle(event, editButtonProps.data, isVariantVisible);\n    }\n  }\n\n  handleChildleVariantClick = (event, variant) => {\n    if (this.props.onVariantClick) {\n      this.props.onVariantClick(event, variant, 1);\n    }\n  }\n\n  handleChildVariantEditClick = (event, editButtonProps) => {\n    if (this.props.onEditVariant) {\n      return this.props.onEditVariant(event, editButtonProps.data, 1);\n    }\n    return true;\n  }\n\n  isSoldOut(variant) {\n    if (this.props.isSoldOut) {\n      return this.props.isSoldOut(variant);\n    }\n\n    return false;\n  }\n\n  renderVariants() {\n    let variants = [];\n    let addButton;\n\n    if (this.props.editable) {\n      addButton = (\n        <div className=\"rui items flex\">\n          <div className=\"rui item full justify center\">\n            <IconButton\n              i18nKeyTooltip=\"variantList.createVariant\"\n              icon=\"fa fa-plus\"\n              primary={true}\n              tooltip=\"Create Variant\"\n              onClick={this.props.onCreateVariant}\n            />\n          </div>\n        </div>\n      );\n    }\n\n    if (this.props.variants) {\n      variants = this.props.variants.map((variant, index) => {\n        const displayPrice = this.props.displayPrice && this.props.displayPrice(variant._id);\n\n        return (\n          <EditContainer\n            data={variant}\n            disabled={this.props.editable === false}\n            editView=\"variantForm\"\n            i18nKeyLabel=\"productDetailEdit.editVariant\"\n            key={index}\n            label=\"Edit Variant\"\n            onEditButtonClick={this.handleVariantEditClick}\n            onVisibilityButtonClick={this.handleVariantVisibilityClick}\n            permissions={[\"createProduct\"]}\n            showsVisibilityButton={true}\n          >\n            <Variant\n              displayPrice={displayPrice}\n              editable={this.props.editable}\n              index={index}\n              isSelected={this.props.variantIsSelected(variant._id)}\n              onClick={this.props.onVariantClick}\n              onMove={this.props.onMoveVariant}\n              soldOut={this.isSoldOut(variant)}\n              variant={variant}\n            />\n          </EditContainer>\n        );\n      });\n    }\n\n    const variantList = (\n      <ul className=\"variant-list list-unstyled\" id=\"variant-list\" key=\"variantList\">\n        {variants}\n        {addButton}\n      </ul>\n    );\n\n    if (variants.length === 0 && this.props.editable === false) {\n      return variantList;\n    } else if (variants.length > 1 || variants.length === 0) {\n      return [\n        <Divider\n          i18nKeyLabel=\"productDetail.options\"\n          key=\"dividerWithLabel\"\n          label=\"Options\"\n        />,\n        variantList\n      ];\n    } else if (variants.length === 1) {\n      return [\n        <Divider key=\"divider\" />,\n        variantList\n      ];\n    }\n\n    return variantList;\n  }\n\n  renderChildVariants() {\n    let childVariants = [];\n\n    if (this.props.childVariants) {\n      childVariants = this.props.childVariants.map((childVariant, index) => {\n        const media = this.props.childVariantMedia.filter((mediaItem) => {\n          if (mediaItem.metadata.variantId === childVariant._id) {\n            return true;\n          }\n          return false;\n        });\n\n        return (\n          <EditContainer\n            data={childVariant}\n            disabled={this.props.editable === false}\n            editView=\"variantForm\"\n            i18nKeyLabel=\"productDetailEdit.editVariant\"\n            key={index}\n            label=\"Edit Variant\"\n            onEditButtonClick={this.handleChildVariantEditClick}\n            onVisibilityButtonClick={this.handleVariantVisibilityClick}\n            permissions={[\"createProduct\"]}\n            showsVisibilityButton={true}\n          >\n            <ChildVariant\n              isSelected={this.props.variantIsSelected(childVariant._id)}\n              media={media}\n              onClick={this.handleChildleVariantClick}\n              variant={childVariant}\n            />\n          </EditContainer>\n        );\n      });\n    }\n\n    if (childVariants.length) {\n      return [\n        <Divider\n          key=\"availableOptionsDivider\"\n          i18nKeyLabel=\"productDetail.availableOptions\"\n          label=\"Available Options\"\n        />,\n        <div className=\"row variant-product-options\" key=\"childVariantList\">\n          {childVariants}\n        </div>\n      ];\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <div className=\"product-variants\">\n        {this.renderVariants()}\n        {this.renderChildVariants()}\n      </div>\n    );\n  }\n}\n\nVariantList.propTypes = {\n  childVariantMedia: PropTypes.arrayOf(PropTypes.any),\n  childVariants: PropTypes.arrayOf(PropTypes.object),\n  displayPrice: PropTypes.func,\n  editable: PropTypes.bool,\n  isSoldOut: PropTypes.func,\n  onCreateVariant: PropTypes.func,\n  onEditVariant: PropTypes.func,\n  onMoveVariant: PropTypes.func,\n  onVariantClick: PropTypes.func,\n  onVariantVisibiltyToggle: PropTypes.func,\n  variantIsSelected: PropTypes.func,\n  variants: PropTypes.arrayOf(PropTypes.object)\n};\n\nexport default VariantList;\n"]},"hash":"f36156a1fa08927c74db503c623b53212ce14a6f"}
