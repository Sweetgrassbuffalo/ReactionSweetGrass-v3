{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","createClass","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Children","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Children","local":"Children"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"../","imported":["Button","Menu","Popover"],"specifiers":[{"kind":"named","imported":"Button","local":"Button"},{"kind":"named","imported":"Menu","local":"Menu"},{"kind":"named","imported":"Popover","local":"Popover"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/core/ui/client/components/menu/dropDownMenu.js","filenameRelative":"/imports/plugins/core/ui/client/components/menu/dropDownMenu.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/core/ui/client/components/menu/dropDownMenu.js"],"names":["React","Children","Component","PropTypes","Button","Menu","Popover","DropDownMenu","constructor","props","state","label","undefined","handleMenuItemChange","event","value","menuItem","setState","onChange","forEach","children","element","toArray","length","render","buttonElement","propTypes","node","isEnabled","bool","func","onPublishClick","revisions","arrayOf","object","translation","shape","lang","string","oneOfType","number"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;IAAA;;;OAAA,AAAsD,WAAtD;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AACE,AACA,AACA,AACK,AAEP,AAAM,AAAqB,AAAU,AACnC,AAAY,AAAO,AACjB,AAAM,AAEN,AAAK,AAAQ,AACX;;IAAO;;;AADT;AAGD;;qFAED;;UAKM,AAAK,AAAM,iCAAf,AAAyB,wBACvB;YAAA,AAAK,AAAM;uCANf,AAQC,AAED;AAJI,AAAoB,AAAO,AAC5B;;AAGC,UAAJ,MAAY,gBACV;AAAI,cAAQ,MAAK,SAAjB,AAAY,AAAW,OACvB;AAAA,AAAS,AAAQ,AAAK,AAAM,AAAU,AAAC,AAAY,AACjD;AAAA,AAAI,AAAQ,AAAM,AAAU,AAAK,AAAM,AAAO,AAC5C,AAAQ,AAAQ,AAAM,AACvB;;;AAdE,aAAL,AAAc,AACZ,AAAO,AAAS,AAAM,AAAS;AAFZ,AAAC,AAAO,AAAO,AAAa,AACjD;;AAAA,AAIA;;yBAqCI,AAAE;sBAAF;AAbJ,AAcE,AAAE,AAEL;;;AAtDkC,yEAyDrC;AAAa,kBAAb,AAAyB,AACvB;AAAe,uBADQ,AACE,AACzB;AAAU,mBAAU,KAFG,AAGvB,AAAW,AAAU,AACrB,AAAU,AAAU,AACpB,AAAgB,AAAU,AAC1B;;;;AAAW;;mBAAU,KAAV,AAAkB;AANN,AAMZ,AAA4B,2BACvC;;AAAa,qBAPf,AAAyB,AAOV,AAAU,AAAM,AAC3B,AAAM,AAAU,AAElB,AAAO,AAAU,AAAU,AAAC,AAAU,AAAQ,AAAU,AAAM,AAAU;;;AAG1E,AAAe;;;;;;;;AA7CV;;AAJD;+DAMA;AAAI,AAAC,YAAL,AAAY,4CACV;AAAM,kBAAW,cAAjB,AAAiB,AAAS,AAAQ,AAAK,AAAM;AAC7C;AAAA,AAAI,AAAS,AAAQ,AACnB,AAAO,AAAS,AAAG,AAAM,AAC1B;;kBACF;;;6BAED;AAAO,iBAAP,kBACD;;AAED,AAAS,AACP;;aACE,AAAC,AACC,AAAc,AACZ,AAAK,AAAM,AACX,AAAC,AACC,AAAK,AACL,AAAU,AAAC,AACX,AAAM,AAAC,AAAK;AAIhB,AAAC,AAAK,AAAM,AAAC,AAAK,AAAM,AAAO,AAAS,AAAC,AAAK,AAC5C,AAAC,AAAK,AAAM;;;EA9CL;;;;;;;;;;;;;;OAXV,OAAS,WAAhB,AAA0B,QAA1B,AAAqC","file":"/imports/plugins/core/ui/client/components/menu/dropDownMenu.js.map","sourcesContent":["import React, { Children, Component, PropTypes } from \"react\";\nimport {\n  Button,\n  Menu,\n  Popover\n} from \"../\";\n\nclass DropDownMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      label: undefined\n    };\n  }\n\n  handleMenuItemChange = (event, value, menuItem) => {\n    this.setState({\n      label: menuItem.props.label || value\n    });\n\n    if (this.props.onChange) {\n      this.props.onChange(event, value);\n    }\n  }\n\n  get label() {\n    let label = this.state.label;\n    Children.forEach(this.props.children, (element) => {\n      if (element.props.value === this.props.value) {\n        label = element.props.label;\n      }\n    });\n\n    if (!label) {\n      const children = Children.toArray(this.props.children);\n      if (children.length) {\n        return children[0].props.label;\n      }\n    }\n\n    return label;\n  }\n\n  render() {\n    return (\n      <Popover\n        buttonElement={\n          this.props.buttonElement ||\n          <Button\n            icon=\"fa fa-chevron-down\"\n            iconAfter={true}\n            label={this.label}\n          />\n        }\n      >\n        <Menu value={this.props.value} onChange={this.handleMenuItemChange}>\n          {this.props.children}\n        </Menu>\n      </Popover>\n    );\n  }\n}\n\nDropDownMenu.propTypes = {\n  buttonElement: PropTypes.node,\n  children: PropTypes.node,\n  isEnabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  onPublishClick: PropTypes.func,\n  revisions: PropTypes.arrayOf(PropTypes.object),\n  translation: PropTypes.shape({\n    lang: PropTypes.string\n  }),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.number])\n};\n\nexport default DropDownMenu;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/core/ui/client/components/menu/dropDownMenu.js.map","sourceFileName":"/imports/plugins/core/ui/client/components/menu/dropDownMenu.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"dropDownMenu"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Children = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Children: function (v) {\n    Children = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar Button = void 0,\n    Menu = void 0,\n    Popover = void 0;\nmodule.importSync(\"../\", {\n  Button: function (v) {\n    Button = v;\n  },\n  Menu: function (v) {\n    Menu = v;\n  },\n  Popover: function (v) {\n    Popover = v;\n  }\n}, 1);\n\nvar DropDownMenu = function (_Component) {\n  (0, _inherits3.default)(DropDownMenu, _Component);\n\n  function DropDownMenu(props) {\n    (0, _classCallCheck3.default)(this, DropDownMenu);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n    _this.handleMenuItemChange = function (event, value, menuItem) {\n      _this.setState({\n        label: menuItem.props.label || value\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(event, value);\n      }\n    };\n\n    _this.state = {\n      label: undefined\n    };\n    return _this;\n  }\n\n  DropDownMenu.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        Popover,\n        {\n          buttonElement: this.props.buttonElement || React.createElement(Button, {\n            icon: \"fa fa-chevron-down\",\n            iconAfter: true,\n            label: this.label\n          })\n        },\n        React.createElement(\n          Menu,\n          {\n            value: this.props.value,\n            onChange: this.handleMenuItemChange\n          },\n          this.props.children\n        )\n      );\n    }\n\n    return render;\n  }();\n\n  (0, _createClass3.default)(DropDownMenu, [{\n    key: \"label\",\n    get: function () {\n      var _this2 = this;\n\n      var label = this.state.label;\n      Children.forEach(this.props.children, function (element) {\n        if (element.props.value === _this2.props.value) {\n          label = element.props.label;\n        }\n      });\n\n      if (!label) {\n        var children = Children.toArray(this.props.children);\n\n        if (children.length) {\n          return children[0].props.label;\n        }\n      }\n\n      return label;\n    }\n  }]);\n  return DropDownMenu;\n}(Component);\n\nDropDownMenu.propTypes = {\n  buttonElement: PropTypes.node,\n  children: PropTypes.node,\n  isEnabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  onPublishClick: PropTypes.func,\n  revisions: PropTypes.arrayOf(PropTypes.object),\n  translation: PropTypes.shape({\n    lang: PropTypes.string\n  }),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.number])\n};\nmodule.export(\"default\", exports.default = DropDownMenu);","map":{"version":3,"sources":["/imports/plugins/core/ui/client/components/menu/dropDownMenu.js"],"names":["React","Children","Component","PropTypes","Button","Menu","Popover","DropDownMenu","constructor","props","state","label","undefined","handleMenuItemChange","event","value","menuItem","setState","onChange","forEach","children","element","toArray","length","render","buttonElement","propTypes","node","isEnabled","bool","func","onPublishClick","revisions","arrayOf","object","translation","shape","lang","string","oneOfType","number"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;IAAA;;;OAAA,AAAsD,WAAtD;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AACE,AACA,AACA,AACK,AAEP,AAAM,AAAqB,AAAU,AACnC,AAAY,AAAO,AACjB,AAAM,AAEN,AAAK,AAAQ,AACX;;IAAO;;;AADT;AAGD;;qFAED;;UAKM,AAAK,AAAM,iCAAf,AAAyB,wBACvB;YAAA,AAAK,AAAM;uCANf,AAQC,AAED;AAJI,AAAoB,AAAO,AAC5B;;AAGC,UAAJ,MAAY,gBACV;AAAI,cAAQ,MAAK,SAAjB,AAAY,AAAW,OACvB;AAAA,AAAS,AAAQ,AAAK,AAAM,AAAU,AAAC,AAAY,AACjD;AAAA,AAAI,AAAQ,AAAM,AAAU,AAAK,AAAM,AAAO,AAC5C,AAAQ,AAAQ,AAAM,AACvB;;;AAdE,aAAL,AAAc,AACZ,AAAO,AAAS,AAAM,AAAS;AAFZ,AAAC,AAAO,AAAO,AAAa,AACjD;;AAAA,AAIA;;yBAqCI,AAAE;sBAAF;AAbJ,AAcE,AAAE,AAEL;;;AAtDkC,yEAyDrC;AAAa,kBAAb,AAAyB,AACvB;AAAe,uBADQ,AACE,AACzB;AAAU,mBAAU,KAFG,AAGvB,AAAW,AAAU,AACrB,AAAU,AAAU,AACpB,AAAgB,AAAU,AAC1B;;;;AAAW;;mBAAU,KAAV,AAAkB;AANN,AAMZ,AAA4B,2BACvC;;AAAa,qBAPf,AAAyB,AAOV,AAAU,AAAM,AAC3B,AAAM,AAAU,AAElB,AAAO,AAAU,AAAU,AAAC,AAAU,AAAQ,AAAU,AAAM,AAAU;;;AAG1E,AAAe;;;;;;;;AA7CV;;AAJD;+DAMA;AAAI,AAAC,YAAL,AAAY,4CACV;AAAM,kBAAW,cAAjB,AAAiB,AAAS,AAAQ,AAAK,AAAM;AAC7C;AAAA,AAAI,AAAS,AAAQ,AACnB,AAAO,AAAS,AAAG,AAAM,AAC1B;;kBACF;;;6BAED;AAAO,iBAAP,kBACD;;AAED,AAAS,AACP;;aACE,AAAC,AACC,AAAc,AACZ,AAAK,AAAM,AACX,AAAC,AACC,AAAK,AACL,AAAU,AAAC,AACX,AAAM,AAAC,AAAK;AAIhB,AAAC,AAAK,AAAM,AAAC,AAAK,AAAM,AAAO,AAAS,AAAC,AAAK,AAC5C,AAAC,AAAK,AAAM;;;EA9CL;;;;;;;;;;;;;;OAXV,OAAS,WAAhB,AAA0B,QAA1B,AAAqC","file":"/imports/plugins/core/ui/client/components/menu/dropDownMenu.js.map","sourcesContent":["import React, { Children, Component, PropTypes } from \"react\";\nimport {\n  Button,\n  Menu,\n  Popover\n} from \"../\";\n\nclass DropDownMenu extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      label: undefined\n    };\n  }\n\n  handleMenuItemChange = (event, value, menuItem) => {\n    this.setState({\n      label: menuItem.props.label || value\n    });\n\n    if (this.props.onChange) {\n      this.props.onChange(event, value);\n    }\n  }\n\n  get label() {\n    let label = this.state.label;\n    Children.forEach(this.props.children, (element) => {\n      if (element.props.value === this.props.value) {\n        label = element.props.label;\n      }\n    });\n\n    if (!label) {\n      const children = Children.toArray(this.props.children);\n      if (children.length) {\n        return children[0].props.label;\n      }\n    }\n\n    return label;\n  }\n\n  render() {\n    return (\n      <Popover\n        buttonElement={\n          this.props.buttonElement ||\n          <Button\n            icon=\"fa fa-chevron-down\"\n            iconAfter={true}\n            label={this.label}\n          />\n        }\n      >\n        <Menu value={this.props.value} onChange={this.handleMenuItemChange}>\n          {this.props.children}\n        </Menu>\n      </Popover>\n    );\n  }\n}\n\nDropDownMenu.propTypes = {\n  buttonElement: PropTypes.node,\n  children: PropTypes.node,\n  isEnabled: PropTypes.bool,\n  onChange: PropTypes.func,\n  onPublishClick: PropTypes.func,\n  revisions: PropTypes.arrayOf(PropTypes.object),\n  translation: PropTypes.shape({\n    lang: PropTypes.string\n  }),\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.number])\n};\n\nexport default DropDownMenu;\n"]},"hash":"7d8b1a7c0056014c9ede21d20b259a55fafd2b33"}
