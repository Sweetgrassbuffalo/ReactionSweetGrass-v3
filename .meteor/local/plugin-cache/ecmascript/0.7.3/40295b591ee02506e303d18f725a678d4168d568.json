{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","extends","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"/imports/plugins/core/ui/client/components","imported":["CardGroup","SettingsCard","Form"],"specifiers":[{"kind":"named","imported":"CardGroup","local":"CardGroup"},{"kind":"named","imported":"SettingsCard","local":"SettingsCard"},{"kind":"named","imported":"Form","local":"Form"}]},{"source":"/lib/collections/schemas/social","imported":["SocialPackageConfig"],"specifiers":[{"kind":"named","imported":"SocialPackageConfig","local":"SocialPackageConfig"}]}],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/imports/plugins/included/social/client/components/settings.js","filenameRelative":"/imports/plugins/included/social/client/components/settings.js","inputSourceMap":{"version":3,"sources":["/imports/plugins/included/social/client/components/settings.js"],"names":["React","Component","PropTypes","CardGroup","SettingsCard","Form","SocialPackageConfig","socialProviders","name","icon","fields","SocialSettings","propTypes","onSettingChange","func","onSettingEnableChange","onSettingExpand","onSettingsSave","packageData","object","preferences","providers","arrayOf","string","socialSettings","getSchemaForField","provider","field","_schema","handleSettingChange","event","value","props","parts","split","handleSubmit","data","formName","doc","renderCards","Array","isArray","map","index","settings","apps","enabled","render"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;IAAA;;OAA4C,WAA5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AACE,AACA,AACA,AACK,AACP,AAAS,AAA2B,AAEpC,AAAM,AAAkB,AACtB,AACE,AAAM,AACN,AAAM,AACN,AAAQ,AAAC,AAAS,AAAa,AAEjC;AACE,IADF,AACQ;QAPc,AAMtB,AAGU,AAAC,AAAY,AAEvB;QACE;AAAM,WADR,sBAAA,AAEE,AAAM,AACN;AARF,AAEQ,AACN,CADA;QASA;AAAM,QADR,AAEE;AAAM,uBAlBc,AAgBtB,AAGE,AAAQ,AAAC;AAnBW,AAWtB,AAGU,AAAC,AAEX;QAOF;AAAM,QAAN,AAA6B,AAAU,AACrC;AAAO,WAAP,AAAmB,AACjB,AAAiB,AAAU,AAC3B;AA1BJ;QAwBqB,AAGA,AAAU,AAC3B;QAJiB,AAID,AAAU,AAC1B;WALF,AAAmB,AAKJ,AAAU,AACvB,AAAa,AAAU,AACvB,AAAW,AAAU,AAAQ,AAAU,AACvC,AAAgB,AAAU;AART,AAEM,AAAU,AACjC;;;;;;;;;;;;;;0JAmBF;6DAMA;YAAc,mBACZ;;AAAI,cAAM,MAAN,AAAc,gBAAlB,AAAI,MAAgC,cAClC;AAAO,AAAgB,AAAI,AAAC,AAAU,AAAU,AAC9C;AAAM,AAAM,AACV,AAAU,AACR,aAAG,yBAAK,OAAL,AAAW,MAAX,AAAuB,UADlB;4DADA;AAAZ,kDAMA;AACE,AAAC,AACC,AAAI,AAAC,AACL,AAAa,AAAE,AAAW,AAAS,AAAK,AACxC,AAAW,AAAC,AACZ,AAAS,AAAC,AAAK,AAAM,AACrB,AAAS,AAAC,AAAK,AAAM,AAAY,AAAS,AAC1C,AAAM,AAAC,AAAS,AAChB,AAAK,AAAC,AAAS,AACf,AAAQ,AAAC,AAAK,AAAM,AAAe,AAAS,AAAK,AAAS,AAAM,AAChE,AAAK,AAAC,AAAS,AACf,AAAe,AAAC,AAAK,AAAM;AAX/B,AAaI,AAAC,AACC,AAAO,AAAC,AACR,AAAI,AAAC,AACL,AAAQ,AAAE,AAAuB,AAAS,AAAK,AAC/C,AAAW,AAAC,AACT,AAAuB,AAAS,AAAK,AAExC,AAAK,AAAE,AAAuB,AAAS,AAAK,AAC5C,AAAS,AAAC,AAAK,AAEnB,AAAE,AAEL;;;2BAxCU,AAAC;+BAAD,AAAQ,UAAM,OAAd,AAA2B,AACxC;AAAI,aAAO,AAAK,AAAM,oBAAtB,AAAI,AAAqC,AAAY,mDACnD;AAAA,AAAK,AAAM,AAAe,AAAU,AAAK,AAC1C,AACF;;;;;2BAIG,AAAO;;AAiCR;;;8DAED;AAAO,cAAP;0EAGF,AAAS,AACP,AACE,AAAC,AACC,AAAC,AAAK,AACR;AANH;AAGC,AAGE,AAAE,AAEL;;;mBA3EoC;;0BA8EvC;AAAe,+BAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlEoB,mBAAlB,AAA4B,UAA5B,AAAmC,AACjC;AAAO,yBAAoB,UAA3B,AAAO,AAA6B,AAAuB,AAAS,AAAG,AAAM,AAC9E;;4BAED;eAAsB,AAAC,UAAD,AAAQ,AAAO,AAAS,AAC5C;AAAI,AAAO,eAAA,AAAK,AAAM,UAAtB,AAAI,AAAsC,AAAY,AACpD;AAAM,aAAQ,UAAA,AAAK,AAAM,QAAzB,AAAc,UACd;AAAA,AAAK,AAAM,4BAHf,AAGI,AAA2B,AAAM,AAAI,AAAM,AAAI,AAChD,AACF,AAED;AAXA;OA3CK,OAAS,WAAhB,AAA2B,QAA3B","file":"/imports/plugins/included/social/client/components/settings.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport {\n  CardGroup,\n  SettingsCard,\n  Form\n} from \"/imports/plugins/core/ui/client/components\";\nimport { SocialPackageConfig } from \"/lib/collections/schemas/social\";\n\nconst socialProviders = [\n  {\n    name: \"facebook\",\n    icon: \"fa fa-facebook\",\n    fields: [\"appId\", \"appSecret\", \"profilePage\"]\n  },\n  {\n    name: \"twitter\",\n    icon: \"fa fa-twitter\",\n    fields: [\"username\", \"profilePage\"]\n  },\n  {\n    name: \"pinterest\",\n    icon: \"fa fa-pinterest\",\n    fields: [\"profilePage\"]\n  },\n  {\n    name: \"googleplus\",\n    icon: \"fa fa-google-plus\",\n    fields: [\"profilePage\"]\n  }\n];\n\nclass SocialSettings extends Component {\n  static propTypes = {\n    onSettingChange: PropTypes.func,\n    onSettingEnableChange: PropTypes.func,\n    onSettingExpand: PropTypes.func,\n    onSettingsSave: PropTypes.func,\n    packageData: PropTypes.object,\n    preferences: PropTypes.object,\n    providers: PropTypes.arrayOf(PropTypes.string),\n    socialSettings: PropTypes.object\n  }\n\n  getSchemaForField(provider, field) {\n    return SocialPackageConfig._schema[`settings.public.apps.${provider}.${field}`];\n  }\n\n  handleSettingChange = (event, value, name) => {\n    if (typeof this.props.onSettingChange === \"function\") {\n      const parts = name.split(\".\");\n      this.props.onSettingChange(parts[0], parts[1], value);\n    }\n  }\n\n  handleSubmit = (event, data, formName) => {\n    if (typeof this.props.onSettingsSave === \"function\") {\n      this.props.onSettingsSave(formName, data.doc);\n    }\n  }\n\n  renderCards() {\n    if (Array.isArray(socialProviders)) {\n      return socialProviders.map((provider, index) => {\n        const doc = {\n          settings: {\n            ...this.props.packageData.settings\n          }\n        };\n\n        return (\n          <SettingsCard\n            key={index}\n            i18nKeyTitle={`settings.${provider.name}`}\n            expandable={true}\n            onExpand={this.props.onSettingExpand}\n            expanded={this.props.preferences[provider.name]}\n            title={provider.name}\n            name={provider.name}\n            enabled={this.props.socialSettings.settings.apps[provider.name].enabled}\n            icon={provider.icon}\n            onSwitchChange={this.props.onSettingEnableChange}\n          >\n            <Form\n              schema={SocialPackageConfig}\n              doc={doc}\n              docPath={`settings.public.apps.${provider.name}`}\n              hideFields={[\n                `settings.public.apps.${provider.name}.enabled`\n              ]}\n              name={`settings.public.apps.${provider.name}`}\n              onSubmit={this.handleSubmit}\n            />\n          </SettingsCard>\n        );\n      });\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <CardGroup>\n        {this.renderCards()}\n      </CardGroup>\n    );\n  }\n}\n\nexport default SocialSettings;\n"]},"env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/imports/plugins/included/social/client/components/settings.js.map","sourceFileName":"/imports/plugins/included/social/client/components/settings.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"settings"},"ignored":false,"code":"var _extends2 = require(\"babel-runtime/helpers/extends\");\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.importSync(\"react\", {\n  \"default\": function (v) {\n    React = v;\n  },\n  Component: function (v) {\n    Component = v;\n  },\n  PropTypes: function (v) {\n    PropTypes = v;\n  }\n}, 0);\nvar CardGroup = void 0,\n    SettingsCard = void 0,\n    Form = void 0;\nmodule.importSync(\"/imports/plugins/core/ui/client/components\", {\n  CardGroup: function (v) {\n    CardGroup = v;\n  },\n  SettingsCard: function (v) {\n    SettingsCard = v;\n  },\n  Form: function (v) {\n    Form = v;\n  }\n}, 1);\nvar SocialPackageConfig = void 0;\nmodule.importSync(\"/lib/collections/schemas/social\", {\n  SocialPackageConfig: function (v) {\n    SocialPackageConfig = v;\n  }\n}, 2);\nvar socialProviders = [{\n  name: \"facebook\",\n  icon: \"fa fa-facebook\",\n  fields: [\"appId\", \"appSecret\", \"profilePage\"]\n}, {\n  name: \"twitter\",\n  icon: \"fa fa-twitter\",\n  fields: [\"username\", \"profilePage\"]\n}, {\n  name: \"pinterest\",\n  icon: \"fa fa-pinterest\",\n  fields: [\"profilePage\"]\n}, {\n  name: \"googleplus\",\n  icon: \"fa fa-google-plus\",\n  fields: [\"profilePage\"]\n}];\n\nvar SocialSettings = function (_Component) {\n  (0, _inherits3.default)(SocialSettings, _Component);\n\n  function SocialSettings() {\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, SocialSettings);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.handleSettingChange = function (event, value, name) {\n      if (typeof _this.props.onSettingChange === \"function\") {\n        var parts = name.split(\".\");\n\n        _this.props.onSettingChange(parts[0], parts[1], value);\n      }\n    }, _this.handleSubmit = function (event, data, formName) {\n      if (typeof _this.props.onSettingsSave === \"function\") {\n        _this.props.onSettingsSave(formName, data.doc);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  SocialSettings.prototype.getSchemaForField = function () {\n    function getSchemaForField(provider, field) {\n      return SocialPackageConfig._schema[\"settings.public.apps.\" + provider + \".\" + field];\n    }\n\n    return getSchemaForField;\n  }();\n\n  SocialSettings.prototype.renderCards = function () {\n    function renderCards() {\n      var _this2 = this;\n\n      if (Array.isArray(socialProviders)) {\n        return socialProviders.map(function (provider, index) {\n          var doc = {\n            settings: (0, _extends3.default)({}, _this2.props.packageData.settings)\n          };\n          return React.createElement(\n            SettingsCard,\n            {\n              key: index,\n              i18nKeyTitle: \"settings.\" + provider.name,\n              expandable: true,\n              onExpand: _this2.props.onSettingExpand,\n              expanded: _this2.props.preferences[provider.name],\n              title: provider.name,\n              name: provider.name,\n              enabled: _this2.props.socialSettings.settings.apps[provider.name].enabled,\n              icon: provider.icon,\n              onSwitchChange: _this2.props.onSettingEnableChange\n            },\n            React.createElement(Form, {\n              schema: SocialPackageConfig,\n              doc: doc,\n              docPath: \"settings.public.apps.\" + provider.name,\n              hideFields: [\"settings.public.apps.\" + provider.name + \".enabled\"],\n              name: \"settings.public.apps.\" + provider.name,\n              onSubmit: _this2.handleSubmit\n            })\n          );\n        });\n      }\n\n      return null;\n    }\n\n    return renderCards;\n  }();\n\n  SocialSettings.prototype.render = function () {\n    function render() {\n      return React.createElement(\n        CardGroup,\n        null,\n        this.renderCards()\n      );\n    }\n\n    return render;\n  }();\n\n  return SocialSettings;\n}(Component);\n\nSocialSettings.propTypes = {\n  onSettingChange: PropTypes.func,\n  onSettingEnableChange: PropTypes.func,\n  onSettingExpand: PropTypes.func,\n  onSettingsSave: PropTypes.func,\n  packageData: PropTypes.object,\n  preferences: PropTypes.object,\n  providers: PropTypes.arrayOf(PropTypes.string),\n  socialSettings: PropTypes.object\n};\nmodule.export(\"default\", exports.default = SocialSettings);","map":{"version":3,"sources":["/imports/plugins/included/social/client/components/settings.js"],"names":["React","Component","PropTypes","CardGroup","SettingsCard","Form","SocialPackageConfig","socialProviders","name","icon","fields","SocialSettings","propTypes","onSettingChange","func","onSettingEnableChange","onSettingExpand","onSettingsSave","packageData","object","preferences","providers","arrayOf","string","socialSettings","getSchemaForField","provider","field","_schema","handleSettingChange","event","value","props","parts","split","handleSubmit","data","formName","doc","renderCards","Array","isArray","map","index","settings","apps","enabled","render"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;IAAA;;OAA4C,WAA5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GACA,AACE,AACA,AACA,AACK,AACP,AAAS,AAA2B,AAEpC,AAAM,AAAkB,AACtB,AACE,AAAM,AACN,AAAM,AACN,AAAQ,AAAC,AAAS,AAAa,AAEjC;AACE,IADF,AACQ;QAPc,AAMtB,AAGU,AAAC,AAAY,AAEvB;QACE;AAAM,WADR,sBAAA,AAEE,AAAM,AACN;AARF,AAEQ,AACN,CADA;QASA;AAAM,QADR,AAEE;AAAM,uBAlBc,AAgBtB,AAGE,AAAQ,AAAC;AAnBW,AAWtB,AAGU,AAAC,AAEX;QAOF;AAAM,QAAN,AAA6B,AAAU,AACrC;AAAO,WAAP,AAAmB,AACjB,AAAiB,AAAU,AAC3B;AA1BJ;QAwBqB,AAGA,AAAU,AAC3B;QAJiB,AAID,AAAU,AAC1B;WALF,AAAmB,AAKJ,AAAU,AACvB,AAAa,AAAU,AACvB,AAAW,AAAU,AAAQ,AAAU,AACvC,AAAgB,AAAU;AART,AAEM,AAAU,AACjC;;;;;;;;;;;;;;0JAmBF;6DAMA;YAAc,mBACZ;;AAAI,cAAM,MAAN,AAAc,gBAAlB,AAAI,MAAgC,cAClC;AAAO,AAAgB,AAAI,AAAC,AAAU,AAAU,AAC9C;AAAM,AAAM,AACV,AAAU,AACR,aAAG,yBAAK,OAAL,AAAW,MAAX,AAAuB,UADlB;4DADA;AAAZ,kDAMA;AACE,AAAC,AACC,AAAI,AAAC,AACL,AAAa,AAAE,AAAW,AAAS,AAAK,AACxC,AAAW,AAAC,AACZ,AAAS,AAAC,AAAK,AAAM,AACrB,AAAS,AAAC,AAAK,AAAM,AAAY,AAAS,AAC1C,AAAM,AAAC,AAAS,AAChB,AAAK,AAAC,AAAS,AACf,AAAQ,AAAC,AAAK,AAAM,AAAe,AAAS,AAAK,AAAS,AAAM,AAChE,AAAK,AAAC,AAAS,AACf,AAAe,AAAC,AAAK,AAAM;AAX/B,AAaI,AAAC,AACC,AAAO,AAAC,AACR,AAAI,AAAC,AACL,AAAQ,AAAE,AAAuB,AAAS,AAAK,AAC/C,AAAW,AAAC,AACT,AAAuB,AAAS,AAAK,AAExC,AAAK,AAAE,AAAuB,AAAS,AAAK,AAC5C,AAAS,AAAC,AAAK,AAEnB,AAAE,AAEL;;;2BAxCU,AAAC;+BAAD,AAAQ,UAAM,OAAd,AAA2B,AACxC;AAAI,aAAO,AAAK,AAAM,oBAAtB,AAAI,AAAqC,AAAY,mDACnD;AAAA,AAAK,AAAM,AAAe,AAAU,AAAK,AAC1C,AACF;;;;;2BAIG,AAAO;;AAiCR;;;8DAED;AAAO,cAAP;0EAGF,AAAS,AACP,AACE,AAAC,AACC,AAAC,AAAK,AACR;AANH;AAGC,AAGE,AAAE,AAEL;;;mBA3EoC;;0BA8EvC;AAAe,+BAAf;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlEoB,mBAAlB,AAA4B,UAA5B,AAAmC,AACjC;AAAO,yBAAoB,UAA3B,AAAO,AAA6B,AAAuB,AAAS,AAAG,AAAM,AAC9E;;4BAED;eAAsB,AAAC,UAAD,AAAQ,AAAO,AAAS,AAC5C;AAAI,AAAO,eAAA,AAAK,AAAM,UAAtB,AAAI,AAAsC,AAAY,AACpD;AAAM,aAAQ,UAAA,AAAK,AAAM,QAAzB,AAAc,UACd;AAAA,AAAK,AAAM,4BAHf,AAGI,AAA2B,AAAM,AAAI,AAAM,AAAI,AAChD,AACF,AAED;AAXA;OA3CK,OAAS,WAAhB,AAA2B,QAA3B","file":"/imports/plugins/included/social/client/components/settings.js.map","sourcesContent":["import React, { Component, PropTypes } from \"react\";\nimport {\n  CardGroup,\n  SettingsCard,\n  Form\n} from \"/imports/plugins/core/ui/client/components\";\nimport { SocialPackageConfig } from \"/lib/collections/schemas/social\";\n\nconst socialProviders = [\n  {\n    name: \"facebook\",\n    icon: \"fa fa-facebook\",\n    fields: [\"appId\", \"appSecret\", \"profilePage\"]\n  },\n  {\n    name: \"twitter\",\n    icon: \"fa fa-twitter\",\n    fields: [\"username\", \"profilePage\"]\n  },\n  {\n    name: \"pinterest\",\n    icon: \"fa fa-pinterest\",\n    fields: [\"profilePage\"]\n  },\n  {\n    name: \"googleplus\",\n    icon: \"fa fa-google-plus\",\n    fields: [\"profilePage\"]\n  }\n];\n\nclass SocialSettings extends Component {\n  static propTypes = {\n    onSettingChange: PropTypes.func,\n    onSettingEnableChange: PropTypes.func,\n    onSettingExpand: PropTypes.func,\n    onSettingsSave: PropTypes.func,\n    packageData: PropTypes.object,\n    preferences: PropTypes.object,\n    providers: PropTypes.arrayOf(PropTypes.string),\n    socialSettings: PropTypes.object\n  }\n\n  getSchemaForField(provider, field) {\n    return SocialPackageConfig._schema[`settings.public.apps.${provider}.${field}`];\n  }\n\n  handleSettingChange = (event, value, name) => {\n    if (typeof this.props.onSettingChange === \"function\") {\n      const parts = name.split(\".\");\n      this.props.onSettingChange(parts[0], parts[1], value);\n    }\n  }\n\n  handleSubmit = (event, data, formName) => {\n    if (typeof this.props.onSettingsSave === \"function\") {\n      this.props.onSettingsSave(formName, data.doc);\n    }\n  }\n\n  renderCards() {\n    if (Array.isArray(socialProviders)) {\n      return socialProviders.map((provider, index) => {\n        const doc = {\n          settings: {\n            ...this.props.packageData.settings\n          }\n        };\n\n        return (\n          <SettingsCard\n            key={index}\n            i18nKeyTitle={`settings.${provider.name}`}\n            expandable={true}\n            onExpand={this.props.onSettingExpand}\n            expanded={this.props.preferences[provider.name]}\n            title={provider.name}\n            name={provider.name}\n            enabled={this.props.socialSettings.settings.apps[provider.name].enabled}\n            icon={provider.icon}\n            onSwitchChange={this.props.onSettingEnableChange}\n          >\n            <Form\n              schema={SocialPackageConfig}\n              doc={doc}\n              docPath={`settings.public.apps.${provider.name}`}\n              hideFields={[\n                `settings.public.apps.${provider.name}.enabled`\n              ]}\n              name={`settings.public.apps.${provider.name}`}\n              onSubmit={this.handleSubmit}\n            />\n          </SettingsCard>\n        );\n      });\n    }\n\n    return null;\n  }\n\n  render() {\n    return (\n      <CardGroup>\n        {this.renderCards()}\n      </CardGroup>\n    );\n  }\n}\n\nexport default SocialSettings;\n"]},"hash":"40295b591ee02506e303d18f725a678d4168d568"}
