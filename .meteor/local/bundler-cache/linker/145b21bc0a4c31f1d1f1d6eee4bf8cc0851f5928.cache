[{"type":"js","data":"(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar ECMAScript = Package.ecmascript.ECMAScript;\nvar _ = Package.underscore._;\nvar ReactiveVar = Package['reactive-var'].ReactiveVar;\nvar meteorInstall = Package.modules.meteorInstall;\nvar Buffer = Package.modules.Buffer;\nvar process = Package.modules.process;\nvar Symbol = Package['ecmascript-runtime'].Symbol;\nvar Map = Package['ecmascript-runtime'].Map;\nvar Set = Package['ecmascript-runtime'].Set;\nvar meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nvar Promise = Package.promise.Promise;\n\n/* Package-scope variables */\nvar Stripe, StripeSync;\n\nvar require = meteorInstall({\"node_modules\":{\"meteor\":{\"jeremy:stripe\":{\"stripe_server.js\":function(require){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/jeremy_stripe/stripe_server.js                                                                            //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\nStripe = Npm.require(\"stripe\");                                                                                       // 2\n                                                                                                                      //\nStripeSync = function (key) {                                                                                         // 4\n  var resources = {                                                                                                   // 6\n    account: [\"create\", \"list\", \"update\", \"retrieve\"],                                                                // 7\n    accounts: [\"create\", \"list\", \"update\", \"retrieve\"],                                                               // 13\n    balance: [\"retrieve\", \"listTransactions\", \"retrieveTransaction\"],                                                 // 19\n    charges: [\"create\", \"list\", \"retrieve\", \"update\", \"setMetadata\", \"getMetadata\", \"capture\", \"refund\", \"updateDispute\", \"closeDispute\", \"createRefund\", \"listRefunds\", \"retrieveRefund\", \"updateRefund\", \"markAsSafe\", \"markAsFraudulent\"],\n    refunds: [\"create\", \"list\", \"update\", \"retrieve\"],                                                                // 42\n    coupons: [\"create\", \"list\", \"update\", \"retrieve\", \"del\"],                                                         // 48\n    customers: [\"create\", \"list\", \"update\", \"retrieve\", \"del\", \"setMetaData\", \"getMetadata\", \"createSubscription\", \"updateSubscription\", \"cancelSubscription\", \"listSubscriptions\", \"retrieveSubscription\", \"createSource\", \"listSources\", \"retrieveSource\", \"updateSource\", \"deleteSource\", \"createCard\", \"listCards\", \"retrieveCard\", \"updateCard\", \"deleteCard\", \"deleteDiscount\", \"deleteSubscriptionDiscount\"],\n    disputes: [\"list\", \"retrieve\", \"update\", \"setMetadata\", \"getMetadata\", \"close\"],                                  // 81\n    events: [\"list\", \"retrieve\"],                                                                                     // 89\n    invoices: [\"create\", \"list\", \"update\", \"retrieve\", \"retrieveLines\", \"retrieveUpcoming\", \"pay\"],                   // 93\n    invoiceItems: [\"create\", \"list\", \"update\", \"retrieve\", \"del\", \"setMetadata\", \"getMetadata\"],                      // 102\n    plans: [\"create\", \"list\", \"update\", \"retrieve\", \"del\"],                                                           // 111\n    recipientCards: [\"create\", \"list\", \"retrieve\", \"update\", \"del\"],                                                  // 118\n    recipients: [\"create\", \"list\", \"update\", \"retrieve\", \"del\", \"setMetadata\", \"getMetadata\", \"createCard\", \"listCards\", \"retrieveCard\", \"updateCard\", \"deleteCard\"],\n    tokens: [\"create\", \"retrieve\"],                                                                                   // 139\n    transfers: [\"create\", \"list\", \"update\", \"retrieve\", \"setMetadata\", \"getMetadata\", \"reverse\", \"cancel\", \"listTransactions\", \"createReversal\", \"listReversals\", \"retrieveReversal\", \"updateReversal\"],\n    applicationFees: [\"list\", \"retrieve\", \"refund\", \"createRefund\", \"listRefunds\", \"retrieveRefund\", \"updateRefund\"],\n    fileUploads: [\"retrieve\", \"list\", \"create\"],                                                                      // 167\n    bitcoinReceivers: [\"create\", \"retrieve\", \"list\", \"update\", \"setMetadata\", \"getMetadata\", \"listTransactions\"],     // 172\n    customerCards: [\"create\", \"list\", \"retrieve\", \"update\", \"del\"],                                                   // 181\n    customerSubscriptions: [\"create\", \"list\", \"retrieve\", \"update\", \"del\", \"deleteDiscount\"],                         // 188\n    chargeRefunds: [\"create\", \"list\", \"retrieve\", \"update\"],                                                          // 196\n    applicationFeeRefunds: [\"create\", \"list\", \"retrieve\", \"update\"],                                                  // 202\n    transferReversals: [\"create\", \"list\", \"retrieve\", \"update\"]                                                       // 208\n  };                                                                                                                  // 6\n  var stripeSync = Stripe(key);                                                                                       // 216\n                                                                                                                      //\n  _.each(resources, function (resource, key) {                                                                        // 218\n    _.each(resource, function (funcName) {                                                                            // 219\n      var stripeFunc = stripeSync[key][funcName];                                                                     // 220\n      stripeSync[key][funcName] = Meteor.wrapAsync(stripeFunc, stripeSync[key]);                                      // 221\n    });                                                                                                               // 222\n  });                                                                                                                 // 223\n                                                                                                                      //\n  return stripeSync;                                                                                                  // 225\n};                                                                                                                    // 226\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}}}}},{\"extensions\":[\".js\",\".json\"]});\nrequire(\"./node_modules/meteor/jeremy:stripe/stripe_server.js\");\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\n(function (pkg, symbols) {\n  for (var s in symbols)\n    (s in pkg) || (pkg[s] = symbols[s]);\n})(Package['jeremy:stripe'] = {}, {\n  Stripe: Stripe,\n  StripeSync: StripeSync\n});\n\n})();\n","servePath":"/packages/jeremy_stripe.js","sourceMap":{"version":3,"sources":["/packages/jeremy:stripe/stripe_server.js"],"names":["Stripe","Npm","require","StripeSync","key","resources","account","accounts","balance","charges","refunds","coupons","customers","disputes","events","invoices","invoiceItems","plans","recipientCards","recipients","tokens","transfers","applicationFees","fileUploads","bitcoinReceivers","customerCards","customerSubscriptions","chargeRefunds","applicationFeeRefunds","transferReversals","stripeSync","_","each","resource","funcName","stripeFunc","Meteor","wrapAsync"],"mappings":"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","file":"/packages/jeremy_stripe.js","sourcesContent":["\nStripe = Npm.require(\"stripe\");\n\nStripeSync = (key) => {\n\n  const resources = {\n    account: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\"\n    ],\n    accounts: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\"\n    ],\n    balance: [\n      \"retrieve\",\n      \"listTransactions\",\n      \"retrieveTransaction\"\n    ],\n    charges: [\n      \"create\",\n      \"list\",\n      \"retrieve\",\n      \"update\",\n      \"setMetadata\",\n      \"getMetadata\",\n      \"capture\",\n      \"refund\",\n      \"updateDispute\",\n      \"closeDispute\",\n      \"createRefund\",\n      \"listRefunds\",\n      \"retrieveRefund\",\n      \"updateRefund\",\n      \"markAsSafe\",\n      \"markAsFraudulent\"\n    ],\n    refunds: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\"\n    ],\n    coupons: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\",\n      \"del\"\n    ],\n    customers: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\",\n      \"del\",\n      \"setMetaData\",\n      \"getMetadata\",\n      \"createSubscription\",\n      \"updateSubscription\",\n      \"cancelSubscription\",\n      \"listSubscriptions\",\n      \"retrieveSubscription\",\n      \"createSource\",\n      \"listSources\",\n      \"retrieveSource\",\n      \"updateSource\",\n      \"deleteSource\",\n      \"createCard\",\n      \"listCards\",\n      \"retrieveCard\",\n      \"updateCard\",\n      \"deleteCard\",\n      \"deleteDiscount\",\n      \"deleteSubscriptionDiscount\",\n    ],\n    disputes: [\n      \"list\",\n      \"retrieve\",\n      \"update\",\n      \"setMetadata\",\n      \"getMetadata\",\n      \"close\"\n    ],\n    events: [\n      \"list\",\n      \"retrieve\"\n    ],\n    invoices: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\",\n      \"retrieveLines\",\n      \"retrieveUpcoming\",\n      \"pay\"\n    ],\n    invoiceItems: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\",\n      \"del\",\n      \"setMetadata\",\n      \"getMetadata\"\n    ],\n    plans: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\",\n      \"del\"\n    ],\n    recipientCards: [\n      \"create\",\n      \"list\",\n      \"retrieve\",\n      \"update\",\n      \"del\"\n    ],\n    recipients: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\",\n      \"del\",\n      \"setMetadata\",\n      \"getMetadata\",\n      \"createCard\",\n      \"listCards\",\n      \"retrieveCard\",\n      \"updateCard\",\n      \"deleteCard\"\n    ],\n    tokens: [\n      \"create\",\n      \"retrieve\"\n    ],\n    transfers: [\n      \"create\",\n      \"list\",\n      \"update\",\n      \"retrieve\",\n      \"setMetadata\",\n      \"getMetadata\",\n      \"reverse\",\n      \"cancel\",\n      \"listTransactions\",\n      \"createReversal\",\n      \"listReversals\",\n      \"retrieveReversal\",\n      \"updateReversal\"\n    ],\n    applicationFees: [\n      \"list\",\n      \"retrieve\",\n      \"refund\",\n      \"createRefund\",\n      \"listRefunds\",\n      \"retrieveRefund\",\n      \"updateRefund\",\n    ],\n    fileUploads: [\n      \"retrieve\",\n      \"list\",\n      \"create\"\n    ],\n    bitcoinReceivers: [\n      \"create\",\n      \"retrieve\",\n      \"list\",\n      \"update\",\n      \"setMetadata\",\n      \"getMetadata\",\n      \"listTransactions\"\n    ],\n    customerCards: [\n      \"create\",\n      \"list\",\n      \"retrieve\",\n      \"update\",\n      \"del\"\n    ],\n    customerSubscriptions: [\n      \"create\",\n      \"list\",\n      \"retrieve\",\n      \"update\",\n      \"del\",\n      \"deleteDiscount\"\n    ],\n    chargeRefunds: [\n      \"create\",\n      \"list\",\n      \"retrieve\",\n      \"update\"\n    ],\n    applicationFeeRefunds: [\n      \"create\",\n      \"list\",\n      \"retrieve\",\n      \"update\"\n    ],\n    transferReversals: [\n      \"create\",\n      \"list\",\n      \"retrieve\",\n      \"update\"\n    ]\n  };\n\n  let stripeSync = Stripe(key);\n\n  _.each(resources, (resource, key) => {\n    _.each(resource, (funcName) => {\n      const stripeFunc = stripeSync[key][funcName];\n      stripeSync[key][funcName] = Meteor.wrapAsync(stripeFunc, stripeSync[key]);\n    });\n  });\n\n  return stripeSync;\n};\n"]}}]